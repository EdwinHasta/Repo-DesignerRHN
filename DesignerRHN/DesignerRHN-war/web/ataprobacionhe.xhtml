<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
    </h:head>
    <h:body>
        <ui:composition template="/Template.xhtml">
            <ui:define name="body">                  
                <h:form id="form">
                    <f:loadBundle basename="Recursos.ataprobacionhe" var="msg" />
                    <p:growl id="growl" showDetail="true"/>

                    <p:panel  id="PanelTotal" header="#{msg['titulo']}" style="position: absolute; width: 874px; height: 510px; text-align: left">

                        <p:toolbar style=" position: absolute; top: 37px; left: 12px; height: 24px">  
                            <p:toolbarGroup align="left"> 

                                <p:commandButton id="guardarRapido" value="" style="background-image: url(Imagenes/guardar.jpg); background-size: 100% 100%; background-repeat: no-repeat; width: 25px; height: 25px; " actionListener="#{controlATAprobacionHE.guardadoGeneral()}" process="@this" />
                                <p:tooltip  for="guardarRapido" value="#{msg['guardar']}" />

                                <p:commandButton id="editar" value="" style="background-image: url(Imagenes/editar.jpg); background-size: 100% 100%; background-repeat: no-repeat; width: 25px; height: 25px " actionListener="#{controlATAprobacionHE.editarCelda()}" process="@this"
                                                 onclick="operacionEnProceso.show()" oncomplete="operacionEnProceso.hide()"/>
                                <p:tooltip  for="editar" value="#{msg['editar']}" />

                                <p:separator style="position: relative; top: -9px"/>

                                <p:commandButton id="listaValores" value="" style="background-image: url(Imagenes/lupa.png); background-size: 100% 100%; background-repeat: no-repeat; width: 25px; height: 25px " actionListener="#{controlATAprobacionHE.listaValoresBoton()}" process="@this"/>
                                <p:tooltip  for="listaValores" value="#{msg['lista']}" />

                                <p:commandButton id="filtrar" value="" style="background-image: url(Imagenes/embudo.jpg); background-size: 100% 100%; background-repeat: no-repeat; width: 25px; height: 25px " actionListener="#{controlATAprobacionHE.activarCtrlF11()}" process="@this"
                                                 onclick="operacionEnProceso.show()" oncomplete="operacionEnProceso.hide()"/>
                                <p:tooltip  for="filtrar" value="#{msg['filtrar']}" />

                                <p:separator style="position: relative; top: -9px"/>

                                <p:commandButton id="exportarXLS" value="" style="background-image: url(Imagenes/excel.png); background-size: 100% 100%; background-repeat: no-repeat; width: 25px; height: 25px " ajax="false" actionListener="#{controlATAprobacionHE.exportXLS()}" />
                                <p:tooltip  for="exportarXLS" value="#{msg['xls']}" />

                                <p:commandButton id="exportarXML" value="" style="background-image: url(Imagenes/XML.jpg); background-size: 100% 100%; background-repeat: no-repeat; width: 25px; height: 25px "  ajax="false">
                                    <p:dataExporter type="xml"  target="#{controlATAprobacionHE.obtenerTablaXML()}" fileName="#{controlATAprobacionHE.obtenerNombreArchivoXML()}" encoding="UTF-8"/> 
                                </p:commandButton> 
                                <p:tooltip  for="exportarXML" value="#{msg['xml']}" />

                                <p:commandButton id="exportarPDF" value="" style="background-image: url(Imagenes/pdf.jpg); background-size: 100% 100%; background-repeat: no-repeat; width: 25px; height: 25px " actionListener="#{controlATAprobacionHE.exportPDF()}" ajax="false"/>
                                <p:tooltip  for="exportarPDF" value="#{msg['pdf']}" />

                                <p:separator style="position: relative; top: -9px"/>

                                <p:commandButton id="insertar" value="" style="background-image: url(Imagenes/nuevoRegistro.jpg); background-size: 100% 100%; background-repeat: no-repeat; width: 25px; height: 25px " actionListener="#{controlATAprobacionHE.dispararDialogoNuevoRegistro()}" process="@this"/> 
                                <p:tooltip  for="insertar" value="#{msg['nuevo']}" />

                                <p:commandButton id="eliminar" value="" style="background-image: url(Imagenes/delete.jpg); background-size: 100% 100%; background-repeat: no-repeat; width: 25px; height: 25px " actionListener="#{controlATAprobacionHE.borrarRegistro()}" process="@this"/>  
                                <p:tooltip  for="eliminar" value="#{msg['eliminar']}" />

                                <p:commandButton id="duplicar" value="" style="background-image: url(Imagenes/duplicar.jpg); background-size: 100% 100%; background-repeat: no-repeat; width: 25px; height: 25px " actionListener="#{controlATAprobacionHE.duplicarRegistro()}"  process="@this"/>  
                                <p:tooltip  for="duplicar" value="#{msg['duplicar']}" />

                                <p:separator style="position: relative; top: -9px"/>

                                <p:commandButton id="rastro" value="" style="background-image: url(Imagenes/rastro.jpg); background-size: 100% 100%; background-repeat: no-repeat; width: 25px; height: 25px " actionListener="#{controlATAprobacionHE.validarRastro()}" process="@this"/>  
                                <p:tooltip  for="rastro" value="#{msg['rastro']}"/>

                                <p:separator style="position: relative; top: -9px"/>

                                <p:commandButton id="refrescar" value="" style="background-image: url(Imagenes/refrescar.png); background-size: 100% 100%; background-repeat: no-repeat; width: 25px; height: 25px " actionListener="#{controlATAprobacionHE.cancelarModificacion()}" process="@this"
                                                 onclick="operacionEnProceso.show()" oncomplete="operacionEnProceso.hide()"/>  
                                <p:tooltip  for="refrescar" value="#{msg['refrescar']}"/>

                                <p:commandButton id="salir" value="" style="background-image: url(Imagenes/salir.png); background-size: 100% 100%; background-repeat: no-repeat; width: 25px; height: 25px " actionListener="#{controlATAprobacionHE.salir()}" action="#{controlATAprobacionHE.redirigir()}" process="@this"/>  
                                <p:tooltip  for="salir" value="#{msg['salir']}"/>

                            </p:toolbarGroup>  
                        </p:toolbar> 

                        <fieldset style="position: absolute;top: 80px;left: 10px;height: 85px;width: 835px; border-radius: 10px; text-align: left">

                            <h:outputText value="" style="position: absolute; background-image: url(Imagenes/logoArrobaDesigner.jpg); width: 50px; height: 50px; top: 25px; left: 5px; background-repeat: no-repeat; background-size: 100% 100%; border: outset; border-width: 2px; border-width: 2px;" />

                            <strong><h:outputText style="position: absolute;top: 20px;left: 80px;text-transform: uppercase" value="#{msg['usuarioConectado']}:" /></strong>
                            <strong><h:outputText style="position: absolute;top: 20px;left: 250px;text-transform: uppercase; color: #00F" value="#{controlATAprobacionHE.actualUsuario.alias}" /></strong>

                            <strong><h:outputText style="position: absolute;top: 60px;left: 80px;text-transform: uppercase" value="#{msg['infoUsuario']}" /></strong>


                            <p:commandButton style="position: absolute; left: 683px; top: 10px;  " id="BUSCAR" value="#{msg['buscarEmpleados']}" actionListener="#{controlATAprobacionHE.dispararDialogoBuscarEmpleados()}" disabled="#{controlATAprobacionHE.activarBuscar}" process="@this" />
                            <p:commandButton style="position: absolute; left: 690px; top: 50px;  " id="MOSTRARTODOS"  value="#{msg['mostrarTodos']}" actionListener="#{controlATAprobacionHE.mostrarTodosEmpleados()}" disabled="#{controlATAprobacionHE.activarMostrarTodos}" process="@this" />
                        </fieldset> 

                        <script type="text/javascript">
                            var leftDiv = document.getElementById('inferiorIzquierda');
                            var rightDiv = document.getElementById('inferiorDerecha');
                            var rightDivSub = document.getElementById('inferiorDerechaSubtotalesEmpleado');
                            var topDiv = document.getElementById('superiorDerecha');

                            rightDiv.onscroll = function() {
                                leftDiv.scrollTop = rightDiv.scrollTop;

                            };
                            rightDivSub.onscroll = function() {
                                topDiv.scrollLeft = rightDivSub.scrollLeft;
                                rightDiv.scrollLeft = rightDivSub.scrollLeft;
                            };
                            leftDiv.onscroll = function() {
                                rightDiv.scrollTop = leftDiv.scrollTop;
                            };
                        </script>
                        <script>
                            $(function load() {
                                var $win = $(document.getElementById('inferiorDerecha'));
                                var $num = #{controlATAprobacionHE.obtenerNumeroScrollCabecera()};
                                $win.scroll(function() {
                                    if ($win.height() + $win.scrollTop() == $num) {
                                        operacionEnProceso.show();
                                        pruebaRemota();
                                    }
                                });
                            });
                        </script>

                        <p:remoteCommand name="pruebaRemota" actionListener="#{controlATAprobacionHE.pruebaRemota()}"/>

                        <fieldset  style="position: absolute; left: 10px; top: 180px;width: 835px; height: 140px; border-radius: 10px; ">
                            <legend style="color: blue;text-align:left"><strong>#{msg['conceptosAAprobar']}</strong></legend>

                            <div  id="superiorIzquierdo" style="height: 225px; width: 350px; overflow-y: hidden; position: absolute; left: 502px; top: -4px;" >
                                <p:dataTable id="tablaSuperiorIzquierda" var="infoCab"  rowKey="#{infoCab.secuencia}" style=" width: 350px; position: relative; top: 18px;" value="#{controlATAprobacionHE.listaEersCabeceras}"
                                             widgetVar="tablaSuperiorIzquierda" styleClass="hide-row-names" filteredValue="#{controlATAprobacionHE.filtrarListaEersCabeceras}"
                                             selection="#{controlATAprobacionHE.cabeceraSeleccionada}" selectionMode="single"
                                             >
                                    <p:ajax event="sort" onstart="operacionEnProceso.show()" oncomplete="operacionEnProceso.hide()" listener="#{controlATAprobacionHE.organizarTablas()}" />   
                                    <p:ajax event="filter" onstart="operacionEnProceso.show()" oncomplete="operacionEnProceso.hide()" listener="#{controlATAprobacionHE.eventoFiltrar()}"/>
                                    <!-- NO SE OLVIDE !!! 
                                    <p:ajax event="filter" update=":form:tablaInferiorDerecha, :form:tablaInferiorIzquierda"/> -->

                                    <p:column headerText="#{msg['aprobado']}" sortBy="#{infoCab.aprobado}" filterBy="#{infoCab.aprobado}" 
                                              filterMatchMode="contains" width="100" id="cabeceraAprobado" filterStyle="display: none; visibility: hidden;"   />

                                    <p:column headerText="#{msg['siguienteA']}" sortBy="#{infoCab.estructuraaprueba.nombre}" filterBy="#{infoCab.estructuraaprueba.nombre}" 
                                              filterMatchMode="contains" id="cabeceraEstructura" width="150" filterStyle="display: none; visibility: hidden;" />

                                </p:dataTable>
                            </div>

                            <div id="inferiorIzquierda"  style="height: #{controlATAprobacionHE.altoDivTablaInferiorIzquierda}; width: 370px; overflow-y: hidden; position: absolute; left: 502px; top: #{controlATAprobacionHE.topDivTablaInferiorIzquierda}" >

                                <p:dataTable id="tablaInferiorIzquierda" style=" width: 292px;" rowIndexVar="indiceCab"  value="#{controlATAprobacionHE.listaEersCabeceras}"
                                             var="infoCab"  rowKey="#{infoCab.secuencia}" scrollable="true" scrollWidth="347" 
                                             widgetVar="tablaInferiorIzquierda" styleClass="hide-column-names"   editable="true" editMode="cell" 
                                             filteredValue="#{controlATAprobacionHE.filtrarListaEersCabeceras}" emptyMessage="#{msg['vacio']}"
                                             selection="#{controlATAprobacionHE.cabeceraSeleccionada}" selectionMode="single"
                                             rows="#{controlATAprobacionHE.rowsCabecera}"
                                             >

                                    <p:column  sortBy="#{infoCab.aprobado}"  filterBy="#{infoCab.aprobado}" 
                                               filterMatchMode="contains" width="69" id="cabeceraAprobado" filterStyle="display: none; visibility: hidden;"   >                                  
                                        <p:cellEditor>  
                                            <f:facet name="output"><h:outputText value="#{infoCab.aprobado}" /></f:facet>  
                                            <f:facet name="input">
                                                <p:inputText  value="#{infoCab.aprobado}" maxlength="1" id="editarAprobadoCabecera" style="border-radius: 0px; width: 98.5%;text-transform: uppercase"> 
                                                    <p:ajax event="change" listener="#{controlATAprobacionHE.modificarCabecera(indiceCab)}"/>
                                                    <p:ajax event="select" listener="#{controlATAprobacionHE.cambiarIndiceCabecera(indiceCab, 0)}" />
                                                </p:inputText>
                                            </f:facet>  
                                        </p:cellEditor>
                                    </p:column>

                                    <p:column  sortBy="#{infoCab.estructuraaprueba.nombre}" filterBy="#{estructuraaprueba.nombre}" 
                                               filterMatchMode="contains" id="cabeceraEstructura" width="96" filterStyle="display: none; visibility: hidden;" >                                  
                                        <p:cellEditor>  
                                            <f:facet name="output"><h:outputText value="#{infoCab.estructuraaprueba.nombre}" /></f:facet>  
                                            <f:facet name="input">
                                                <p:inputText value="#{infoCab.estructuraaprueba.nombre}" readonly="true" id="editarEstructuraCabecera" style="border-radius: 0px; width: 98.5%;">    
                                                    <p:ajax event="change" listener="#{controlATAprobacionHE.modificarCabecera(indiceCab, 'ESTRUCTURA', infoCab.estructuraaprueba.nombre)}"/>
                                                    <p:ajax event="select" listener="#{controlATAprobacionHE.cambiarIndiceCabecera(indiceCab, 1)}" />
                                                    <p:ajax event="dblclick" listener="#{controlATAprobacionHE.asignarIndex(indiceCab, 0)}"/>        
                                                </p:inputText>
                                            </f:facet>  
                                        </p:cellEditor>
                                    </p:column>  

                                </p:dataTable>
                            </div>

                            <div id="inferiorDerechaSubtotalesEmpleado" style="height: 42px; width: 490px; overflow-y: hidden; position: absolute; top: 107px;" >
                                <fieldset style="width: 1435px; visibility: hidden"></fieldset>

                            </div>

                            <div id="superiorDerecha" style="height: 75px; width: 488px; overflow-x: hidden; position: absolute; top: -10px" >

                                <p:dataTable id="tablaSuperiorDerecha" var="infoCab" style=" width: 1450px; position: absolute; top: 24px;" value="#{controlATAprobacionHE.listaEersCabeceras}"
                                             widgetVar="tablaSuperiorDerecha" styleClass="hide-row-names" rowKey="#{infoCab.secuencia}" 
                                             filteredValue="#{controlATAprobacionHE.filtrarListaEersCabeceras}"
                                             selection="#{controlATAprobacionHE.cabeceraSeleccionada}" selectionMode="single"
                                             >

                                    <p:ajax event="filter" onstart="operacionEnProceso.show()" oncomplete="operacionEnProceso.hide()" listener="#{controlATAprobacionHE.eventoFiltrar()}"/>
                                    <p:ajax event="sort" onstart="operacionEnProceso.show()" oncomplete="operacionEnProceso.hide()" listener="#{controlATAprobacionHE.organizarTablas()}" />   
                                  <!--  <p:ajax event="sort" listener="#{controlRemoto.recargar()}" /> 
                                    <p:ajax event="filter" update=":form:tablaInferiorDerecha, :form:tablaInferiorIzquierda"/> -->


                                    <p:column headerText="#{msg['numDocumento']}" style="height: 16px" sortBy="#{infoCab.empleado.persona.strNumeroDocumento}" filterBy="#{infoCab.empleado.persona.strNumeroDocumento}" 
                                              filterMatchMode="contains" id="cabeceraNumDocumento" width="80" filterStyle="display: none; visibility: hidden;" />
                                    <p:column headerText="#{msg['nombreEmpleado']}" style="height: 16px" sortBy="#{infoCab.empleado.persona.nombreCompleto}" filterBy="#{infoCab.empleado.persona.nombreCompleto}" 
                                              filterMatchMode="contains" id="cabeceraNombreEmpleado" width="30" filterStyle="display: none; visibility: hidden;" />
                                    <p:column headerText="#{msg['horas']}" style="height: 16px" sortBy="#{infoCab.horas}" filterBy="#{infoCab.horas}" 
                                              filterMatchMode="contains" id="cabeceraHoras" width="20" filterStyle="display: none; visibility: hidden;" />
                                    <p:column headerText="#{msg['minutos']}" style="height: 16px" sortBy="#{infoCab.minutos}" filterBy="#{infoCab.horas}" 
                                              filterMatchMode="contains" id="cabeceraMinutos" width="20" filterStyle="display: none; visibility: hidden;" />
                                    <p:column headerText="#{msg['novedad']}" style="height: 16px" sortBy="#{infoCab.tipoeer}" filterBy="#{infoCab.tipoeer}" 
                                              filterMatchMode="contains" id="cabeceraNovedad" width="20" filterStyle="display: none; visibility: hidden;" />
                                    <p:column headerText="#{msg['estado']}" style="height: 16px" sortBy="#{infoCab.estado}" filterBy="#{infoCab.estado}" 
                                              filterMatchMode="contains" id="cabeceraEstado" width="20" filterStyle="display: none; visibility: hidden;" />
                                    <p:column headerText="#{msg['paso']}" style="height: 16px" sortBy="#{infoCab.eerestado.descripcion}" filterBy="#{infoCab.eerestado.descripcion}" 
                                              filterMatchMode="contains" id="cabeceraPaso" width="20" filterStyle="display: none; visibility: hidden;" />
                                    <p:column headerText="#{msg['fechaPago']}" style="height: 16px" sortBy="#{infoCab.fechapago}" filterBy="#{infoCab.fechapago}" 
                                              filterMatchMode="contains" id="cabeceraFechaPago" width="20" filterStyle="display: none; visibility: hidden;" />
                                    <p:column headerText="#{msg['observaciones']}" style="height: 16px" sortBy="#{infoCab.comentario}" filterBy="#{infoCab.comentario}" 
                                              filterMatchMode="contains" id="cabeceraObservaciones" width="20" filterStyle="display: none; visibility: hidden;" />

                                </p:dataTable>
                            </div> 


                            <div id="inferiorDerecha" style="height: #{controlATAprobacionHE.altoDivTablaInferiorDerecha}; width: 504px; overflow-x: hidden; position: absolute; top: #{controlATAprobacionHE.topDivTablaInferiorDerecha};" >
                                <p:dataTable id="tablaInferiorDerecha" style="width: 1425px;overflow: hidden" rowIndexVar="indiceCab" value="#{controlATAprobacionHE.listaEersCabeceras}"
                                             var="infoCab"  rowKey="#{infoCab.secuencia}" scrollable="true" scrollWidth="2650"  
                                             widgetVar="tablaInferiorDerecha" styleClass="hide-column-names"   editable="true" editMode="cell" 
                                             filteredValue="#{controlATAprobacionHE.filtrarListaEersCabeceras}" emptyMessage="..."
                                             selection="#{controlATAprobacionHE.cabeceraSeleccionada}" selectionMode="single"
                                             rows="#{controlATAprobacionHE.rowsCabecera}"
                                             >

                                    <p:column   style="height: 16px" sortBy="#{infoCab.empleado.persona.strNumeroDocumento}" filterBy="#{infoCabempleado.empleado.persona.strNumeroDocumento}" 
                                                filterMatchMode="contains" id="cabeceraNumDocumento" width="91" filterStyle="display: none; visibility: hidden;" >                                  
                                        <p:cellEditor>  
                                            <f:facet name="output"><h:outputText value="#{infoCab.empleado.persona.strNumeroDocumento}" /></f:facet>  
                                            <f:facet name="input">
                                                <p:inputText value="#{infoCab.empleado.persona.strNumeroDocumento}" readonly="true" id="editarNumDocumentoCabecera" style="border-radius: 0px; width: 98.5%;"
                                                             onselect="posicionCabecera([{name: 'n', value: '2'}, {name: 't', value: '#{indiceCab}'}]);"
                                                             /> 
                                            </f:facet>  
                                        </p:cellEditor>
                                    </p:column>  

                                    <p:column  style="height: 16px" sortBy="#{infoCab.empleado.persona.nombreCompleto}" filterBy="#{infoCab.empleado.persona.nombreCompleto}" 
                                               filterMatchMode="contains" id="cabeceraNombreEmpleado" width="29" filterStyle="display: none; visibility: hidden;" >                                  
                                        <p:cellEditor>  
                                            <f:facet name="output"><h:outputText value="#{infoCab.empleado.persona.nombreCompleto}" /></f:facet>  
                                            <f:facet name="input">
                                                <p:inputText value="#{infoCab.empleado.persona.nombreCompleto}" readonly="true" id="editarNombreEmpleadoCabecera" style="border-radius: 0px; width: 98.5%;"
                                                             onselect="posicionCabecera([{name: 'n', value: '3'}, {name: 't', value: '#{indiceCab}'}]);"
                                                             /> 
                                            </f:facet>  
                                        </p:cellEditor>
                                    </p:column>  

                                    <p:column style="height: 16px" sortBy="#{infoCab.horas}" filterBy="#{infoCab.horas}" 
                                              filterMatchMode="contains" id="cabeceraHoras" width="23" filterStyle="display: none; visibility: hidden;" >                                  
                                        <p:cellEditor>  
                                            <f:facet name="output"><h:outputText value="#{infoCab.horas}" /></f:facet>  
                                            <f:facet name="input">
                                                <p:inputText value="#{infoCab.horas}" readonly="true" id="editarHorasCabecera" style="border-radius: 0px; width: 98.5%;"
                                                             onselect="posicionCabecera([{name: 'n', value: '4'}, {name: 't', value: '#{indiceCab}'}]);"
                                                             /> 
                                            </f:facet>  
                                        </p:cellEditor>
                                    </p:column>  

                                    <p:column style="height: 16px" sortBy="#{infoCab.minutos}" filterBy="#{infoCab.minutos}" 
                                              filterMatchMode="contains" id="cabeceraMinutos" width="23" filterStyle="display: none; visibility: hidden;" >                                  
                                        <p:cellEditor>  
                                            <f:facet name="output"><h:outputText value="#{infoCab.minutos}" /></f:facet>  
                                            <f:facet name="input">
                                                <p:inputText value="#{infoCab.minutos}" readonly="true" id="editarMinutosCabecera" style="border-radius: 0px; width: 98.5%;"
                                                             onselect="posicionCabecera([{name: 'n', value: '5'}, {name: 't', value: '#{indiceCab}'}]);"
                                                             /> 
                                            </f:facet>  
                                        </p:cellEditor>
                                    </p:column>  

                                    <p:column style="height: 16px" sortBy="#{infoCab.tipoeer}" filterBy="#{infoCab.tipoeer}" 
                                              filterMatchMode="contains" id="cabeceraNovedad" width="23" filterStyle="display: none; visibility: hidden;" >                                  
                                        <p:cellEditor>  
                                            <f:facet name="output"><h:outputText value="#{infoCab.tipoeer}" /></f:facet>  
                                            <f:facet name="input">
                                                <p:inputText value="#{infoCab.tipoeer}" readonly="true" id="editarNovedadCabecera" style="border-radius: 0px; width: 98.5%;"
                                                             onselect="posicionCabecera([{name: 'n', value: '6'}, {name: 't', value: '#{indiceCab}'}]);"
                                                             /> 
                                            </f:facet>  
                                        </p:cellEditor>
                                    </p:column>  

                                    <p:column style="height: 16px" sortBy="#{infoCab.estado}" filterBy="#{infoCab.estado}" 
                                              filterMatchMode="contains" id="cabeceraEstado" width="23" filterStyle="display: none; visibility: hidden;" >                                  
                                        <p:cellEditor>  
                                            <f:facet name="output"><h:outputText value="#{infoCab.estado}" /></f:facet>  
                                            <f:facet name="input">
                                                <p:inputText value="#{infoCab.estado}" readonly="true" id="editarEstadoCabecera" style="border-radius: 0px; width: 98.5%;"
                                                             onselect="posicionCabecera([{name: 'n', value: '7'}, {name: 't', value: '#{indiceCab}'}]);"
                                                             /> 
                                            </f:facet>  
                                        </p:cellEditor>
                                    </p:column>  

                                    <p:column style="height: 16px" sortBy="#{infoCab.eerestado.descripcion}" filterBy="#{infoCab.eerestado.descripcion}" 
                                              filterMatchMode="contains" id="cabeceraPaso" width="23" filterStyle="display: none; visibility: hidden;" >                                  
                                        <p:cellEditor>  
                                            <f:facet name="output"><h:outputText value="#{infoCab.eerestado.descripcion}" /></f:facet>  
                                            <f:facet name="input">
                                                <p:inputText value="#{infoCab.eerestado.descripcion}" readonly="true" id="editarPasoCabecera" style="border-radius: 0px; width: 98.5%;"
                                                             onselect="posicionCabecera([{name: 'n', value: '8'}, {name: 't', value: '#{indiceCab}'}]);"
                                                             /> 
                                            </f:facet>  
                                        </p:cellEditor>
                                    </p:column>  


                                    <p:column  sortBy="#{infoCab.fechapago}" filterBy="#{infoCab.fechapago}" 
                                               filterMatchMode="contains" width="85" id="cabeceraFechaPago" filterStyle="display: none; visibility: hidden;"   >                                  
                                        <p:cellEditor>  
                                            <f:facet name="output">
                                                <h:outputText value="#{infoCab.fechapago}" >
                                                    <f:convertDateTime pattern="dd/MM/yyyy" />
                                                </h:outputText>
                                            </f:facet>  
                                            <f:facet name="input">
                                                <p:inputText value="#{infoCab.fechapago}" readonly="true" id="editarFechaPagoCabecera" style="border-radius: 0px; width: 98.5%;"
                                                             onselect="posicionCabecera([{name: 'n', value: '9'}, {name: 't', value: '#{indiceCab}'}]);"
                                                             /> 
                                            </f:facet>   
                                        </p:cellEditor>
                                    </p:column>

                                    <p:column style="height: 16px" sortBy="#{infoCab.comentario}" filterBy="#{infoCab.comentario}" 
                                              filterMatchMode="contains" id="cabeceraObservaciones" width="23" filterStyle="display: none; visibility: hidden;" >                                  
                                        <p:cellEditor>  
                                            <f:facet name="output"><h:outputText value="#{infoCab.comentario}" /></f:facet>  
                                            <f:facet name="input">
                                                <p:inputText value="#{infoCab.comentario}" readonly="true" id="editarObservacionCabecera" style="border-radius: 0px; width: 98.5%;"
                                                             onselect="posicionCabecera([{name: 'n', value: '10'}, {name: 't', value: '#{indiceCab}'}]);"
                                                             /> 
                                            </f:facet>  
                                        </p:cellEditor>
                                    </p:column> 

                                </p:dataTable>
                            </div>

                        </fieldset>

                        <p:remoteCommand name="posicionCabecera" actionListener="#{controlATAprobacionHE.posicionCabecera()}"/>
                        <p:remoteCommand name="posicionFlujo" actionListener="#{controlATAprobacionHE.posicionFlujo()}"/>
                        <p:remoteCommand name="posicionDetalle" actionListener="#{controlATAprobacionHE.posicionDetalle()}"/>

                        <fieldset style="position: absolute;top: 340px;left: 10px;height: 150px;width: 325px; border-radius: 10px; text-align: left">
                            <legend style="color: blue;text-align:left"><strong>#{msg['flujosAprobados']}</strong></legend>

                            <p:dataTable id="datosFlujo" var="infoF" rowKey="#{infoF.secuencia}" rowIndexVar="indiceF" style=" border: 1px; text-align: left;"                           
                                         value="#{controlATAprobacionHE.listaFlujos}" scrollable="true" scrollHeight="#{controlATAprobacionHE.altoTablaFlujo}" 
                                         filteredValue="#{controlATAprobacionHE.filtrarListaFlujos}" emptyMessage="#{msg['vacio']}"
                                         editable="true" editMode="cell"
                                         selection="#{controlATAprobacionHE.flujoSeleccionado}" selectionMode="single"
                                         >
                                <p:ajax event="filter" listener="#{controlATAprobacionHE.eventoFiltrar()}"/>


                                <p:column headerText="#{msg['procesoAutorizados2']}"  sortBy="#{infoF.eerestado.descripcion}" filterBy="#{infoF.eerestado.descripcion}" 
                                          filterMatchMode="contains" id="flujoProceso" width="60" filterStyle="display: none; visibility: hidden;" >                                  
                                    <f:facet name="header">
                                        <h:outputText id="procesoAutorizados" value="#{msg['procesoAutorizados2']}"/>
                                        <p:tooltip for="procesoAutorizados" value="#{msg['procesoAutorizados']}"/>
                                    </f:facet>
                                    <p:cellEditor>  
                                        <f:facet name="output"><h:outputText value="#{infoF.eerestado.descripcion}" /></f:facet>  
                                        <f:facet name="input">
                                            <p:inputText value="#{infoF.eerestado.descripcion}" readonly="true" id="editarProcesoFlujo" style="border-radius: 0px; width: 98.5%;"
                                                         onselect="posicionFlujo([{name: 'n', value: '0'}, {name: 't', value: '#{indiceF}'}]);"/> 
                                        </f:facet>  
                                    </p:cellEditor>
                                </p:column> 

                                <p:column headerText="#{msg['fecha']}"   sortBy="#{infoF.fecha}" filterBy="#{infoF.fecha}" 
                                          filterMatchMode="contains" width="40" id="flujoFecha" filterStyle="display: none; visibility: hidden;"   >                                  
                                    <p:cellEditor>  
                                        <f:facet name="output">
                                            <h:outputText value="#{infoF.fecha}" >
                                                <f:convertDateTime pattern="dd/MM/yyyy" />
                                            </h:outputText>
                                        </f:facet>  
                                        <f:facet name="input">
                                            <p:inputText value="#{infoF.fecha}" readonly="true" id="editarFechaFlujo" style="border-radius: 0px; width: 98.5%;"
                                                         onselect="posicionFlujo([{name: 'n', value: '1'}, {name: 't', value: '#{indiceF}'}]);"
                                                         /> 
                                        </f:facet>   
                                    </p:cellEditor>
                                </p:column>

                            </p:dataTable>

                        </fieldset>

                        <fieldset style="position: absolute;top: 340px;left: 360px;height: 125px;width: 485px; border-radius: 10px; text-align: left">
                            <legend style="color: blue;text-align:left"><strong>#{msg['detalles']}</strong></legend>

                            <p:dataTable id="datosDetalle" var="infoD" rowKey="#{infoD.secuencia}" rowIndexVar="indiceD" style=" border: 1px; text-align: left;"                           
                                         value="#{controlATAprobacionHE.listaDetalles}" scrollable="true" scrollHeight="#{controlATAprobacionHE.altoTablaDetalle}" 
                                         filteredValue="#{controlATAprobacionHE.filtrarListaDetalles}" emptyMessage="#{msg['vacio']}"
                                         editable="true" editMode="cell"
                                         selection="#{controlATAprobacionHE.detalleSeleccionado}" selectionMode="single"
                                         >
                                <p:ajax event="filter" listener="#{controlATAprobacionHE.eventoFiltrar()}"/>


                                <p:column headerText="#{msg['concepto']}"  sortBy="#{infoD.concepto.descripcion}" filterBy="#{infoD.concepto.descripcion}" 
                                          filterMatchMode="contains" id="detalleConcepto" width="60" filterStyle="display: none; visibility: hidden;" >                                  
                                    <p:cellEditor>  
                                        <f:facet name="output"><h:outputText value="#{infoD.concepto.descripcion}" /></f:facet>  
                                        <f:facet name="input">
                                            <p:inputText value="#{infoD.concepto.descripcion}" readonly="true" id="editarConceptoDetalle" style="border-radius: 0px; width: 98.5%;"
                                                         onselect="posicionDetalle([{name: 'n', value: '0'}, {name: 't', value: '#{indiceD}'}]);"/> 
                                        </f:facet>  
                                    </p:cellEditor>
                                </p:column> 

                                <p:column headerText="#{msg['fecha']}"   sortBy="#{infoD.fecha}" filterBy="#{infoD.fecha}" 
                                          filterMatchMode="contains" width="40" id="detalleFecha" filterStyle="display: none; visibility: hidden;"   >                                  
                                    <p:cellEditor>  
                                        <f:facet name="output">
                                            <h:outputText value="#{infoD.fecha}" >
                                                <f:convertDateTime pattern="dd/MM/yyyy" />
                                            </h:outputText>
                                        </f:facet>  
                                        <f:facet name="input">
                                            <p:inputText value="#{infoD.fecha}" readonly="true" id="editarFechaDetalle" style="border-radius: 0px; width: 98.5%;"
                                                         onselect="posicionDetalle([{name: 'n', value: '1'}, {name: 't', value: '#{indiceD}'}]);"
                                                         /> 
                                        </f:facet>   
                                    </p:cellEditor>
                                </p:column>

                                <p:column headerText="#{msg['observaciones']}"  sortBy="#{infoD.observaciones}" filterBy="#{infoD.observaciones}" 
                                          filterMatchMode="contains" id="detalleObservaciones" width="60" filterStyle="display: none; visibility: hidden;" >                                  
                                    <p:cellEditor>  
                                        <f:facet name="output"><h:outputText value="#{infoD.observaciones}" /></f:facet>  
                                        <f:facet name="input">
                                            <p:inputText value="#{infoD.observaciones}" readonly="true" id="editarObservacionDetalle" style="border-radius: 0px; width: 98.5%;"
                                                         onselect="posicionDetalle([{name: 'n', value: '2'}, {name: 't', value: '#{indiceD}'}]);"/> 
                                        </f:facet>  
                                    </p:cellEditor>
                                </p:column> 


                            </p:dataTable>


                        </fieldset>



                        <p:commandButton style="position: absolute; left: 683px; top: 480px;  " id="ACEPTAR" icon="ui-icon-check" value="#{msg['aceptar']}" onclick="confirmarGuardarSalida.show();"  process="@this" disabled="#{controlATAprobacionHE.guardado}"/>
                        <p:commandButton style="position: absolute; left: 775px; top: 480px;  " id="ATRAS" value="#{msg['cancelar']}" icon="ui-icon-closethick" actionListener="#{controlATAprobacionHE.salir()}" action="#{controlATAprobacionHE.redirigir()}" process="@this" />

                    </p:panel>

                    <p:dialog id="confirmarGuardar" header="#{msg['atencion']}" widgetVar="confirmarGuardar"  resizable="false" draggable="false" modal="true" height="85" width="425" closable="false">  
                        <h:graphicImage value="Imagenes/alerta.jpg" width="75" height="60" style="position: absolute; left: 30px; top: 10px;"  />
                        <h:outputText value="#{msg['cambiosRealizados']}" style="position: absolute; left: 120px; top: 20px; width: 250px; font-weight:bold;" />
                        <p:commandButton value="#{msg['si']}" onclick="confirmarGuardar.hide();" actionListener="#{controlATAprobacionHE.guardadoGeneral()}"  style="position: absolute; top: 50px; left: 207px" process="@this" icon="ui-icon-check" />
                        <p:commandButton value="#{msg['no']}" onclick="confirmarGuardar.hide();" actionListener="#{controlATAprobacionHE.cancelarModificacion()}"  style="position: absolute; top: 50px; left: 258px" process="@this" icon="ui-icon-close" />
                        <p:commandButton value="#{msg['cancelar']}" onclick="confirmarGuardar.hide();" style="position: absolute; top: 50px; left: 315px" process="@this" icon="ui-icon-arrowreturnthick-1-w" />
                    </p:dialog>

                    <p:dialog id="confirmarGuardarSalida" header="#{msg['atencion']}" widgetVar="confirmarGuardarSalida"  resizable="false" draggable="false" modal="true" height="85" width="425" closable="false">  
                        <h:graphicImage value="Imagenes/alerta.jpg" width="75" height="60" style="position: absolute; left: 30px; top: 10px;"  />
                        <h:outputText value="#{msg['cambiosRealizados']}" style="position: absolute; left: 120px; top: 20px; width: 250px; font-weight:bold;" />
                        <p:commandButton value="#{msg['si']}" onclick="confirmarGuardarSalida.hide();" actionListener="#{controlATAprobacionHE.guardarSalir()}" action="#{controlATAprobacionHE.redirigir()}" style="position: absolute; top: 50px; left: 207px" process="@this" icon="ui-icon-check" />
                        <p:commandButton value="#{msg['no']}" onclick="confirmarGuardarSalida.hide();" actionListener="#{controlATAprobacionHE.cancelarSalir()}" action="#{controlATAprobacionHE.redirigir()}" style="position: absolute; top: 50px; left: 258px" process="@this" icon="ui-icon-close" />
                        <p:commandButton value="#{msg['cancelar']}" onclick="confirmarGuardarSalida.hide();" style="position: absolute; top: 50px; left: 315px" process="@this" icon="ui-icon-arrowreturnthick-1-w" />
                    </p:dialog>



                    <!-- EMPLEADO -->



                    <p:dialog id="confirmarRastro" header="#{msg['atencion']}" widgetVar="confirmarRastro"  resizable="false" draggable="false" modal="true" height="95" width="350px"  closable="false">  
                        <h:graphicImage value="Imagenes/informacion.png" width="50" height="50" style="position: absolute; left: 10px; top: 10px;"  />
                        <h:outputText value="#{msg['confirmarRastro']}" style="position: absolute; left: 70px; top: 15px; width: 250px; font-weight:bold; text-align: center" />
                        <p:commandButton value="#{msg['si']}" onclick="confirmarRastro.hide();" actionListener="#{controlRastro.recibirDatosTabla(controlATAprobacionHE.backUpSecRegistro, 'EersCabeceras', 'rastroATAprocacionHE')}" style="position: absolute; top: 63px; left: 230px" action="rastro" process="@this" />
                        <p:commandButton value="#{msg['no']}" onclick="confirmarRastro.hide();" style="position: absolute; top: 63px; left: 270px" process="@this" />
                    </p:dialog>

                    <p:dialog id="confirmarRastroHistorico" header="#{msg['atencion']}" widgetVar="confirmarRastroHistorico"  resizable="false" draggable="false" modal="true" height="95" width="350px"  closable="false">  
                        <h:graphicImage value="Imagenes/informacion.png" width="50" height="50" style="position: absolute; left: 10px; top: 10px;"  />
                        <h:outputText value="#{msg['confirmarRastroHistorico']}" style="position: absolute; left: 70px; top: 15px; width: 250px; font-weight:bold; text-align: center" />
                        <p:commandButton value="#{msg['si']}" onclick="confirmarRastroHistorico.hide();" actionListener="#{controlRastro.historicosTabla('EersCabeceras', 'rastroATAprocacionHE')}" style="position: absolute; top: 60px; left: 230px" action="rastro" process="@this" />
                        <p:commandButton value="#{msg['no']}" onclick="confirmarRastroHistorico.hide();" style="position: absolute; top: 60px; left: 270px" process="@this" />
                    </p:dialog>

                    <p:dialog id="errorObjetosDB" header="#{msg['atencion']}" widgetVar="errorObjetosDB"  resizable="false" draggable="false" modal="true" height="60" width="275px"  closable="true">  
                        <h:graphicImage value="Imagenes/error.png" width="50" height="50" style="position: absolute; left: 10px; top: 10px;"  />
                        <h:outputText value="#{msg['errorObjetosDB']}" style="position: absolute; left: 70px; top: 28px; width: 185px; font-weight:bold;" />
                    </p:dialog>

                    <p:dialog id="errorTablaConRastro" header="#{msg['atencion']}" widgetVar="errorTablaConRastro"  resizable="false" draggable="false" modal="true" height="95" width="350px"  closable="false">  
                        <h:graphicImage value="Imagenes/informacion.png" width="50" height="50" style="position: absolute; left: 10px; top: 10px;"  />
                        <h:outputText value="#{msg['errorTablaConRastro']}" style="position: absolute; left: 70px; top: 20px; width: 250px; font-weight:bold; text-align: center" />
                        <p:commandButton value="#{msg['si']}" onclick="errorTablaConRastro.hide();" actionListener="#{controlRastro.recibirDatosTabla(controlATAprobacionHE.backUpSecRegistro, 'EersCabeceras', 'rastroATAprocacionHE')}" style="position: absolute; top: 60px; left: 230px" action="rastro" process="@this" />
                        <p:commandButton value="#{msg['no']}" onclick="errorTablaConRastro.hide();" style="position: absolute; top: 60px; left: 270px" process="@this" />
                    </p:dialog>


                    <p:dialog id="errorRastroHistorico" header="#{msg['atencion']}" widgetVar="errorRastroHistorico"  resizable="false" draggable="false" modal="true" height="60" width="275px"  closable="true">  
                        <h:graphicImage value="Imagenes/error.png" width="50" height="50" style="position: absolute; left: 10px; top: 10px;"  />
                        <h:outputText value="#{msg['errorRastroHistorico']}" style="position: absolute; left: 70px; top: 20px; width: 185px; font-weight:bold; text-align: center" />
                    </p:dialog>

                    <p:dialog id="errorRegistroRastro" header="#{msg['atencion']}" widgetVar="errorRegistroRastro"  resizable="false" draggable="false" modal="true" height="60" width="275px"  closable="true">  
                        <h:graphicImage value="Imagenes/error.png" width="50" height="50" style="position: absolute; left: 10px; top: 10px;"  />
                        <h:outputText value="#{msg['errorRegistroRastro']}" style="position: absolute; left: 70px; top: 20px; width: 185px; font-weight:bold; text-align: center" />
                    </p:dialog>

                    <p:dialog id="errorTablaSinRastro" header="#{msg['atencion']}" widgetVar="errorTablaSinRastro"  resizable="false" draggable="false" modal="true" height="60" width="285px"  closable="true">  
                        <h:graphicImage value="Imagenes/error.png" width="50" height="50" style="position: absolute; left: 10px; top: 10px;"  />
                        <h:outputText value="#{msg['errorTablaSinRastro']}" style="position: absolute; left: 70px; top: 10px; width: 195px; font-weight:bold;text-align: center" />
                    </p:dialog>

                    <p:dialog id="seleccionarRegistro" header="#{msg['atencion']}" widgetVar="seleccionarRegistro"  resizable="false" draggable="false" modal="true" height="60" width="275px"  closable="true">  
                        <h:graphicImage value="Imagenes/error.png" width="50" height="50" style="position: absolute; left: 10px; top: 10px;"  />
                        <h:outputText value="#{msg['seleccionarRegistro']}" style="position: absolute; left: 70px; top: 28px; width: 185px; font-weight:bold;text-align: center" />
                    </p:dialog>


                    <p:hotkey bind="ctrl+f11" actionListener="#{controlATAprobacionHE.activarCtrlF11()}"/> 



                </h:form>

                <h:form id="formEstructura">

                    <p:dialog header="#{msg['estructuraM']}" widgetVar="EstructuraDialogo" draggable="false" resizable="false" closable="false" id="EstructuraDialogo"  
                              showEffect="fade" hideEffect="fade" width="460" modal="true" >
                        <p:dataTable id="lovEstructura" liveScroll="true" scrollRows="25" style="width: 430px" var="estructuraA" value="#{controlATAprobacionHE.lovEstructuras}" rowKey="#{estructuraA.secuencia}"
                                     selection="#{controlATAprobacionHE.estructuraSeleccionada}" selectionMode="single" widgetVar="lovEstructura" scrollable="true" scrollWidth="445" scrollHeight="250"
                                     filteredValue="#{controlATAprobacionHE.filtrarLovEstructuras}" emptyMessage="#{msg['lovvacio']}">              
                            <p:ajax event="rowSelect" listener="#{controlATAprobacionHE.activarAceptar()}" update=":formEstructura:aceptarEA"/>
                            <p:ajax event="rowDblselect" listener="#{controlATAprobacionHE.actualizarEstructura()}" process="@this" onstart="lovEstructura.clearFilters()"/>

                            <f:facet name="header">  
                                <h:outputText value="#{msg['buscarEA']}" style="position: absolute; left: 27px; top: 14px"/>  
                                <p:inputText id="globalFilter" onkeyup="lovEstructura.filter();" style="width:150px; position: relative; left: 30px;" />  
                            </f:facet>
                            <p:column filterBy="#{estructuraA.codigo}" width="60" filterMatchMode="contains" filterStyle="width: 50px">
                                <f:facet name="header">
                                    <h:outputText style="text-align: center" value="#{msg['codigo']}" />
                                </f:facet>
                                <h:outputText  value="#{estructuraA.codigo}" />
                            </p:column>
                            <p:column filterBy="#{estructuraA.nombre}" width="200"  filterMatchMode="contains">
                                <f:facet name="header">
                                    <h:outputText value="#{msg['nombre']}" />
                                </f:facet>
                                <h:outputText value="#{estructuraA.nombre}" />
                            </p:column>
                        </p:dataTable>

                        <h:outputText id="infoRegistroEstructura" value="#{controlATAprobacionHE.infoRegistroEstructura}" style="position: absolute; left: 20px; top: 355px; font-weight: bold"/>

                        <p:commandButton id="aceptarEA" style="position: relative; left: 265px" value="#{msg['aceptar']}" disabled="#{controlATAprobacionHE.aceptar}" onclick="EstructuraDialogo.hide(), lovEstructura.clearFilters();" actionListener="#{controlATAprobacionHE.actualizarEstructura()}" update="lovEstructura, aceptarEA" process="@this" icon="ui-icon-check">
                            <p:resetInput target=":formEstructura:lovEstructura:globalFilter"/>
                        </p:commandButton>
                        <p:commandButton id="atrasEA" style="position: relative; left: 265px" value="#{msg['atras']}" onclick="EstructuraDialogo.hide(), lovEstructura.clearFilters();" actionListener="#{controlATAprobacionHE.cancelarCambioEstructura()}" update="lovEstructura" process="@this" icon="ui-icon-arrowreturnthick-1-w">
                            <p:resetInput target=":formEstructura:lovEstructura:globalFilter"/>
                        </p:commandButton>
                    </p:dialog> 

                </h:form>

                <h:form id="formEmpleado">

                    <p:dialog header="#{msg['empleadoM']}" widgetVar="EmpleadoDialogo" draggable="false" resizable="false" closable="false" id="EmpleadoDialogo"  
                              showEffect="fade" hideEffect="fade" width="460" modal="true" >
                        <p:dataTable id="lovEmpleado" liveScroll="true" scrollRows="25" style=" width: 430px" var="empleados" value="#{controlATAprobacionHE.lovEmpleados}" rowKey="#{empleados.secuencia}"
                                     selection="#{controlATAprobacionHE.empleadoSeleccionado}" selectionMode="single" widgetVar="lovEmpleado" scrollable="true" scrollWidth="445" scrollHeight="250"
                                     filteredValue="#{controlATAprobacionHE.filtrarLovEmpleados}" emptyMessage="#{msg['lovvacio']}">              
                            <p:ajax event="rowSelect" listener="#{controlATAprobacionHE.activarAceptar()}" update=":formEmpleado:aceptarE"/>
                            <p:ajax event="rowDblselect" listener="#{controlATAprobacionHE.actualizarEmpleado()}" process="@this" onstart="lovEmpleado.clearFilters()"/>

                            <f:facet name="header">  
                                <h:outputText value="#{msg['buscarE']}" style="position: absolute; left: 27px; top: 14px"/>  
                                <p:inputText id="globalFilter" onkeyup="lovEmpleado.filter();" style="width:150px; position: relative; left: 30px;" />  
                            </f:facet>
                            <p:column filterBy="#{empleados.codigoempleado}" width="60" filterMatchMode="contains" filterStyle="width: 50px">
                                <f:facet name="header">
                                    <h:outputText style="text-align: center" value="#{msg['codigo']}" />
                                </f:facet>
                                <h:outputText  value="#{empleados.codigoempleado}" />
                            </p:column>
                            <p:column filterBy="#{empleados.persona.nombreCompleto}" width="200"  filterMatchMode="contains">
                                <f:facet name="header">
                                    <h:outputText value="#{msg['nombreEmpleado']}" />
                                </f:facet>
                                <h:outputText value="#{empleados.persona.nombreCompleto}" />
                            </p:column>
                        </p:dataTable>

                        <h:outputText id="infoRegistroEmpleado" value="#{controlATAprobacionHE.infoRegistroEmpleado}" style="position: absolute; left: 20px; top: 355px; font-weight: bold"/>

                        <p:commandButton id="aceptarE" style="position: relative; left: 265px" value="#{msg['aceptar']}" disabled="#{controlATAprobacionHE.aceptar}" onclick="EmpleadoDialogo.hide(), lovEmpleado.clearFilters();" actionListener="#{controlATAprobacionHE.actualizarEmpleado()}" update="lovEmpleado, aceptarE" process="@this" icon="ui-icon-check">
                            <p:resetInput target=":formEmpleado:lovEmpleado:globalFilter"/>
                        </p:commandButton>
                        <p:commandButton id="atrasE" style="position: relative; left: 265px" value="#{msg['atras']}" onclick="EmpleadoDialogo.hide(), lovEmpleado.clearFilters();" actionListener="#{controlATAprobacionHE.cancelarCambioEmpleado()}" update="lovEmpleado" process="@this" icon="ui-icon-arrowreturnthick-1-w">
                            <p:resetInput target=":formEmpleado:lovEmpleado:globalFilter"/>
                        </p:commandButton>
                    </p:dialog> 

                </h:form>

                <h:form id="formularioDialogos" >

                    <p:dialog id="editarCabeceraAprobado" header="#{msg['editarCabeceraAprobado']}" widgetVar="editarCabeceraAprobado" resizable="false" draggable="false" modal="true" height="55" width="240" >  
                        <p:inputTextarea value="#{controlATAprobacionHE.editarCabecera.aprobado}" style="overflow: auto; width: 200px; height: 40px" readonly="true"/>
                    </p:dialog>

                    <p:dialog id="editarCabeceraSiguiente" header="#{msg['editarCabeceraSiguiente']}" widgetVar="editarCabeceraSiguiente" resizable="false" draggable="false" modal="true" height="55" width="240" >  
                        <p:inputTextarea value="#{controlATAprobacionHE.editarCabecera.estructuraaprueba.nombre}" style="overflow: auto; width: 200px; height: 40px" readonly="true"/>
                    </p:dialog>

                    <p:dialog id="editarCabeceraNumDocumento" header="#{msg['editarCabeceraNumDocumento']}" widgetVar="editarCabeceraNumDocumento" resizable="false" draggable="false" modal="true" height="55" width="240" >  
                        <p:inputTextarea value="#{controlATAprobacionHE.editarCabecera.empleado.persona.strNumeroDocumento}" style="overflow: auto; width: 200px; height: 40px" readonly="true"/>
                    </p:dialog>

                    <p:dialog id="editarEmplNombre" header="#{msg['editarEmplNombre']}" widgetVar="editarEmplNombre" resizable="false" draggable="false" modal="true" height="55" width="240" >  
                        <p:inputTextarea value="#{controlATAprobacionHE.editarCabecera.empleado.persona.nombreCompleto}" style="overflow: auto; width: 200px; height: 40px" readonly="true"/>
                    </p:dialog>

                    <p:dialog id="editarCabeceraHoras" header="#{msg['editarCabeceraHoras']}" widgetVar="editarCabeceraHoras" resizable="false" draggable="false" modal="true" height="55" width="240" >  
                        <p:inputTextarea value="#{controlATAprobacionHE.editarCabecera.horas}" style="overflow: auto; width: 200px; height: 40px" readonly="true"/>
                    </p:dialog>

                    <p:dialog id="editarCabeceraMinuto" header="#{msg['editarCabeceraMinuto']}" widgetVar="editarCabeceraMinuto" resizable="false" draggable="false" modal="true" height="55" width="240" >  
                        <p:inputTextarea value="#{controlATAprobacionHE.editarCabecera.minutos}" style="overflow: auto; width: 200px; height: 40px" readonly="true"/>
                    </p:dialog>

                    <p:dialog id="editarCabeceraNovedad" header="#{msg['editarCabeceraNovedad']}" widgetVar="editarCabeceraNovedad" resizable="false" draggable="false" modal="true" height="55" width="240" >  
                        <p:inputTextarea value="#{controlATAprobacionHE.editarCabecera.tipoeer}" style="overflow: auto; width: 200px; height: 40px" readonly="true"/>
                    </p:dialog>

                    <p:dialog id="editarCabeceraEstado" header="#{msg['editarCabeceraEstado']}" widgetVar="editarCabeceraEstado" resizable="false" draggable="false" modal="true" height="55" width="240" >  
                        <p:inputTextarea value="#{controlATAprobacionHE.editarCabecera.estado}" style="overflow: auto; width: 200px; height: 40px" readonly="true"/>
                    </p:dialog>

                    <p:dialog id="editarCabeceraPaso" header="#{msg['editarCabeceraPaso']}" widgetVar="editarCabeceraPaso" resizable="false" draggable="false" modal="true" height="55" width="240" >  
                        <p:inputTextarea value="#{controlATAprobacionHE.editarCabecera.eerestado.descripcion}" style="overflow: auto; width: 200px; height: 40px" readonly="true"/>
                    </p:dialog>

                    <p:dialog id="editarCabeceraFechaPago" header="#{msg['editarCabeceraFechaPago']}" widgetVar="editarCabeceraFechaPago" resizable="false" draggable="false" modal="true" height="55" width="240" style=" padding: 0px">  
                        <p:inputTextarea value="#{controlATAprobacionHE.editarCabecera.fechapago}" style="overflow: auto; width: 200px; height: 40px" readonly="true">                        
                            <f:convertDateTime pattern="dd/MM/yyyy"/>
                        </p:inputTextarea>
                    </p:dialog>

                    <p:dialog id="editarCabeceraObservacion" header="#{msg['editarCabeceraObservacion']}" widgetVar="editarCabeceraObservacion" resizable="false" draggable="false" modal="true" height="55" width="240" >  
                        <p:inputTextarea value="#{controlATAprobacionHE.editarCabecera.comentario}" style="overflow: auto; width: 200px; height: 40px" readonly="true"/>
                    </p:dialog>


                    <!-- FLUJOS  -->

                    <p:dialog id="editarFlujoProceso" header="#{msg['editarFlujoProceso']}" widgetVar="editarFlujoProceso" resizable="false" draggable="false" modal="true" height="55" width="240" >  
                        <p:inputTextarea value="#{controlATAprobacionHE.editarFlujo.eerestado.descripcion}" style="overflow: auto; width: 200px; height: 40px" readonly="true"/>
                    </p:dialog>

                    <p:dialog id="editarFlujoFecha" header="#{msg['editarFlujoFecha']}" widgetVar="editarFlujoFecha" resizable="false" draggable="false" modal="true" height="55" width="240" style=" padding: 0px">  
                        <p:inputTextarea value="#{controlATAprobacionHE.editarFlujo.fecha}" style="overflow: auto; width: 200px; height: 40px" readonly="true">                        
                            <f:convertDateTime pattern="dd/MM/yyyy"/>
                        </p:inputTextarea>
                    </p:dialog>
                    
                    <!-- DETALLES  -->

                    <p:dialog id="editarDetalleConcepto" header="#{msg['editarDetalleConcepto']}" widgetVar="editarDetalleConcepto" resizable="false" draggable="false" modal="true" height="55" width="240" >  
                        <p:inputTextarea value="#{controlATAprobacionHE.editarFlujo.eerestado.descripcion}" style="overflow: auto; width: 200px; height: 40px" readonly="true"/>
                    </p:dialog>

                    <p:dialog id="editarDetalleFecha" header="#{msg['editarDetalleFecha']}" widgetVar="editarDetalleFecha" resizable="false" draggable="false" modal="true" height="55" width="240" style=" padding: 0px">  
                        <p:inputTextarea value="#{controlATAprobacionHE.editarFlujo.fecha}" style="overflow: auto; width: 200px; height: 40px" readonly="true">                        
                            <f:convertDateTime pattern="dd/MM/yyyy"/>
                        </p:inputTextarea>
                    </p:dialog>
                    
                    <p:dialog id="editarDetalleObservacion" header="#{msg['editarDetalleObservacion']}" widgetVar="editarDetalleObservacion" resizable="false" draggable="false" modal="true" height="55" width="240" >  
                        <p:inputTextarea value="#{controlATAprobacionHE.editarFlujo.eerestado.descripcion}" style="overflow: auto; width: 200px; height: 40px" readonly="true"/>
                    </p:dialog>



                    <p:dialog id="operacionEnProceso" header="#{msg['atencion']}" widgetVar="operacionEnProceso"  resizable="false" draggable="false" modal="true" height="65" width="350px" style="font-size: 12px" closable="false">  
                        <h:graphicImage value="Imagenes/cargando.gif" width="50" height="50" style="position: absolute; left: 30px; top: 10px;"  />
                        <h:outputText value="#{msg['operacionEnProceso']}" style="font-size: 12px; position: absolute; left: 95px; top: 20px; width: 240px; font-weight:bold;" />
                    </p:dialog>

                </h:form>
                <h:form id="formExportar">
                    <p:dataTable id="datosCabeceraExportar" var="infoExp_C" style="visibility: hidden; display: none;"                           
                                 value="#{controlATAprobacionHE.listaEersCabeceras}"> 

                        <p:column headerText="#{msg['aprobadoX']}">                                  
                            <f:facet name="header"><h:outputText value="#{msg['aprobadoX']}"/> </f:facet> 
                            <h:outputText value="#{infoExp_C.aprobado}" />
                        </p:column>  

                        <p:column headerText="#{msg['siguienteAproXX']}">                                  
                            <f:facet name="header"><h:outputText value="#{msg['siguienteAproX']}"/> </f:facet> 
                            <h:outputText value="#{infoExp_C.estructuraaprueba.nombre}" />
                        </p:column>

                        <p:column headerText="#{msg['numeroDocumentoXX']}">                                  
                            <f:facet name="header"><h:outputText value="#{msg['numeroDocumentoX']}"/> </f:facet> 
                            <h:outputText value="#{infoExp_C.empleado.persona.strNumeroDocumento}" />
                        </p:column>

                        <p:column headerText="#{msg['nombreEmpleadoXX']}">                                  
                            <f:facet name="header"><h:outputText value="#{msg['nombreEmpleadoX']}"/> </f:facet> 
                            <h:outputText value="#{infoExp_C.empleado.persona.nombreCompleto}" />
                        </p:column>

                        <p:column headerText="#{msg['horasX']}">                                  
                            <f:facet name="header"><h:outputText value="#{msg['horasX']}"/> </f:facet> 
                            <h:outputText value="#{infoExp_C.horas}" />
                        </p:column>

                        <p:column headerText="#{msg['minutosX']}">                                  
                            <f:facet name="header"><h:outputText value="#{msg['minutosX']}"/> </f:facet> 
                            <h:outputText value="#{infoExp_C.minutos}" />
                        </p:column>

                        <p:column headerText="#{msg['novedadX']}">                                  
                            <f:facet name="header"><h:outputText value="#{msg['novedadX']}"/> </f:facet> 
                            <h:outputText value="#{infoExp_C.tipoeer}" />
                        </p:column>

                        <p:column headerText="#{msg['estadoX']}">                                  
                            <f:facet name="header"><h:outputText value="#{msg['estadoX']}"/></f:facet> 
                            <h:outputText value="#{infoExp_C.estado}" />
                        </p:column>

                        <p:column headerText="#{msg['pasoX']}">                                  
                            <f:facet name="header"><h:outputText value="#{msg['pasoX']}"/> </f:facet> 
                            <h:outputText value="#{infoExp_C.eerestado.descripcion}" />
                        </p:column>


                        <p:column>  
                            <f:facet name="header">
                                <h:outputText value="#{msg['fechaPagoXX']}" />
                            </f:facet>
                            <h:outputText value="#{infoExp_C.fechapago}" >
                                <f:convertDateTime pattern="dd/MM/yyyy" />
                            </h:outputText>
                        </p:column>


                        <p:column headerText="#{msg['observacionesX']}">                                  
                            <f:facet name="header"><h:outputText value="#{msg['observacionesX']}"/> </f:facet> 
                            <h:outputText value="#{infoExp_C.comentario}" />
                        </p:column>


                    </p:dataTable>

                    <p:dataTable id="datosFlujoExportar" var="infoExp_F" style="visibility: hidden; display: none;"                           
                                 value="#{controlATAprobacionHE.listaFlujos}"> 

                        <p:column headerText="#{msg['procesoAutorizadoXX']}">                                  
                            <f:facet name="header"><h:outputText value="#{msg['procesoAutorizadoXX']}"/> </f:facet> 
                            <h:outputText value="#{infoExp_F.eerestado.descripcion}" />
                        </p:column>

                        <p:column>  
                            <f:facet name="header">
                                <h:outputText value="#{msg['fechaX']}" />
                            </f:facet>
                            <h:outputText value="#{infoExp_F.fecha}" >
                                <f:convertDateTime pattern="dd/MM/yyyy" />
                            </h:outputText>
                        </p:column>

                    </p:dataTable>
                    
                    <p:dataTable id="datosDetalleExportar" var="infoExp_D" style="visibility: hidden; display: none;"                           
                                 value="#{controlATAprobacionHE.listaDetalles}"> 

                        <p:column headerText="#{msg['conceptoX']}">                                  
                            <f:facet name="header"><h:outputText value="#{msg['conceptoX']}"/> </f:facet> 
                            <h:outputText value="#{infoExp_D.concepto.descripcion}" />
                        </p:column>

                        <p:column>  
                            <f:facet name="header">
                                <h:outputText value="#{msg['fechaX']}" />
                            </f:facet>
                            <h:outputText value="#{infoExp_D.fecha}" >
                                <f:convertDateTime pattern="dd/MM/yyyy" />
                            </h:outputText>
                        </p:column>
                        
                        <p:column headerText="#{msg['observacionesX']}">                                  
                            <f:facet name="header"><h:outputText value="#{msg['observacionesX']}"/> </f:facet> 
                            <h:outputText value="#{infoExp_D.observaciones}" />
                        </p:column>

                    </p:dataTable>
                    
                </h:form>
            </ui:define>
        </ui:composition>
    </h:body>
</html>

