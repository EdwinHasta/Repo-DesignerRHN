<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:lnk="http://java.sun.com/jsf/composite/linkare">
    <h:head>
    </h:head>
    <h:body>
        <ui:composition template="/Template.xhtml">
            <ui:define name="body">                  
                <h:form id="form">
                    <f:loadBundle basename="Recursos.ataprobacionhe" var="msg" />
                    <p:growl id="growl" showDetail="true"/>

                    <p:panel  id="PanelTotal" header="#{msg['titulo']}" style="position: absolute; width: 874px; height: 510px; text-align: left">

                        <p:toolbar style=" position: absolute; top: 37px; left: 12px; height: 24px">  
                            <p:toolbarGroup align="left"> 

                                <p:commandButton id="guardarRapido" value="" style="background-image: url(Imagenes/guardar.jpg); background-size: 100% 100%; background-repeat: no-repeat; width: 25px; height: 25px; " actionListener="#{controlATAprobacionHE.guardadoGeneral()}" process="@this" />
                                <p:tooltip  for="guardarRapido" value="#{msg['guardar']}" />

                                <p:commandButton id="editar" value="" style="background-image: url(Imagenes/editar.jpg); background-size: 100% 100%; background-repeat: no-repeat; width: 25px; height: 25px " actionListener="#{controlATAprobacionHE.editarCelda()}" process="@this"/>
                                <p:tooltip  for="editar" value="#{msg['editar']}" />

                                <p:separator style="position: relative; top: -9px"/>

                                <p:commandButton id="listaValores" value="" style="background-image: url(Imagenes/lupa.png); background-size: 100% 100%; background-repeat: no-repeat; width: 25px; height: 25px " actionListener="#{controlATAprobacionHE.listaValoresBoton()}" process="@this"/>
                                <p:tooltip  for="listaValores" value="#{msg['lista']}" />

                                <p:commandButton id="filtrar" value="" style="background-image: url(Imagenes/embudo.jpg); background-size: 100% 100%; background-repeat: no-repeat; width: 25px; height: 25px " actionListener="#{controlATAprobacionHE.activarCtrlF11()}" process="@this"/>
                                <p:tooltip  for="filtrar" value="#{msg['filtrar']}" />

                                <p:separator style="position: relative; top: -9px"/>

                                <p:commandButton id="exportarXLS" value="" style="background-image: url(Imagenes/excel.png); background-size: 100% 100%; background-repeat: no-repeat; width: 25px; height: 25px " ajax="false" actionListener="#{controlATAprobacionHE.exportXLS()}" />
                                <p:tooltip  for="exportarXLS" value="#{msg['xls']}" />

                                <p:commandButton id="exportarXML" value="" style="background-image: url(Imagenes/XML.jpg); background-size: 100% 100%; background-repeat: no-repeat; width: 25px; height: 25px "  ajax="false">
                                    <p:dataExporter type="xml"  target="#{controlATAprobacionHE.obtenerTablaXML()}" fileName="#{controlATAprobacionHE.obtenerNombreArchivoXML()}" encoding="UTF-8"/> 
                                </p:commandButton> 
                                <p:tooltip  for="exportarXML" value="#{msg['xml']}" />

                                <p:commandButton id="exportarPDF" value="" style="background-image: url(Imagenes/pdf.jpg); background-size: 100% 100%; background-repeat: no-repeat; width: 25px; height: 25px " actionListener="#{controlATAprobacionHE.exportPDF()}" ajax="false"/>
                                <p:tooltip  for="exportarPDF" value="#{msg['pdf']}" />

                                <p:separator style="position: relative; top: -9px"/>

                                <p:commandButton id="insertar" value="" style="background-image: url(Imagenes/nuevoRegistro.jpg); background-size: 100% 100%; background-repeat: no-repeat; width: 25px; height: 25px " actionListener="#{controlATAprobacionHE.dispararDialogoNuevoRegistro()}" process="@this"/> 
                                <p:tooltip  for="insertar" value="#{msg['nuevo']}" />

                                <p:commandButton id="eliminar" value="" style="background-image: url(Imagenes/delete.jpg); background-size: 100% 100%; background-repeat: no-repeat; width: 25px; height: 25px " actionListener="#{controlATAprobacionHE.borrarRegistro()}" process="@this"/>  
                                <p:tooltip  for="eliminar" value="#{msg['eliminar']}" />

                                <p:commandButton id="duplicar" value="" style="background-image: url(Imagenes/duplicar.jpg); background-size: 100% 100%; background-repeat: no-repeat; width: 25px; height: 25px " actionListener="#{controlATAprobacionHE.duplicarRegistro()}"  process="@this"/>  
                                <p:tooltip  for="duplicar" value="#{msg['duplicar']}" />

                                <p:separator style="position: relative; top: -9px"/>

                                <p:commandButton id="rastro" value="" style="background-image: url(Imagenes/rastro.jpg); background-size: 100% 100%; background-repeat: no-repeat; width: 25px; height: 25px " actionListener="#{controlATAprobacionHE.validarRastro()}" process="@this"/>  
                                <p:tooltip  for="rastro" value="#{msg['rastro']}"/>

                                <p:separator style="position: relative; top: -9px"/>

                                <p:commandButton id="refrescar" value="" style="background-image: url(Imagenes/refrescar.png); background-size: 100% 100%; background-repeat: no-repeat; width: 25px; height: 25px " actionListener="#{controlATAprobacionHE.cancelarModificacion()}" process="@this"/>  
                                <p:tooltip  for="refrescar" value="#{msg['refrescar']}"/>

                                <p:commandButton id="salir" value="" style="background-image: url(Imagenes/salir.png); background-size: 100% 100%; background-repeat: no-repeat; width: 25px; height: 25px " actionListener="#{controlATAprobacionHE.salir()}" action="#{controlATAprobacionHE.redirigir()}" process="@this"/>  
                                <p:tooltip  for="salir" value="#{msg['salir']}"/>

                            </p:toolbarGroup>  
                        </p:toolbar> 

                        <fieldset style="position: absolute;top: 80px;left: 10px;height: 105px;width: 830px; border-radius: 10px; text-align: left">
                            <legend style=" color: blue;text-align:left"><strong>#{msg['empleados']}</strong></legend>

                            <p:commandButton style="position: absolute; left: 683px; top: 30px;  " id="BUSCAR" value="#{msg['buscarEmpleados']}" actionListener="#{controlATAprobacionHE.dispararDialogoBuscarEmpleados()}" disabled="#{controlATAprobacionHE.activarBuscar}" process="@this" />
                            <p:commandButton style="position: absolute; left: 690px; top: 70px;  " id="MOSTRARTODOS"  value="#{msg['mostrarTodos']}" actionListener="#{controlATAprobacionHE.mostrarTodosEmpleados()}" disabled="#{controlATAprobacionHE.activarMostrarTodos}" process="@this" />
                        </fieldset> 

                        <script type="text/javascript">
                                var leftDiv = document.getElementById('inferiorIzquierda');
                                var rightDiv = document.getElementById('inferiorDerecha');
                                var rightDivSub = document.getElementById('inferiorDerechaSubtotalesEmpleado');
                                var topDiv = document.getElementById('superiorIzquierda');

                                rightDiv.onscroll = function() {
                                    leftDiv.scrollTop = rightDiv.scrollTop;

                                };
                                leftDiv.onscroll = function() {
                                    rightDiv.scrollTop = leftDiv.scrollTop;
                                };
                                
                                rightDivSub.onscroll = function() {
                                    topDiv.scrollLeft = rightDivSub.scrollLeft;
                                    rightDiv.scrollLeft = rightDivSub.scrollLeft;
                                };
                                
                            </script>
                            <script>
                                $(function load() {
                                    var $win = $(document.getElementById('inferiorDerecha'));
                                    var $num = #{controlATAprobacionHE.obtenerNumeroScrollAporte()};
                                    $win.scroll(function() {
                                        if ($win.height() + $win.scrollTop() == $num) {
                                            operacionEnProceso.show();
                                            pruebaRemota();
                                        }
                                    });
                                });
                            </script>
                        
                        <p:remoteCommand name="pruebaRemota" actionListener="#{controlATAprobacionHE.pruebaRemota()}"/>


                        <p:commandButton style="position: absolute; left: 10px; top: 480px;  " id="CARGUEHEPLANO" value="#{msg['carguePlanoHE']}" process="@this" />
                        <p:commandButton style="position: absolute; left: 290px; top: 480px;  " id="INTERFASE" value="#{msg['interfase']}" process="@this" />

                        <p:commandButton style="position: absolute; left: 683px; top: 480px;  " id="ACEPTAR" icon="ui-icon-check" value="#{msg['aceptar']}" onclick="confirmarGuardarSalida.show();" update=":form:datosEmpleado" process="@this" disabled="#{controlATAprobacionHE.guardado}"/>
                        <p:commandButton style="position: absolute; left: 775px; top: 480px;  " id="ATRAS" value="#{msg['cancelar']}" icon="ui-icon-closethick" actionListener="#{controlATAprobacionHE.salir()}" action="#{controlATAprobacionHE.redirigir()}" process="@this" />

                    </p:panel>

                    <p:dialog id="confirmarGuardar" header="#{msg['atencion']}" widgetVar="confirmarGuardar"  resizable="false" draggable="false" modal="true" height="85" width="425" closable="false">  
                        <h:graphicImage value="Imagenes/alerta.jpg" width="75" height="60" style="position: absolute; left: 30px; top: 10px;"  />
                        <h:outputText value="#{msg['cambiosRealizados']}" style="position: absolute; left: 120px; top: 20px; width: 250px; font-weight:bold;" />
                        <p:commandButton value="#{msg['si']}" onclick="confirmarGuardar.hide();" actionListener="#{controlATAprobacionHE.guardadoGeneral()}"  style="position: absolute; top: 50px; left: 207px" process="@this" icon="ui-icon-check" />
                        <p:commandButton value="#{msg['no']}" onclick="confirmarGuardar.hide();" actionListener="#{controlATAprobacionHE.cancelarModificacion()}"  style="position: absolute; top: 50px; left: 258px" process="@this" icon="ui-icon-close" />
                        <p:commandButton value="#{msg['cancelar']}" onclick="confirmarGuardar.hide();" style="position: absolute; top: 50px; left: 315px" process="@this" icon="ui-icon-arrowreturnthick-1-w" />
                    </p:dialog>

                    <p:dialog id="confirmarGuardarSalida" header="#{msg['atencion']}" widgetVar="confirmarGuardarSalida"  resizable="false" draggable="false" modal="true" height="85" width="425" closable="false">  
                        <h:graphicImage value="Imagenes/alerta.jpg" width="75" height="60" style="position: absolute; left: 30px; top: 10px;"  />
                        <h:outputText value="#{msg['cambiosRealizados']}" style="position: absolute; left: 120px; top: 20px; width: 250px; font-weight:bold;" />
                        <p:commandButton value="#{msg['si']}" onclick="confirmarGuardarSalida.hide();" actionListener="#{controlATAprobacionHE.guardarSalir()}" action="#{controlATAprobacionHE.redirigir()}" style="position: absolute; top: 50px; left: 207px" process="@this" icon="ui-icon-check" />
                        <p:commandButton value="#{msg['no']}" onclick="confirmarGuardarSalida.hide();" actionListener="#{controlATAprobacionHE.cancelarSalir()}" action="#{controlATAprobacionHE.redirigir()}" style="position: absolute; top: 50px; left: 258px" process="@this" icon="ui-icon-close" />
                        <p:commandButton value="#{msg['cancelar']}" onclick="confirmarGuardarSalida.hide();" style="position: absolute; top: 50px; left: 315px" process="@this" icon="ui-icon-arrowreturnthick-1-w" />
                    </p:dialog>



                    <!-- EMPLEADO -->



                    <p:dialog id="confirmarRastro" header="#{msg['atencion']}" widgetVar="confirmarRastro"  resizable="false" draggable="false" modal="true" height="95" width="350px"  closable="false">  
                        <h:graphicImage value="Imagenes/informacion.png" width="50" height="50" style="position: absolute; left: 10px; top: 10px;"  />
                        <h:outputText value="#{msg['confirmarRastro']}" style="position: absolute; left: 70px; top: 15px; width: 250px; font-weight:bold; text-align: center" />
                        <p:commandButton value="#{msg['si']}" onclick="confirmarRastro.hide();" actionListener="#{controlRastro.recibirDatosTabla(controlATAprobacionHE.backUpSecRegistro, 'Empleados', 'rastroATHoraExtra')}" style="position: absolute; top: 63px; left: 230px" action="rastro" process="@this" />
                        <p:commandButton value="#{msg['no']}" onclick="confirmarRastro.hide();" style="position: absolute; top: 63px; left: 270px" process="@this" />
                    </p:dialog>

                    <p:dialog id="confirmarRastroHistorico" header="#{msg['atencion']}" widgetVar="confirmarRastroHistorico"  resizable="false" draggable="false" modal="true" height="95" width="350px"  closable="false">  
                        <h:graphicImage value="Imagenes/informacion.png" width="50" height="50" style="position: absolute; left: 10px; top: 10px;"  />
                        <h:outputText value="#{msg['confirmarRastroHistorico']}" style="position: absolute; left: 70px; top: 15px; width: 250px; font-weight:bold; text-align: center" />
                        <p:commandButton value="#{msg['si']}" onclick="confirmarRastroHistorico.hide();" actionListener="#{controlRastro.historicosTabla('Empleados', 'rastroATHoraExtra')}" style="position: absolute; top: 60px; left: 230px" action="rastro" process="@this" />
                        <p:commandButton value="#{msg['no']}" onclick="confirmarRastroHistorico.hide();" style="position: absolute; top: 60px; left: 270px" process="@this" />
                    </p:dialog>

                    <p:dialog id="errorObjetosDB" header="#{msg['atencion']}" widgetVar="errorObjetosDB"  resizable="false" draggable="false" modal="true" height="60" width="275px"  closable="true">  
                        <h:graphicImage value="Imagenes/error.png" width="50" height="50" style="position: absolute; left: 10px; top: 10px;"  />
                        <h:outputText value="#{msg['errorObjetosDB']}" style="position: absolute; left: 70px; top: 28px; width: 185px; font-weight:bold;" />
                    </p:dialog>

                    <p:dialog id="errorTablaConRastro" header="#{msg['atencion']}" widgetVar="errorTablaConRastro"  resizable="false" draggable="false" modal="true" height="95" width="350px"  closable="false">  
                        <h:graphicImage value="Imagenes/informacion.png" width="50" height="50" style="position: absolute; left: 10px; top: 10px;"  />
                        <h:outputText value="#{msg['errorTablaConRastro']}" style="position: absolute; left: 70px; top: 20px; width: 250px; font-weight:bold; text-align: center" />
                        <p:commandButton value="#{msg['si']}" onclick="errorTablaConRastro.hide();" actionListener="#{controlRastro.recibirDatosTabla(controlATAprobacionHE.backUpSecRegistro, 'Empleados', 'rastroATHoraExtra')}" style="position: absolute; top: 60px; left: 230px" action="rastro" process="@this" />
                        <p:commandButton value="#{msg['no']}" onclick="errorTablaConRastro.hide();" style="position: absolute; top: 60px; left: 270px" process="@this" />
                    </p:dialog>


                    <p:dialog id="errorRastroHistorico" header="#{msg['atencion']}" widgetVar="errorRastroHistorico"  resizable="false" draggable="false" modal="true" height="60" width="275px"  closable="true">  
                        <h:graphicImage value="Imagenes/error.png" width="50" height="50" style="position: absolute; left: 10px; top: 10px;"  />
                        <h:outputText value="#{msg['errorRastroHistorico']}" style="position: absolute; left: 70px; top: 20px; width: 185px; font-weight:bold; text-align: center" />
                    </p:dialog>

                    <p:dialog id="errorRegistroRastro" header="#{msg['atencion']}" widgetVar="errorRegistroRastro"  resizable="false" draggable="false" modal="true" height="60" width="275px"  closable="true">  
                        <h:graphicImage value="Imagenes/error.png" width="50" height="50" style="position: absolute; left: 10px; top: 10px;"  />
                        <h:outputText value="#{msg['errorRegistroRastro']}" style="position: absolute; left: 70px; top: 20px; width: 185px; font-weight:bold; text-align: center" />
                    </p:dialog>

                    <p:dialog id="errorTablaSinRastro" header="#{msg['atencion']}" widgetVar="errorTablaSinRastro"  resizable="false" draggable="false" modal="true" height="60" width="285px"  closable="true">  
                        <h:graphicImage value="Imagenes/error.png" width="50" height="50" style="position: absolute; left: 10px; top: 10px;"  />
                        <h:outputText value="#{msg['errorTablaSinRastro']}" style="position: absolute; left: 70px; top: 10px; width: 195px; font-weight:bold;text-align: center" />
                    </p:dialog>

                    <p:dialog id="seleccionarRegistro" header="#{msg['atencion']}" widgetVar="seleccionarRegistro"  resizable="false" draggable="false" modal="true" height="60" width="275px"  closable="true">  
                        <h:graphicImage value="Imagenes/error.png" width="50" height="50" style="position: absolute; left: 10px; top: 10px;"  />
                        <h:outputText value="#{msg['seleccionarRegistro']}" style="position: absolute; left: 70px; top: 28px; width: 185px; font-weight:bold;text-align: center" />
                    </p:dialog>


                    <p:hotkey bind="ctrl+f11" actionListener="#{controlATAprobacionHE.activarCtrlF11()}"/> 



                </h:form>

                <h:form id="formEstructura">

                    <p:dialog header="#{msg['estructuraM']}" widgetVar="EstructuraDialogo" draggable="false" resizable="false" closable="false" id="EstructuraDialogo"  
                              showEffect="fade" hideEffect="fade" width="460" modal="true" >
                        <p:dataTable id="lovEstructura" liveScroll="true" scrollRows="25" style="width: 430px" var="estructuraA" value="#{controlATAprobacionHE.lovEstructuras}" rowKey="#{estructuraA.secuencia}"
                                     selection="#{controlATAprobacionHE.estructuraSeleccionada}" selectionMode="single" widgetVar="lovEstructura" scrollable="true" scrollWidth="445" scrollHeight="250"
                                     filteredValue="#{controlATAprobacionHE.filtrarLovEstructuras}" emptyMessage="#{msg['lovvacio']}">              
                            <p:ajax event="rowSelect" listener="#{controlATAprobacionHE.activarAceptar()}" update=":formEstructura:aceptarEA"/>
                            <p:ajax event="rowDblselect" listener="#{controlATAprobacionHE.actualizarEstructura()}" process="@this" onstart="lovEstructura.clearFilters()"/>

                            <f:facet name="header">  
                                <h:outputText value="#{msg['buscarEA']}" style="position: absolute; left: 27px; top: 14px"/>  
                                <p:inputText id="globalFilter" onkeyup="lovEstructura.filter();" style="width:150px; position: relative; left: 30px;" />  
                            </f:facet>
                            <p:column filterBy="#{estructuraA.codigo}" width="60" filterMatchMode="contains" filterStyle="width: 50px">
                                <f:facet name="header">
                                    <h:outputText style="text-align: center" value="#{msg['codigo']}" />
                                </f:facet>
                                <h:outputText  value="#{estructuraA.codigo}" />
                            </p:column>
                            <p:column filterBy="#{estructuraA.nombre}" width="200"  filterMatchMode="contains">
                                <f:facet name="header">
                                    <h:outputText value="#{msg['nombre']}" />
                                </f:facet>
                                <h:outputText value="#{estructuraA.nombre}" />
                            </p:column>
                        </p:dataTable>

                        <h:outputText id="infoRegistroEstructura" value="#{controlATAprobacionHE.infoRegistroEstructura}" style="position: absolute; left: 20px; top: 355px; font-weight: bold"/>

                        <p:commandButton id="aceptarEA" style="position: relative; left: 265px" value="#{msg['aceptar']}" disabled="#{controlATAprobacionHE.aceptar}" onclick="EstructuraDialogo.hide(), lovEstructura.clearFilters();" actionListener="#{controlATAprobacionHE.actualizarEstructura()}" update="lovEstructura, aceptarEA" process="@this" icon="ui-icon-check">
                            <p:resetInput target=":formEstructura:lovEstructura:globalFilter"/>
                        </p:commandButton>
                        <p:commandButton id="atrasEA" style="position: relative; left: 265px" value="#{msg['atras']}" onclick="EstructuraDialogo.hide(), lovEstructura.clearFilters();" actionListener="#{controlATAprobacionHE.cancelarCambioEstructura()}" update="lovEstructura" process="@this" icon="ui-icon-arrowreturnthick-1-w">
                            <p:resetInput target=":formEstructura:lovEstructura:globalFilter"/>
                        </p:commandButton>
                    </p:dialog> 

                </h:form>

                <h:form id="formEmpleado">

                    <p:dialog header="#{msg['empleadoM']}" widgetVar="EmpleadoDialogo" draggable="false" resizable="false" closable="false" id="EmpleadoDialogo"  
                              showEffect="fade" hideEffect="fade" width="460" modal="true" >
                        <p:dataTable id="lovEmpleado" liveScroll="true" scrollRows="25" style=" width: 430px" var="empleados" value="#{controlATAprobacionHE.lovEmpleados}" rowKey="#{empleados.secuencia}"
                                     selection="#{controlATAprobacionHE.empleadoSeleccionado}" selectionMode="single" widgetVar="lovEmpleado" scrollable="true" scrollWidth="445" scrollHeight="250"
                                     filteredValue="#{controlATAprobacionHE.filtrarLovEmpleados}" emptyMessage="#{msg['lovvacio']}">              
                            <p:ajax event="rowSelect" listener="#{controlATAprobacionHE.activarAceptar()}" update=":formEmpleado:aceptarE"/>
                            <p:ajax event="rowDblselect" listener="#{controlATAprobacionHE.actualizarEmpleado()}" process="@this" onstart="lovEmpleado.clearFilters()"/>

                            <f:facet name="header">  
                                <h:outputText value="#{msg['buscarE']}" style="position: absolute; left: 27px; top: 14px"/>  
                                <p:inputText id="globalFilter" onkeyup="lovEmpleado.filter();" style="width:150px; position: relative; left: 30px;" />  
                            </f:facet>
                            <p:column filterBy="#{empleados.codigoempleado}" width="60" filterMatchMode="contains" filterStyle="width: 50px">
                                <f:facet name="header">
                                    <h:outputText style="text-align: center" value="#{msg['codigo']}" />
                                </f:facet>
                                <h:outputText  value="#{empleados.codigoempleado}" />
                            </p:column>
                            <p:column filterBy="#{empleados.persona.nombreCompleto}" width="200"  filterMatchMode="contains">
                                <f:facet name="header">
                                    <h:outputText value="#{msg['nombreEmpleado']}" />
                                </f:facet>
                                <h:outputText value="#{empleados.persona.nombreCompleto}" />
                            </p:column>
                        </p:dataTable>

                        <h:outputText id="infoRegistroEmpleado" value="#{controlATAprobacionHE.infoRegistroEmpleado}" style="position: absolute; left: 20px; top: 355px; font-weight: bold"/>

                        <p:commandButton id="aceptarE" style="position: relative; left: 265px" value="#{msg['aceptar']}" disabled="#{controlATAprobacionHE.aceptar}" onclick="EmpleadoDialogo.hide(), lovEmpleado.clearFilters();" actionListener="#{controlATAprobacionHE.actualizarEmpleado()}" update="lovEmpleado, aceptarE" process="@this" icon="ui-icon-check">
                            <p:resetInput target=":formEmpleado:lovEmpleado:globalFilter"/>
                        </p:commandButton>
                        <p:commandButton id="atrasE" style="position: relative; left: 265px" value="#{msg['atras']}" onclick="EmpleadoDialogo.hide(), lovEmpleado.clearFilters();" actionListener="#{controlATAprobacionHE.cancelarCambioEmpleado()}" update="lovEmpleado" process="@this" icon="ui-icon-arrowreturnthick-1-w">
                            <p:resetInput target=":formEmpleado:lovEmpleado:globalFilter"/>
                        </p:commandButton>
                    </p:dialog> 

                </h:form>
                
                <h:form id="formLovEmpleado">

                    <p:dialog header="#{msg['empleadoM']}" widgetVar="LovEmpleadoDialogo" draggable="false" resizable="false" closable="false" id="LovEmpleadoDialogo"  
                              showEffect="fade" hideEffect="fade" width="460" modal="true" >
                        <p:dataTable id="lovLovEmpleado" liveScroll="true" scrollRows="25" style=" width: 430px" var="empleadosLov" value="#{controlATAprobacionHE.lovLovEmpleados}" rowKey="#{empleadosLov.secuencia}"
                                     selection="#{controlATAprobacionHE.empleadoSeleccionado}" selectionMode="single" widgetVar="lovLovEmpleado" scrollable="true" scrollWidth="445" scrollHeight="250"
                                     filteredValue="#{controlATAprobacionHE.filtrarLovEmpleados}" emptyMessage="#{msg['lovvacio']}">              
                            <p:ajax event="rowSelect" listener="#{controlATAprobacionHE.activarAceptar()}" update=":formLovEmpleado:aceptarEL"/>
                            <p:ajax event="rowDblselect" listener="#{controlATAprobacionHE.actualizarEmpleadoTabla()}" process="@this" onstart="lovLovEmpleado.clearFilters()"/>

                            <f:facet name="header">  
                                <h:outputText value="#{msg['buscarE']}" style="position: absolute; left: 27px; top: 14px"/>  
                                <p:inputText id="globalFilter" onkeyup="lovLovEmpleado.filter();" style="width:150px; position: relative; left: 30px;" />  
                            </f:facet>
                            <p:column filterBy="#{empleadosLov.codigoempleado}" width="60" filterMatchMode="contains" filterStyle="width: 50px">
                                <f:facet name="header">
                                    <h:outputText style="text-align: center" value="#{msg['codigo']}" />
                                </f:facet>
                                <h:outputText  value="#{empleadosLov.codigoempleado}" />
                            </p:column>
                            <p:column filterBy="#{empleadosLov.persona.nombreCompleto}" width="200"  filterMatchMode="contains">
                                <f:facet name="header">
                                    <h:outputText value="#{msg['nombreEmpleado']}" />
                                </f:facet>
                                <h:outputText value="#{empleadosLov.persona.nombreCompleto}" />
                            </p:column>
                        </p:dataTable>

                        <h:outputText id="infoRegistroLovEmpleado" value="#{controlATAprobacionHE.infoRegistroEmpleado}" style="position: absolute; left: 20px; top: 355px; font-weight: bold"/>

                        <p:commandButton id="aceptarEL" style="position: relative; left: 265px" value="#{msg['aceptar']}" disabled="#{controlATAprobacionHE.aceptar}" onclick="LovEmpleadoDialogo.hide(), lovLovEmpleado.clearFilters();" actionListener="#{controlATAprobacionHE.actualizarEmpleadoTabla()}" update="lovLovEmpleado, aceptarEL" process="@this" icon="ui-icon-check">
                            <p:resetInput target=":formLovEmpleado:lovLovEmpleado:globalFilter"/>
                        </p:commandButton>
                        <p:commandButton id="atrasEL" style="position: relative; left: 265px" value="#{msg['atras']}" onclick="LovEmpleadoDialogo.hide(), lovLovEmpleado.clearFilters();" actionListener="#{controlATAprobacionHE.cancelarCambioEmpleadoTabla()}" update="lovLovEmpleado" process="@this" icon="ui-icon-arrowreturnthick-1-w">
                            <p:resetInput target=":formLovEmpleado:lovLovEmpleado:globalFilter"/>
                        </p:commandButton>
                    </p:dialog> 

                </h:form>


                <h:form id="formularioDialogos" >


                    <p:dialog id="editarHoraExtraFechaInicial" header="#{msg['editarHoraExtraFechaInicial']}" widgetVar="editarHoraExtraFechaInicial" resizable="false" draggable="false" modal="true" height="55" width="240" style=" padding: 0px">  
                        <p:inputTextarea value="#{controlATAprobacionHE.editarTurnoEmpleado.fechainicial}" style="overflow: auto; width: 200px; height: 40px" readonly="true">                        
                            <f:convertDateTime pattern="dd/MM/yyyy"/>
                        </p:inputTextarea>
                    </p:dialog>

                    <p:dialog id="editarHoraExtraFechaFinal" header="#{msg['editarHoraExtraFechaFinal']}" widgetVar="editarHoraExtraFechaFinal" resizable="false" draggable="false" modal="true" height="55" width="240" style=" padding: 0px">  
                        <p:inputTextarea value="#{controlATAprobacionHE.editarTurnoEmpleado.fechafinal}" style="overflow: auto; width: 200px; height: 40px" readonly="true">                        
                            <f:convertDateTime pattern="dd/MM/yyyy"/>
                        </p:inputTextarea>
                    </p:dialog>

                    <p:dialog id="editarHoraExtraMotivo" header="#{msg['editarHoraExtraMotivo']}" widgetVar="editarHoraExtraMotivo" resizable="false" draggable="false" modal="true" height="55" width="240" >  
                        <p:inputTextarea value="#{controlATAprobacionHE.editarTurnoEmpleado.motivoturno.nombre}" style="overflow: auto; width: 200px; height: 40px" readonly="true"/>
                    </p:dialog>

                    <p:dialog id="editarHoraExtraNHA" header="#{msg['editarHoraExtraNHA']}" widgetVar="editarHoraExtraNHA" resizable="false" draggable="false" modal="true" height="55" width="240" >  
                        <p:inputTextarea value="#{controlATAprobacionHE.editarTurnoEmpleado.descuentahorasalimentacion}" style="overflow: auto; width: 200px; height: 40px" readonly="true"/>
                    </p:dialog>

                    <p:dialog id="editarHoraExtraNVA" header="#{msg['editarHoraExtraNVA']}" widgetVar="editarHoraExtraNVA" resizable="false" draggable="false" modal="true" height="55" width="240" >  
                        <p:inputTextarea value="#{controlATAprobacionHE.editarTurnoEmpleado.pagavalesalimentacion}" style="overflow: auto; width: 200px; height: 40px" readonly="true"/>
                    </p:dialog>

                    <p:dialog id="editarHoraExtraEstructura" header="#{msg['editarHoraExtraEstructura']}" widgetVar="editarHoraExtraEstructura" resizable="false" draggable="false" modal="true" height="55" width="240" >  
                        <p:inputTextarea value="#{controlATAprobacionHE.editarTurnoEmpleado.estructuraaprueba.nombre}" style="overflow: auto; width: 200px; height: 40px" readonly="true"/>
                    </p:dialog>

                    <p:dialog id="editarHoraExtraComentario" header="#{msg['editarHoraExtraComentario']}" widgetVar="editarHoraExtraComentario" resizable="false" draggable="false" modal="true" height="55" width="240" >  
                        <p:inputTextarea value="#{controlATAprobacionHE.editarTurnoEmpleado.comentario}" style="overflow: auto; width: 200px; height: 40px" readonly="true"/>
                    </p:dialog>
                    
                    <p:dialog id="operacionEnProceso" header="#{msg['atencion']}" widgetVar="operacionEnProceso"  resizable="false" draggable="false" modal="true" height="65" width="350px" style="font-size: 12px" closable="false">  
                        <h:graphicImage value="Imagenes/cargando.gif" width="50" height="50" style="position: absolute; left: 30px; top: 10px;"  />
                        <h:outputText value="#{msg['operacionEnProceso']}" style="font-size: 12px; position: absolute; left: 95px; top: 20px; width: 240px; font-weight:bold;" />
                    </p:dialog>

                </h:form>
                <h:form id="formExportar">

                    <p:dataTable id="datosCabeceraExportar" var="infoExpHE" style="visibility: hidden; display: none;"                           
                                 value="#{controlATAprobacionHE.listaTurnosEmpleados}"> 

                        <p:column headerText="#{msg['procesadoX']}">                                  
                            <f:facet name="header"><h:outputText value="#{msg['procesadoX']}"/> </f:facet> 
                            <h:outputText value="#{infoExpHE.codigoempleadoSTR}" />
                        </p:column>

                        <p:column>  
                            <f:facet name="header">
                                <h:outputText value="#{msg['fechaInicialXX']}" />
                            </f:facet>
                            <h:outputText value="#{infoExpHE.fechainicial}" >
                                <f:convertDateTime pattern="dd/MM/yyyy" />
                            </h:outputText>
                        </p:column>

                        <p:column>  
                            <f:facet name="header">
                                <h:outputText value="#{msg['fechaFinalXX']}" />
                            </f:facet>
                            <h:outputText value="#{infoExpHE.fechafinal}" >
                                <f:convertDateTime pattern="dd/MM/yyyy" />
                            </h:outputText>
                        </p:column>

                        <p:column headerText="#{msg['motivoTurnoXX']}">                                  
                            <f:facet name="header"><h:outputText value="#{msg['motivoTurnoX']}"/> </f:facet> 
                            <h:outputText value="#{infoExpHE.motivoturno.nombre}" />
                        </p:column>  

                        <p:column headerText="#{msg['nhaX']}">                                  
                            <f:facet name="header"><h:outputText value="#{msg['nhaX']}"/> </f:facet> 
                            <h:outputText value="#{infoExpHE.descuentahorasalimentacion}" />
                        </p:column>

                        <p:column headerText="#{msg['nvaX']}">                                  
                            <f:facet name="header"><h:outputText value="#{msg['nvaX']}"/> </f:facet> 
                            <h:outputText value="#{infoExpHE.pagavalesalimentacion}" />
                        </p:column>  

                        <p:column headerText="#{msg['pagavaleXX']}">                                  
                            <f:facet name="header"><h:outputText value="#{msg['pagavaleX']}"/> </f:facet> 
                            <h:outputText value="#{infoExpHE.pagasolovale}" />
                        </p:column>  

                        <p:column headerText="#{msg['estructuraAprobacionXX']}">                                  
                            <f:facet name="header"><h:outputText value="#{msg['estructuraAprobacionX']}"/> </f:facet> 
                            <h:outputText value="#{infoExpHE.estructuraaprueba.nombre}" />
                        </p:column>  

                        <p:column headerText="#{msg['comentarioX']}">                                  
                            <f:facet name="header"><h:outputText value="#{msg['comentarioX']}"/> </f:facet> 
                            <h:outputText value="#{infoExpHE.comentario}" />
                        </p:column>  

                    </p:dataTable>

                </h:form>
            </ui:define>
        </ui:composition>
    </h:body>
</html>

