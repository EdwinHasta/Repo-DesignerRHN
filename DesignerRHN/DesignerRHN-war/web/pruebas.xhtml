<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets">
    <h:head>
        <title>Pruebas</title>
    </h:head>
    <h:body> 
        <ui:composition template="template.xhtml">
            <ui:define name="body">  
                <h:form id="form" >
                    <p:commandButton id="foto" value=""  style="background-size: 100% 100%;background-image: url(ArchivosCargados/#{controlRemoto.fotoEmpleado}); width: 49px; height: 60px; background-repeat: no-repeat;" onclick="Cargar.show();" update=":formEncrip:FileUp"/> 
                    #{controlRemoto.fotoEmpleado}
                    <p:commandButton id="atrasHV" value="Atras" action="nomina" process="@this"/> 

                    <p:dialog  modal="true" widgetVar="Exito" header="Estado"  draggable="false"> 
                        <h:outputText style="font-size: 11px;" value="Archivo Cargado con Exito" /><br/>
                        <p:commandButton value="Aceptar" onclick="Exito.hide()" update="foto" style="font-size: 11px;" />
                    </p:dialog>  

                </h:form>
                <h:form id="formEncrip" enctype="multipart/form-data">
                    <p:dialog modal="true" widgetVar="Cargar" header="Cargar Foto"  draggable="false"> 
                        <p:fileUpload  id="FileUp" mode="advanced" sizeLimit="2097152" allowTypes="/(\.|\/)(gif|jpe?g|png)$/" 
                                       style="font-size: 11px;" fileUploadListener="#{controlRemoto.handleFileUpload}"
                                       cancelLabel="Cancelar" uploadLabel="Cargar Archivo" label="Examinar..."
                                       invalidFileMessage="Formato de Archivo invalido"
                                       invalidSizeMessage="El tamaÃ±o del archivo excede el maximo de 2MB" auto="true"/>

                    </p:dialog> 
                </h:form> 
            </ui:define>
        </ui:composition>
    </h:body>
</html>

