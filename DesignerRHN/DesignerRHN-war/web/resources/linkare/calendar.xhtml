<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:cc="http://java.sun.com/jsf/composite"
      xmlns:linkare="http://java.sun.com/jsf/composite/linkare">



    <!-- INTERFACE -->
    <cc:interface>
        <cc:attribute name="value" type="java.util.Date" shortDescription="The value of this component" required="false" />
        <cc:attribute name="mask" type="java.lang.String" 
                      required="false" default="99/99/9999"
                      shortDescription="The mask of the input component. The default value is 99/99/9999" />
        <cc:attribute name="pattern" type="java.lang.String"
                      required="false" default="dd/MM/yyyy"
                      shortDescription="The date pattern for the component. It should match the mask pattern. 
                      The default value is dd/MM/yyyy" />
        <cc:attribute name="color" default="black" shortDescription="Color pode default del componente"/>
        <cc:attribute name="decoration" default="none" shortDescription="Decoration default del componente"/>
        <cc:attribute name="width" default="70" shortDescription="Ancho componente referenciado en pixeles"/>
        <cc:attribute name="height" default="12" shortDescription="Alto componente referenciado en porcentaje"/>
        <cc:attribute name="disabled" default="false" shortDescription="Activo/Inactivo componente fecha"/>
        <cc:attribute name="readonly" default="false" shortDescription="ReadOnly del componente fecha"/>
        <cc:attribute name="onclick" default="" shortDescription="Llamado a una funcion js al dar click en el componente."/>
        <cc:attribute name="onselect" default="" shortDescription="Llamado a una funcion js al dar click en el componente."/>
        <cc:attribute name="onchange" default="" shortDescription="Onchange event lnkcalendar"/>
        <cc:clientBehavior name="dateSelect" targets="calendar"  event="dateSelect" />
        <cc:clientBehavior name="select" targets="calendar" event="select" />
        <cc:clientBehavior name="change" targets="calendar" event="change" />
        <cc:clientBehavior name="click" targets="calendar" event="click"/>
        <cc:clientBehavior name="focus" targets="calendar" event="focus"/>
    </cc:interface>

    <!-- IMPLEMENTATION -->
    <cc:implementation>
        <!-- This component has been simplified but it could include any attribute of the inputMask 
         component that we wish our developer clients to be able to specify -->
        <p:inputMask id="calendar" onclick="select();#{cc.attrs.onclick}"  onselect="#{cc.attrs.onselect}" 
                     onchange="#{cc.attrs.onchange}" readonly="#{cc.attrs.readonly}" 
                     disabled="#{cc.attrs.disabled}" mask="#{cc.attrs.mask}" 
                     value="#{cc.attrs.value}" style="height: #{cc.attrs.height}px; width: #{cc.attrs.width}px; 
                     color: #{cc.attrs.color}; text-decoration: #{cc.attrs.decoration}" 
                     styleClass="masked_calendar"
                     >
            <f:convertDateTime pattern="#{cc.attrs.pattern}" timeZone="America/Bogota" locale="es" />
        </p:inputMask>
        <h:outputScript target="head" library="js" name="calendar.js"  />
    </cc:implementation>
</html>