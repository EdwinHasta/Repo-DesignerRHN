
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<TITLE>ForEach &mdash; OpenFaces documentation</TITLE>
<LINK href="styles/style.css" rel="stylesheet" type="text/css">
<LINK rel="icon" href="favicon.ico" type="image/x-icon">
<LINK rel="shortcut icon" href="favicon.ico" type="image/x-icon">
</HEAD>

<BODY>
<DIV id="logo"><A href="index.html"><IMG src="images/documentation_logo.gif" alt="OpenFaces Documentation" border="0"></A><BR><SPAN style="margin-top:0;">Version 3.0.0</SPAN></DIV>
<TABLE width="100%" border="0" cellspacing="0" cellpadding="0">
  <TR>
    <TD width="240px" align="right" valign="bottom" style="border-bottom:1px solid #CCCCCC;">&nbsp;</TD>
    <TD height="30px" style="border-bottom:1px solid #CCCCCC;">&nbsp;</TD>
  </TR>
  <TR>
    <TD colspan="2" valign="top"><H1>ForEach</H1></TD>
  </TR>
  <TR>
    <TD valign="top" style="background: url(images/line.gif) #fbfbfc repeat-y right; padding:0px 0px 0px 0px; width:240px; margin: 0px 0px 0px 0px;">
	<TABLE width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#ffffff">
	<TR>
	<TD>
        <DIV class="contents index" style="background-color:#FFFFFF; width:260px;"><UL>
    <LI><A href="#ForEach-KeyFeatures">Key Features</A></LI>
    <LI><A href="#ForEach-KindsofIteration">Kinds of Iteration</A></LI>
<UL>
    <LI><A href="#ForEach-ItemIteration">Item Iteration</A></LI>
    <LI><A href="#ForEach-ItemRangeIteration">Item Range Iteration</A></LI>
    <LI><A href="#ForEach-PureNumberIteration">Pure Number Iteration</A></LI>
    <LI><A href="#ForEach-KnownIssues">Known Issues</A></LI>
</UL>
</UL></DIV>
	</TD>
	</TR>
	</TABLE>
	<DIV class="components_links">
				<A href="index.html">Developer&rsquo;s Guide Home</A><BR>
		  <A href="installation-and-configuration.html">Installation and Configuration</A><BR>
		  <A href="common-concepts.html">Common Concepts</A><BR>
          <A href="components-index.html" style="padding-bottom:0.5em;">Components Index</A>
                    <HR noshade="noshade" size="1px" color="#d5d6d7" width="85%">
                    <A href="borderlayoutpanel.html">Border Layout Panel</A><BR>
                    <A href="calendar.html">Calendar</A><BR>
                    <A href="chart.html">Chart</A><BR>
                    <A href="commandbutton.html">Command Button</A><BR>
                    <A href="commandlink.html">Command Link</A><BR>
                    <A href="compositefilter.html">Composite Filter</A><BR>
                    <A href="confirmation.html">Confirmation</A><BR>
                    <A href="datatable.html">Data Table</A><BR>
                    <A href="datechooser.html">Date Chooser</A><BR>
                    <A href="daytable.html">Day Table</A><BR>
                    <A href="dropdownfield.html">Drop Down Field</A><BR>
                    <A href="dynamicimage.html">Dynamic Image</A><BR>
                    <A href="foldingpanel.html">Folding Panel</A><BR>
                    <A href="foreach.html">For Each</A><BR>
                    <A href="graphictext.html">Graphic Text</A><BR>
                    <A href="hintlabel.html">Hint Label</A><BR>
                    <A href="inputtext.html">Input Text</A><BR>
                    <A href="inputtextarea.html">Input Textarea</A><BR>
                    <A href="layeredpane.html">Layered Pane</A><BR>
                    <A href="levelindicator.html">Level Indicator</A><BR>
                    <A href="popuplayer.html">Popup Layer</A><BR>
                    <A href="popupmenu.html">Popup Menu</A><BR>
                    <A href="selectbooleancheckbox.html">Select Boolean Checkbox</A><BR>
                    <A href="selectmanycheckbox.html">Select Many Checkbox</A><BR>
                    <A href="selectoneradio.html">Select One Radio</A><BR>
                    <A href="spinner.html">Spinner</A><BR>
		            <A href="suggestionfield.html">Suggestion Field</A><BR>
                    <A href="tabbedpane.html">Tabbed Pane</A><BR>
                    <A href="tabset.html">Tab Set</A><BR>
                    <A href="treetable.html">Tree Table</A><BR>
                    <A href="twolistselection.html">Two List Selection</A><BR>
                    <A href="window.html" style="padding-bottom:0.5em;">Window</A>
                    <HR noshade="noshade" size="1px" color="#d5d6d7" width="85%">
                    <A href="focus.html">Focus</A><BR>
                    <A href="loadbundle.html">Load Bundle</A><BR>
                    <A href="scrollposition.html" style="padding-bottom:0.5em;">Scroll Position</A>
                    <HR noshade="noshade" size="1px" color="#d5d6d7" width="85%">
                    <A href="ajax-framework.html">Ajax Framework</A>
                    <UL>
                        <LI><A href="ajax.html">Ajax Component</A><BR></LI>
                        <LI><A href="ajax-framework.html#AjaxFramework-PageWideConfiguration">Ajax Settings Component</A><BR></LI>
                    </UL>
                    <A href="validation-framework.html">Validation Framework</A>
                    <HR noshade="noshade" size="1px" color="#d5d6d7" width="85%">
                    <A href="../tagReference/index.html">Tag Reference</A><BR>
                    <A href="../apiReference/index.html">API Reference</A>
	<DIV style=" width:240px; height:0px; padding: 0px; margin:0px;"></DIV>
		</DIV>
	</TD>

		<TD style="padding-bottom:1em; padding-left:2em;"><P>
<TABLE  border="0" cellpadding="5" cellspacing="0" width="100%"><TBODY><TR>
<TD valign="top" width="60%">
<P>The <CITE>ForEach</CITE> component is an iterator component that renders the specified set of components multiple times based on its parameters. The <CITE>ForEach</CITE> component is similar to the JSTL <SPAN class="tag">&lt;c:forEach&gt;</SPAN> tag, though it can be used to overcome some of the shortcomings of <SPAN class="tag">&lt;c:forEach&gt;</SPAN> tag and to eliminate the need for an additional JSTL dependency.</P></TD>
<TD valign="top" width="40%">
<P><A href="../apiReference/org/openfaces/component/util/ForEach.html" rel="nofollow">API Reference</A> &#124; <A href="../tagReference/o/forEach.html" rel="nofollow">Tag Reference</A><BR>
<A href="http://www.openfaces.org/demo/foreach/" rel="nofollow">Online Demo</A></P></TD></TR></TBODY></TABLE>

<H2><A name="ForEach-KeyFeatures"></A>Key Features</H2>

<UL>
	<LI>Iterating over a collection of objects</LI>
	<LI>Specifying iteration index range and step</LI>
	<LI>Wide range of supported collection types</LI>
</UL>


<H2><A name="ForEach-KindsofIteration"></A>Kinds of Iteration</H2>

<P>The <CITE>ForEach</CITE> component is represented by the <SPAN class="tag">&lt;o:forEach&gt;</SPAN> tag with a set of child components and/or HTML markup. The content of the <SPAN class="tag">&lt;o:forEach&gt;</SPAN> tag will be rendered several times once for each iteration step according to the iteration parameters specified with <SPAN class="tag">&lt;o:forEach&gt;</SPAN> tag's attributes. Note that although <CITE>ForEach</CITE> is identical in API to the JSTL <SPAN class="tag">&lt;c:forEach&gt;</SPAN> tag, the <SPAN class="tag">&lt;o:forEach&gt;</SPAN> tag doesn't create several instances of iteration components as <SPAN class="tag">&lt;c:forEach&gt;</SPAN> does. Instead of this, the same child components are rendered several but with different parameters &ndash; once per each iteration step. Below are the descriptions of various kinds of iteration possible with the <CITE>ForEach</CITE> component.</P>

<H3><A name="ForEach-ItemIteration"></A>Item Iteration</H3>

<P>The simplest and probably the most popular way of iteration is iterating over a collection of objects, the inner components of the <SPAN class="tag">&lt;o:forEach&gt;</SPAN> tag are rendered once for each object. Here's an example:</P>

<PRE class="code_area">&lt;o:forEach items=<SPAN class="code_area_values">&quot;#{MyBean.tasks}&quot;</SPAN> <SPAN class="code-keyword">var</SPAN>=<SPAN class="code_area_values">&quot;task&quot;</SPAN> varStatus=<SPAN class="code_area_values">&quot;status&quot;</SPAN>&gt;
  &lt;h:outputText value=<SPAN class="code_area_values">&quot;#{status.count}. #{task.name}&quot;</SPAN>/&gt; 
  &lt;br/&gt;
&lt;/o:forEach&gt;</PRE>

<P>As you can see in this example, the collection of items can be specified using the <SPAN class="attribute">items</SPAN> attribute, and this attribute should be declared as value binding to one of the following types:</P>
<UL class="alternate" type="square">
	<LI><SPAN class="attribute">java.util.Collection</SPAN> (or any of its implementations);</LI>
	<LI>array;</LI>
	<LI><SPAN class="attribute">javax.faces.model.DataModel</SPAN> (or any of its implementations);</LI>
	<LI><SPAN class="attribute">java.sql.ResultSet</SPAN>;</LI>
	<LI><SPAN class="attribute">javax.servlet.jsp.jstl.sql.Result</SPAN>.</LI>
</UL>


<P>The <CITE>ForEach</CITE> component will render its content once for each item, and the rendered content can use the current item and current iteration step parameter variables specified with the following attributes:</P>
<UL class="alternate" type="square">
	<LI><SPAN class="attribute">var</SPAN> attribute specifies the name of the variable referring to the currently rendered item, and</LI>
	<LI><SPAN class="attribute">varStatus</SPAN> attribute specifies the name of the variable referring to the current iteration status object.</LI>
</UL>


<P>The iteration status object is of type <A href="../apiReference/org/openfaces/component/util/IterationStatus.html" rel="nofollow"><SPAN class="attribute">IterationStatus</SPAN></A>, and it provides the following information on the current iteration step:</P>
<UL class="alternate" type="square">
	<LI><SPAN class="attribute">current</SPAN> property refers to the current item object.</LI>
	<LI><SPAN class="attribute">count</SPAN> is a number of the current round of iteration. The first round has a value of <SPAN class="code_area_values">1</SPAN>.</LI>
	<LI><SPAN class="attribute">first</SPAN> returns <SPAN class="code_area_values">true</SPAN> if the current round of iteration is the first one, that is when the first item is being displayed.</LI>
	<LI><SPAN class="attribute">last</SPAN> returns <SPAN class="code_area_values">true</SPAN> if the current round of iteration is the last one, that is when the last item is being displayed.</LI>
	<LI><SPAN class="attribute">begin</SPAN> defines the value of the <SPAN class="tag">&lt;o:forEach&gt;</SPAN> tag's <SPAN class="attribute">begin</SPAN> attribute if specified, and <SPAN class="code_area_values">null</SPAN> otherwise. This attribute will be described in the following two sections.</LI>
	<LI><SPAN class="attribute">end</SPAN> defines the value of the <SPAN class="tag">&lt;o:forEach&gt;</SPAN> tag's <SPAN class="attribute">end</SPAN> attribute if specified, and <SPAN class="code_area_values">null</SPAN> otherwise. This attribute will be described in the following two sections.</LI>
	<LI><SPAN class="attribute">step</SPAN> defines the value of the <SPAN class="tag">&lt;o:forEach&gt;</SPAN> tag's <SPAN class="attribute">step</SPAN> attribute if specified, and <SPAN class="code_area_values">null</SPAN> otherwise. This attribute attribute will be described in the following two sections.</LI>
	<LI><SPAN class="attribute">index</SPAN> defines the number corresponding to the current round of iteration. When iterating over a collection this number corresponds to an collection index of the currently displayed item. Unlike the <SPAN class="attribute">count</SPAN> value value of <SPAN class="attribute">index</SPAN> property depends on <SPAN class="attribute">begin</SPAN>, <SPAN class="attribute">end</SPAN>, and <SPAN class="attribute">step</SPAN> attributes of the <SPAN class="attribute">&lt;o:forEach&gt;</SPAN> tag.</LI>
</UL>


<P>The example above uses the <SPAN class="attribute">count</SPAN> property for displaying the task number before task name.</P>

<H3><A name="ForEach-ItemRangeIteration"></A>Item Range Iteration</H3>

<P>This kind of iteration is actually an extension of the ordinary item iteration feature described above. It is possible to specify restrict the range of displayed items, display items in the reverse order, and specify the iteration step so that every n-th item be rendered. Here's an example that demonstrates all of these possibilities:</P>

<PRE class="code_area">&lt;o:forEach items=<SPAN class="code_area_values">&quot;#{MyBean.tasks}&quot;</SPAN> begin=<SPAN class="code_area_values">&quot;#{MyBean.lastTaskIndex}&quot;</SPAN> end=<SPAN class="code_area_values">&quot;0&quot;</SPAN> step=<SPAN class="code_area_values">&quot;-1&quot;</SPAN> <SPAN class="code-keyword">var</SPAN>=<SPAN class="code_area_values">&quot;task&quot;</SPAN> varStatus=<SPAN class="code_area_values">&quot;status&quot;</SPAN>&gt;
  &lt;h:outputText value=<SPAN class="code_area_values">&quot;#{status.count}. (#{status.index}) -- #{task.name}&quot;</SPAN>/&gt; 
  &lt;br/&gt;
&lt;/o:forEach&gt;</PRE>

<P>The <SPAN class="attribute">begin</SPAN> and <SPAN class="attribute">end</SPAN> attributes specify the zero-based indexes that specify the sub-range of the displayed items. These numbers are inclusive which means that both boundaries of the range are included into iteration. The <SPAN class="attribute">step</SPAN> attribute specifies the index increase step between the successive iteration rounds. It's possible to specify the <SPAN class="attribute">begin</SPAN> value greater than the <SPAN class="attribute">end</SPAN> value for the reverse iteration order, but in this case you'll also need to specify a negative <SPAN class="attribute">step</SPAN> value, as shown in the example above.</P>

<P>Note that the <SPAN class="attribute">count</SPAN> property of the iteration status object always returns values <SPAN class="attribute">1</SPAN>, <SPAN class="attribute">2</SPAN>, <SPAN class="attribute">3</SPAN>, etc... regardless of the range settings, and the <SPAN class="attribute">index</SPAN> property returns the actual zero-based collection index for the current iteration step, so in case of three-item collection, it will take the values of <SPAN class="attribute">2</SPAN>, <SPAN class="attribute">1</SPAN>, <SPAN class="attribute">0</SPAN> in the example above.</P>

<H3><A name="ForEach-PureNumberIteration"></A>Pure Number Iteration</H3>

<P>It is possible not to specify the collection of items, and just specify the <SPAN class="attribute">begin</SPAN>, <SPAN class="attribute">end</SPAN>, and optionally <SPAN class="attribute">step</SPAN> attributes for the <SPAN class="tag">&lt;o:forEach&gt;</SPAN> tag, which will perform the iteration similar to how it is described in the previous section but without using the collection items. The <SPAN class="attribute">count</SPAN> and <SPAN class="attribute">index</SPAN> iteration parameters will still have the same meaning as described in the previous section, but the value of the <SPAN class="attribute">var</SPAN> variable (and the <SPAN class="attribute">current</SPAN> property in iteration status) will return <SPAN class="code_area_values">null</SPAN>. Here's a simple example of number-based, which creates five <SPAN class="attribute">&lt;div&gt;</SPAN> tags with a 1-based number within each of them:</P>
<PRE class="code_area">&lt;o:forEach begin=<SPAN class="code_area_values">&quot;1&quot;</SPAN> end=<SPAN class="code_area_values">&quot;5&quot;</SPAN> varStatus=<SPAN class="code_area_values">&quot;status&quot;</SPAN>&gt;
  &lt;div&gt;#{status.index}&lt;/div&gt;
&lt;/o:forEach&gt;</PRE>

<H3><A name="ForEach-KnownIssues"></A>Known Issues</H3>

<UL class="alternate" type="square">
	<LI>It's not possible to use input components in nested ForEach components.</LI>
</UL>

    </TD>

  </TR>

  <TR>
    <TD height="50" align="left" class="copyright" style="border-top:1px solid #CCCCCC;">&copy; 2010 <A href="http://www.teamdev.com/">TeamDev Ltd</A>.</TD>
    <TD height="50" align="right" style="border-top:1px solid #CCCCCC;"><A style="border-bottom: none;" href="http://www.openfaces.org"><IMG src="images/logo.gif" alt="OpenFaces" width="124" height="28" border="0"></A></TD>
  </TR>
</TABLE>
</BODY>

</HTML>
