
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<TITLE>LayeredPane &mdash; OpenFaces documentation</TITLE>
<LINK href="styles/style.css" rel="stylesheet" type="text/css">
<LINK rel="icon" href="favicon.ico" type="image/x-icon">
<LINK rel="shortcut icon" href="favicon.ico" type="image/x-icon">
</HEAD>

<BODY>
<DIV id="logo"><A href="index.html"><IMG src="images/documentation_logo.gif" alt="OpenFaces Documentation" border="0"></A><BR><SPAN style="margin-top:0;">Version 3.0.0</SPAN></DIV>
<TABLE width="100%" border="0" cellspacing="0" cellpadding="0">
  <TR>
    <TD width="240px" align="right" valign="bottom" style="border-bottom:1px solid #CCCCCC;">&nbsp;</TD>
    <TD height="30px" style="border-bottom:1px solid #CCCCCC;">&nbsp;</TD>
  </TR>
  <TR>
    <TD colspan="2" valign="top"><H1>LayeredPane</H1></TD>
  </TR>
  <TR>
    <TD valign="top" style="background: url(images/line.gif) #fbfbfc repeat-y right; padding:0px 0px 0px 0px; width:240px; margin: 0px 0px 0px 0px;">
	<TABLE width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#ffffff">
	<TR>
	<TD>
        <DIV class="contents index" style="background-color:#FFFFFF; width:260px;"><UL><LI><A href="#LayeredPane-KeyFeatures">Key Features</A></LI>
    <LI><A href="#LayeredPane-BasicInformation">Basic Information</A></LI>
    <LI><A href="#LayeredPane-ClientSideSwitchingandLoadingModes">Client-Side Switching and Loading Modes</A></LI>
    <LI><A href="#LayeredPane-ClientSideEvents">Client-Side Events</A></LI>
    <LI><A href="#LayeredPane-ServerSideEventListeners">Server-Side Event Listeners</A></LI>
    <LI><A href="#LayeredPane-ClientSideAPI">Client-Side API</A></LI></UL></DIV>
	</TD>
	</TR>
	</TABLE>
	<DIV class="components_links">
				<A href="index.html">Developer&rsquo;s Guide Home</A><BR>
		  <A href="installation-and-configuration.html">Installation and Configuration</A><BR>
		  <A href="common-concepts.html">Common Concepts</A><BR>
          <A href="components-index.html" style="padding-bottom:0.5em;">Components Index</A>
                    <HR noshade="noshade" size="1px" color="#d5d6d7" width="85%">
                    <A href="borderlayoutpanel.html">Border Layout Panel</A><BR>
                    <A href="calendar.html">Calendar</A><BR>
                    <A href="chart.html">Chart</A><BR>
                    <A href="commandbutton.html">Command Button</A><BR>
                    <A href="commandlink.html">Command Link</A><BR>
                    <A href="compositefilter.html">Composite Filter</A><BR>
                    <A href="confirmation.html">Confirmation</A><BR>
                    <A href="datatable.html">Data Table</A><BR>
                    <A href="datechooser.html">Date Chooser</A><BR>
                    <A href="daytable.html">Day Table</A><BR>
                    <A href="dropdownfield.html">Drop Down Field</A><BR>
                    <A href="dynamicimage.html">Dynamic Image</A><BR>
                    <A href="foldingpanel.html">Folding Panel</A><BR>
                    <A href="foreach.html">For Each</A><BR>
                    <A href="graphictext.html">Graphic Text</A><BR>
                    <A href="hintlabel.html">Hint Label</A><BR>
                    <A href="inputtext.html">Input Text</A><BR>
                    <A href="inputtextarea.html">Input Textarea</A><BR>
                    <A href="layeredpane.html">Layered Pane</A><BR>
                    <A href="levelindicator.html">Level Indicator</A><BR>
                    <A href="popuplayer.html">Popup Layer</A><BR>
                    <A href="popupmenu.html">Popup Menu</A><BR>
                    <A href="selectbooleancheckbox.html">Select Boolean Checkbox</A><BR>
                    <A href="selectmanycheckbox.html">Select Many Checkbox</A><BR>
                    <A href="selectoneradio.html">Select One Radio</A><BR>
                    <A href="spinner.html">Spinner</A><BR>
		            <A href="suggestionfield.html">Suggestion Field</A><BR>
                    <A href="tabbedpane.html">Tabbed Pane</A><BR>
                    <A href="tabset.html">Tab Set</A><BR>
                    <A href="treetable.html">Tree Table</A><BR>
                    <A href="twolistselection.html">Two List Selection</A><BR>
                    <A href="window.html" style="padding-bottom:0.5em;">Window</A>
                    <HR noshade="noshade" size="1px" color="#d5d6d7" width="85%">
                    <A href="focus.html">Focus</A><BR>
                    <A href="loadbundle.html">Load Bundle</A><BR>
                    <A href="scrollposition.html" style="padding-bottom:0.5em;">Scroll Position</A>
                    <HR noshade="noshade" size="1px" color="#d5d6d7" width="85%">
                    <A href="ajax-framework.html">Ajax Framework</A>
                    <UL>
                        <LI><A href="ajax.html">Ajax Component</A><BR></LI>
                        <LI><A href="ajax-framework.html#AjaxFramework-PageWideConfiguration">Ajax Settings Component</A><BR></LI>
                    </UL>
                    <A href="validation-framework.html">Validation Framework</A>
                    <HR noshade="noshade" size="1px" color="#d5d6d7" width="85%">
                    <A href="../tagReference/index.html">Tag Reference</A><BR>
                    <A href="../apiReference/index.html">API Reference</A>
	<DIV style=" width:240px; height:0px; padding: 0px; margin:0px;"></DIV>
		</DIV>
	</TD>

		<TD style="padding-bottom:1em; padding-left:2em;"><P>
<TABLE  border="0" cellpadding="5" cellspacing="0" width="100%"><TBODY><TR>
<TD valign="top" width="60%">
<P>The <CITE>LayeredPane</CITE> component is a container which allows switching between different sets of displayed components. Each set of components, called a page, is declared within the <CITE>LayeredPane</CITE> component and it's possible to use both server-side and client-side API for selecting the currently displayed page. <CITE>LayeredPane</CITE> provides different page loading modes to allow quick client-side switching or Ajax-based page switching.</P>
</TD>
<TD valign="top" width="40%">
<P><IMG src="components-index.data/layeredpane.jpg" align="absmiddle" border="0"><BR>
<A href="../apiReference/org/openfaces/component/panel/LayeredPane.html" rel="nofollow">API Reference</A> &#124; <A href="../tagReference/o/layeredPane.html" rel="nofollow">Tag Reference</A><BR>
<A href="http://www.openfaces.org/demo/layeredpane/" rel="nofollow">Online Demo</A></P></TD></TR></TBODY></TABLE>

<H2><A name="LayeredPane-KeyFeatures"></A>Key Features</H2>

<UL>
	<LI><A href="#LayeredPane-ClientSideSwitchingandLoadingModes">Client side page switching with different loading modes</A></LI>
	<LI><A href="#LayeredPane-BasicInformation">Declaring a static list of pages right within jsp/xhtml page</A></LI>
	<LI><A href="#LayeredPane-BasicInformation">Support for a dynamic list of pages constructed programmatically</A></LI>
</UL>


<H2><A name="LayeredPane-BasicInformation"></A>Basic Information</H2>

<P>The <CITE>LayeredPane</CITE> component can be declared using the <SPAN class="tag">&lt;o:layeredPane&gt;</SPAN> tag with list of child <SPAN class="tag">&lt;o:subPanel&gt;</SPAN> tags, where each <SPAN class="tag">&lt;o:subPanel&gt;</SPAN> specifies one page in the <CITE>LayeredPane</CITE> component. The <SPAN class="tag">&lt;o:subPanel&gt;</SPAN> tag should contain an arbitray set of components that will be displayed as the content for <CITE>LayeredPane</CITE> when this page is selected.</P>

<P>Here's a simple example where three pages are declared and a simple server-side page switching mechanism is provided:</P>
<PRE class="code_area">&lt;o:layeredPane id=<SPAN class="code_area_values">&quot;layeredPane&quot;</SPAN> 
               selectedIndex=<SPAN class="code_area_values">&quot;#{requestScope['pageIndex']}&quot;</SPAN>
               style=<SPAN class="code_area_values">&quot;border: 1px solid black&quot;</SPAN>&gt;
  &lt;o:subPanel&gt;
    &lt;div&gt;Page 1 content.&lt;/div&gt;
    &lt;h:outputText value=<SPAN class="code_area_values">&quot;Hello!&quot;</SPAN>/&gt;
  &lt;/o:subPanel&gt;
  &lt;o:subPanel&gt;
    &lt;div&gt;Page 2 content.&lt;/div&gt;
    &lt;o:graphicText value=<SPAN class="code_area_values">&quot;Hi!&quot;</SPAN> direction=<SPAN class="code_area_values">&quot;45&quot;</SPAN> style=<SPAN class="code_area_values">&quot;font-size: 27px;&quot;</SPAN>/&gt;
  &lt;/o:subPanel&gt;
  &lt;o:subPanel&gt;
    &lt;div&gt;Page 3 content.&lt;/div&gt;
    &lt;h:inputTextarea/&gt;
  &lt;/o:subPanel&gt;
&lt;/o:layeredPane&gt;

&lt;o:spinner value=<SPAN class="code_area_values">&quot;#{requestScope['pageIndex']}&quot;</SPAN> value=<SPAN class="code_area_values">&quot;0&quot;</SPAN> minValue=<SPAN class="code_area_values">&quot;0&quot;</SPAN> maxValue=<SPAN class="code_area_values">&quot;2&quot;</SPAN>&gt;
  &lt;o:ajax event=<SPAN class="code_area_values">&quot;change&quot;</SPAN> render=<SPAN class="code_area_values">&quot;layeredPane&quot;</SPAN>/&gt;
&lt;/o:spinner&gt;</PRE>

<P>As you can see from the example above, the currently displayed page is identified by the value of <SPAN class="attribute">selectedIndex</SPAN> attribute, which should refer to the zero-based integer number. Like the standard <SPAN class="tag">&lt;h:panelGroup&gt;</SPAN> and <SPAN class="tag">&lt;h:panelGrid&gt;</SPAN> components, <SPAN class="tag">&lt;o:layeredPane&gt;</SPAN> doesn't have any visual decorations for the child compoenents though it's possible to apply the style for the container using the <SPAN class="attribute">style</SPAN> and <SPAN class="attribute">styleClass</SPAN> attributes, as well as the style applied when the mouse hovers over the container using the <SPAN class="attribute">rolloverStyle</SPAN> and <SPAN class="attribute">rolloverClass</SPAN> attributes.</P>

<P>It is also possible to specify the list of pages that is composed at run time. This can be achieved by adding the  <SPAN class="tag">&lt;o:subPanels&gt;</SPAN> tag inside of the <SPAN class="tag">&lt;o:layeredPane&gt;</SPAN> tag. The the <SPAN class="attribute">value</SPAN> attribute of this tag must be a value binding expression that references a collection of <SPAN class="attribute">org.openfaces.component.panel.SubPanel</SPAN> objects.</P>

<P>Here's an example:</P>
<PRE class="code_area">&lt;o:layeredPane&gt;
  &lt;o:subPanels value=<SPAN class="code_area_values">&quot;#{MyBean.dynamicPanels}&quot;</SPAN>/&gt;
&lt;/o:layeredPane&gt;
...

<SPAN class="code-keyword">public</SPAN> List&lt;SubPanel&gt; getDynamicPanels() {
  ...
}</PRE>
<P>You can combine these two approaches by placing the <SPAN class="tag">&lt;o:subPanel&gt;</SPAN> and <SPAN class="tag">&lt;o:subPanels&gt;</SPAN> tags in any order you need.</P>

<P>Note that when referring to a page by index, e.g. with the <SPAN class="attribute">selectedIndex</SPAN> attribute, the pages are indexed regardless of the value of their <SPAN class="attribute">rendered</SPAN> attribute. In other words, the <SPAN class="attribute">selectedIndex</SPAN> attribute refers to all of the tabs specified in the <CITE>LayeredPane</CITE> component, and not just visible tabs.</P>

<H2><A name="LayeredPane-ClientSideSwitchingandLoadingModes"></A>Client-Side Switching and Loading Modes</H2>

<P>Besides the server-side page switching API with the <SPAN class="attribute">selectedIndex</SPAN> attribute, there's the client-side API that works in combination with the customizible loading modes. The current page can be change using the client-side <SPAN class="attribute">setSelectedIndex(index)</SPAN> <CITE>SidePanel</CITE>'s method. Invoking this method makes the specified page to be shown depending on the current loading mode.</P>

<P>The way the data in the <CITE>LayeredPane</CITE> component is loaded when invoking the <SPAN class="attribute">setSelectedIndex(index)</SPAN> function depends on the <SPAN class="attribute">loadingMode</SPAN> attribute, which can take one of the following values:</P>
<UL>
	<LI><SPAN class="code_area_values">&quot;client&quot;</SPAN> &#45; The content of all pages is loaded to the client side on the initial page load. So when any <CITE>LayeredPane</CITE> page is selected, no content needs to be loaded from the server.</LI>
	<LI><SPAN class="code_area_values">&quot;ajaxLazy&quot;</SPAN> (default) - The page content is retrieved from the server with Ajax request upon the first switch to the page. Once requested, the content is stored on the client and is shown without additional server requests.</LI>
	<LI><SPAN class="code_area_values">&quot;ajaxAlways&quot;</SPAN> - The page content is retrieved from the server with Ajax request on every switch to the page.</LI>
	<LI><SPAN class="code_area_values">&quot;server&quot;</SPAN> &#45; Every time a when selecting a page, the whole browser's page is reloaded to show the <CITE>LayeredPane</CITE>'s page content.</LI>
</UL>


<P>Below is a modification of the previous example which has with the <SPAN class="code_area_values">&quot;client&quot;</SPAN> loading mode and uses the <SPAN class="attribute">setSelectedIndex</SPAN> function, so when a page is selected it is shown immediately without any server requests.</P>
<PRE class="code_area">&lt;o:layeredPane id=<SPAN class="code_area_values">&quot;layeredPane&quot;</SPAN> loadingMode=<SPAN class="code_area_values">&quot;client&quot;</SPAN>
               style=<SPAN class="code_area_values">&quot;border: 1px solid black&quot;</SPAN>&gt;
  &lt;o:subPanel&gt;
    &lt;div&gt;Page 1 content.&lt;/div&gt;
    &lt;h:outputText value=<SPAN class="code_area_values">&quot;Hello!&quot;</SPAN>/&gt;
  &lt;/o:subPanel&gt;
  &lt;o:subPanel&gt;
    &lt;div&gt;Page 2 content.&lt;/div&gt;
    &lt;o:graphicText value=<SPAN class="code_area_values">&quot;Hi!&quot;</SPAN> direction=<SPAN class="code_area_values">&quot;45&quot;</SPAN> style=<SPAN class="code_area_values">&quot;font-size: 27px;&quot;</SPAN>/&gt;
  &lt;/o:subPanel&gt;
  &lt;o:subPanel&gt;
    &lt;div&gt;Page 3 content.&lt;/div&gt;
    &lt;h:inputTextarea/&gt;
  &lt;/o:subPanel&gt;
&lt;/o:layeredPane&gt;

&lt;o:spinner value=<SPAN class="code_area_values">&quot;0&quot;</SPAN> minValue=<SPAN class="code_area_values">&quot;0&quot;</SPAN> maxValue=<SPAN class="code_area_values">&quot;2&quot;</SPAN> 
           onchange=<SPAN class="code_area_values">&quot;O$('form:layeredPane').setSelectedIndex(<SPAN class="code-keyword">this</SPAN>.getValue());&quot;</SPAN>/&gt;</PRE>

<P>Note that the <CITE>LayeredPane</CITE> includes the current page number when the form is submitted, so even with if a page was switched without any server requests with a <SPAN class="attribute">loadingMode</SPAN> of <SPAN class="tag">&quot;client&quot;</SPAN> explicit page submission (or Ajax submission) will save the current page in the server-side <CITE>SidePanel</CITE> instance and if its <SPAN class="attribute">pageIndex</SPAN> attribute is declared as binding that binding will be updated as well.</P>

<H2><A name="LayeredPane-ClientSideEvents"></A>Client-Side Events</H2>

<P>The <CITE>LayeredPane</CITE> component supports a set of standard client-side events such as <SPAN class="attribute">onclick</SPAN>, <SPAN class="attribute">ondblclick</SPAN>, <SPAN class="attribute">onmousedown</SPAN>, <SPAN class="attribute">onmouseover</SPAN>, <SPAN class="attribute">onmouseup</SPAN>, <SPAN class="attribute">onmouseout</SPAN>, <SPAN class="attribute">onmousemove</SPAN>, <SPAN class="attribute">onkeydown</SPAN>, <SPAN class="attribute">onkeyup</SPAN>, <SPAN class="attribute">onkeypress</SPAN>.</P>

<H2><A name="LayeredPane-ServerSideEventListeners"></A>Server-Side Event Listeners</H2>

<P>To enable you to handle tab selection change on the server side, the <CITE>LayeredPane</CITE> component provides the <SPAN class="attribute">selectionChangeListener</SPAN> attribute. This attribute is <SPAN class="attribute">MethodBinding</SPAN> that must point to the method that accepts a <SPAN class="attribute">org.openfaces.event.SelectionChangeEvent</SPAN>. <SPAN class="attribute">SelectionChangeEvent</SPAN> extends <SPAN class="attribute">javax.faces.event.FacesEvent</SPAN> and adds the <SPAN class="attribute">oldIndex</SPAN> and <SPAN class="attribute">newIndex</SPAN> properties to it. The specified method will be called during the Process Validations phase of the request processing lifecycle, when a selected tab in the <CITE>LayeredPane</CITE> is changed.</P>

<P>You can also add a selection change listener (which is the implementation of the <SPAN class="attribute">org.openfaces.event.SelectionChangeListener</SPAN> interface) to the <CITE>LayeredPane</CITE> component by using the <SPAN class="tag">&lt;o:selectionChangeListener&gt;</SPAN> tag:</P>
<PRE class="code_area">&lt;o:layeredPane ...&gt;
  ...
  &lt;o:selectionChangeListener type=<SPAN class="code_area_values">&quot;my.MySelectionChangeListener&quot;</SPAN>/&gt;
&lt;/o:layeredPane&gt;</PRE>
<P>There is also <SPAN class="attribute">immediate</SPAN> attribute that is used to specify whether or not <SPAN class="attribute">selectionChangeListener</SPAN> should be executed immediately (during the Apply Request Values phase of the request processing lifecycle instead of Process Validations phase).</P>

<H2><A name="LayeredPane-ClientSideAPI"></A>Client-Side API</H2>

<P>All client-side API methods of the <CITE>LayeredPane</CITE> component are listed in the following table:</P>
<TABLE class="Table"><TBODY>
<TR>
<TH scope="col"> Method </TH>
<TH scope="col"> Description </TH>
</TR>
<TR>
<TD> <SPAN class="attribute">getPageCount()</SPAN> </TD>
<TD> Returns the number of pages in the <CITE>LayeredPane</CITE> component on which this method is invoked. </TD>
</TR>
<TR>
<TD> <SPAN class="attribute">getSelectedIndex()</SPAN> </TD>
<TD> Returns a zero-based index of a selected tab from the <CITE>LayeredPane</CITE> component on which this method is invoked. </TD>
</TR>
<TR>
<TD> <SPAN class="attribute">setSelectedIndex(index)</SPAN> </TD>
<TD> Sets the index of a selected tab for the <CITE>LayeredPane</CITE> component on which this method is invoked. The <SPAN class="attribute">index</SPAN> parameter is a zero-based index of a tab to be selected. </TD>
</TR>
</TBODY></TABLE>
    </TD>

  </TR>

  <TR>
    <TD height="50" align="left" class="copyright" style="border-top:1px solid #CCCCCC;">&copy; 2010 <A href="http://www.teamdev.com/">TeamDev Ltd</A>.</TD>
    <TD height="50" align="right" style="border-top:1px solid #CCCCCC;"><A style="border-bottom: none;" href="http://www.openfaces.org"><IMG src="images/logo.gif" alt="OpenFaces" width="124" height="28" border="0"></A></TD>
  </TR>
</TABLE>
</BODY>

</HTML>
