
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<TITLE>SuggestionField &mdash; OpenFaces documentation</TITLE>
<LINK href="styles/style.css" rel="stylesheet" type="text/css">
<LINK rel="icon" href="favicon.ico" type="image/x-icon">
<LINK rel="shortcut icon" href="favicon.ico" type="image/x-icon">
</HEAD>

<BODY>
<DIV id="logo"><A href="index.html"><IMG src="images/documentation_logo.gif" alt="OpenFaces Documentation" border="0"></A><BR><SPAN style="margin-top:0;">Version 3.0.0</SPAN></DIV>
<TABLE width="100%" border="0" cellspacing="0" cellpadding="0">
  <TR>
    <TD width="240px" align="right" valign="bottom" style="border-bottom:1px solid #CCCCCC;">&nbsp;</TD>
    <TD height="30px" style="border-bottom:1px solid #CCCCCC;">&nbsp;</TD>
  </TR>
  <TR>
    <TD colspan="2" valign="top"><H1>SuggestionField</H1></TD>
  </TR>
  <TR>
    <TD valign="top" style="background: url(images/line.gif) #fbfbfc repeat-y right; padding:0px 0px 0px 0px; width:240px; margin: 0px 0px 0px 0px;">
	<TABLE width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#ffffff">
	<TR>
	<TD>
        <DIV class="contents index" style="background-color:#FFFFFF; width:260px;"><UL><LI><A href="#SuggestionField-KeyFeatures">Key Features</A></LI>
    <LI><A href="#SuggestionField-SpecifyingListofItems">Specifying List of Items</A></LI>
    <LI><A href="#SuggestionField-RestrictingInputtoListItemsOnly">Restricting Input to List Items Only</A></LI>
    <LI><A href="#SuggestionField-EnteringNonStringValues">Entering Non-String Values</A></LI>
    <LI><A href="#SuggestionField-SpecifyingChildComponents">Specifying Child Components</A></LI>
    <LI><A href="#SuggestionField-CreatingMultiColumnSuggestionList">Creating Multi-Column Suggestion List</A></LI>
    <LI><A href="#SuggestionField-AutoSuggestion">Auto-Suggestion</A></LI>
    <LI><A href="#SuggestionField-AutoCompletion">Auto-Completion</A></LI>
    <LI><A href="#SuggestionField-KeyboardNavigation">Keyboard Navigation</A></LI>
    <LI><A href="#SuggestionField-CustomizingAppearance">Customizing Appearance</A></LI>
    <LI><A href="#SuggestionField-CustomizingStyles">Customizing Styles</A></LI>
    <LI><A href="#SuggestionField-ClientSideEvents">Client-Side Events</A></LI>
    <LI><A href="#SuggestionField-ServerSideEventListeners">Server-Side Event Listeners</A></LI>
    <LI><A href="#SuggestionField-ClientSideAPI">Client-Side API</A></LI></UL></DIV>
	</TD>
	</TR>
	</TABLE>
	<DIV class="components_links">
				<A href="index.html">Developer&rsquo;s Guide Home</A><BR>
		  <A href="installation-and-configuration.html">Installation and Configuration</A><BR>
		  <A href="common-concepts.html">Common Concepts</A><BR>
          <A href="components-index.html" style="padding-bottom:0.5em;">Components Index</A>
                    <HR noshade="noshade" size="1px" color="#d5d6d7" width="85%">
                    <A href="borderlayoutpanel.html">Border Layout Panel</A><BR>
                    <A href="calendar.html">Calendar</A><BR>
                    <A href="chart.html">Chart</A><BR>
                    <A href="commandbutton.html">Command Button</A><BR>
                    <A href="commandlink.html">Command Link</A><BR>
                    <A href="compositefilter.html">Composite Filter</A><BR>
                    <A href="confirmation.html">Confirmation</A><BR>
                    <A href="datatable.html">Data Table</A><BR>
                    <A href="datechooser.html">Date Chooser</A><BR>
                    <A href="daytable.html">Day Table</A><BR>
                    <A href="dropdownfield.html">Drop Down Field</A><BR>
                    <A href="dynamicimage.html">Dynamic Image</A><BR>
                    <A href="foldingpanel.html">Folding Panel</A><BR>
                    <A href="foreach.html">For Each</A><BR>
                    <A href="graphictext.html">Graphic Text</A><BR>
                    <A href="hintlabel.html">Hint Label</A><BR>
                    <A href="inputtext.html">Input Text</A><BR>
                    <A href="inputtextarea.html">Input Textarea</A><BR>
                    <A href="layeredpane.html">Layered Pane</A><BR>
                    <A href="levelindicator.html">Level Indicator</A><BR>
                    <A href="popuplayer.html">Popup Layer</A><BR>
                    <A href="popupmenu.html">Popup Menu</A><BR>
                    <A href="selectbooleancheckbox.html">Select Boolean Checkbox</A><BR>
                    <A href="selectmanycheckbox.html">Select Many Checkbox</A><BR>
                    <A href="selectoneradio.html">Select One Radio</A><BR>
                    <A href="spinner.html">Spinner</A><BR>
		            <A href="suggestionfield.html">Suggestion Field</A><BR>
                    <A href="tabbedpane.html">Tabbed Pane</A><BR>
                    <A href="tabset.html">Tab Set</A><BR>
                    <A href="treetable.html">Tree Table</A><BR>
                    <A href="twolistselection.html">Two List Selection</A><BR>
                    <A href="window.html" style="padding-bottom:0.5em;">Window</A>
                    <HR noshade="noshade" size="1px" color="#d5d6d7" width="85%">
                    <A href="focus.html">Focus</A><BR>
                    <A href="loadbundle.html">Load Bundle</A><BR>
                    <A href="scrollposition.html" style="padding-bottom:0.5em;">Scroll Position</A>
                    <HR noshade="noshade" size="1px" color="#d5d6d7" width="85%">
                    <A href="ajax-framework.html">Ajax Framework</A>
                    <UL>
                        <LI><A href="ajax.html">Ajax Component</A><BR></LI>
                        <LI><A href="ajax-framework.html#AjaxFramework-PageWideConfiguration">Ajax Settings Component</A><BR></LI>
                    </UL>
                    <A href="validation-framework.html">Validation Framework</A>
                    <HR noshade="noshade" size="1px" color="#d5d6d7" width="85%">
                    <A href="../tagReference/index.html">Tag Reference</A><BR>
                    <A href="../apiReference/index.html">API Reference</A>
	<DIV style=" width:240px; height:0px; padding: 0px; margin:0px;"></DIV>
		</DIV>
	</TD>

		<TD style="padding-bottom:1em; padding-left:2em;"><P>
<TABLE  border="0" cellpadding="5" cellspacing="0" width="100%"><TBODY><TR>
<TD valign="top" width="60%">
<P>The <CITE>SuggestionField</CITE> component is an input component that shows a list of suggestions based on user input and completes user input right in the input field. It has a similar functionality to <A href="dropdownfield.html" title="DropDownField">DropDownField</A>, but unlike <CITE>DropDownField</CITE> it looks like a plain text field. You can create a multi-column drop-down list and embed JSF components into it.</P></TD>
<TD valign="top" width="40%">
<P><IMG src="components-index.data/suggestionField_closed.gif" align="absmiddle" border="0"></P>

<P><IMG src="components-index.data/suggestionField.gif" align="absmiddle" border="0"><BR>
<A href="../apiReference/org/openfaces/component/input/SuggestionField.html" rel="nofollow">API Reference</A> &#124; <A href="../tagReference/o/suggestionField.html" rel="nofollow">Tag Reference</A><BR>
<A href="http://www.openfaces.org/demo/suggestionfield/" rel="nofollow">Online Demo</A></P></TD></TR></TBODY></TABLE>

<H2><A name="SuggestionField-KeyFeatures"></A>Key Features</H2>

<UL>
	<LI><A href="#SuggestionField-AutoSuggestion">Ajax-based and client-side suggestion feature</A></LI>
	<LI><A href="#SuggestionField-AutoCompletion">Auto-completion</A></LI>
	<LI><A href="#SuggestionField-CreatingMultiColumnSuggestionList">Ability to create a multi-column suggestion list</A></LI>
	<LI><A href="#SuggestionField-SpecifyingChildComponents">Ability to embed JSF components</A></LI>
	<LI><A href="#SuggestionField-KeyboardNavigation">Keyboard navigation</A></LI>
	<LI>Flexible <A href="#SuggestionField-CustomizingStyles">style</A> and <A href="#SuggestionField-CustomizingAppearance">appearance</A> customization</LI>
	<LI><A href="#SuggestionField-ClientSideEvents">Standard and component-specific client-side events</A></LI>
</UL>


<H2><A name="SuggestionField-SpecifyingListofItems"></A>Specifying List of Items</H2>

<P>To add the <CITE>SuggestionField</CITE> component to a page, use the <SPAN class="tag">&lt;o:suggestionField&gt;</SPAN> tag. In order for the <A href="#SuggestionField-AutoSuggestion">input suggestion</A> feature to work properly, you should specify a list of suggestion items. There are three ways of specifying suggestion items. Regardless of the way you choose, each item is assigned a value that becomes a value of the <CITE>SuggestionField</CITE> component once an appropriate item is selected. The item value can either be a String or an arbitrary Object. See the <A href="#SuggestionField-EnteringNonStringValues">Entering Non&#45;String Values</A> section for details of setting up the <CITE>SuggestionField</CITE> component for selection from a list of Objects rather than Strings.</P>

<P>You can use the following ways to specify the list of suggestion items:</P>
<UL>
	<LI>To create a fixed list of values right on the JSF page. To do so, you should use the <SPAN class="tag">&lt;o:dropDownItem&gt;</SPAN> tag to specify each separate item. The <SPAN class="attribute">value</SPAN> attribute of the <SPAN class="tag">&lt;o:dropDownItem&gt;</SPAN> tag can either be a String literal, which specifies a string value for this item, or a value binding expression, which refers to an Object that will be the value for this item. The example below shows the <CITE>SuggestionField</CITE> component containing three items in the list.</LI>
</UL>


<PRE class="code_area">&lt;o:suggestionField&gt;
  &lt;o:dropDownItem value=<SPAN class="code_area_values">&quot;Red&quot;</SPAN>/&gt;
  &lt;o:dropDownItem value=<SPAN class="code_area_values">&quot;Yellow&quot;</SPAN>/&gt;
  &lt;o:dropDownItem value=<SPAN class="code_area_values">&quot;Blue&quot;</SPAN>/&gt;
&lt;/o:suggestionField&gt;</PRE>
<P><A name="SuggestionField-ChildComponents"></A><BR>
It is also possible to add child components to the <SPAN class="tag">&lt;o:dropDownItem&gt;</SPAN> tag. The following example demonstrates this feature using color definitions along with their names. Note that when a color is selected (for example, <SPAN class="code_area_values">&quot;Red&quot;</SPAN>), the text field will display not the name of the color, but its hexadecimal value (<SPAN class="code_area_values">&#35;FF0000</SPAN>).</P>
<PRE class="code_area">&lt;o:suggestionField&gt;
  &lt;o:dropDownItem value=<SPAN class="code_area_values">&quot;#FF0000&quot;</SPAN> &gt;
    &lt;h:graphicImage url=<SPAN class="code_area_values">&quot;/important.gif&quot;</SPAN>/&gt;
    &lt;h:outputText value=<SPAN class="code_area_values">&quot;Red&quot;</SPAN>/&gt;
  &lt;/o:dropDownItem&gt;
  &lt;o:dropDownItem value=<SPAN class="code_area_values">&quot;#FFFF00&quot;</SPAN>&gt;
    &lt;h:outputText value=<SPAN class="code_area_values">&quot;Yellow&quot;</SPAN>/&gt;
  &lt;/o:dropDownItem&gt;
  &lt;o:dropDownItem value=<SPAN class="code_area_values">&quot;#0000FF&quot;</SPAN>&gt;
    &lt;h:outputText value=<SPAN class="code_area_values">&quot;Blue&quot;</SPAN>/&gt;
  &lt;/o:dropDownItem&gt;
&lt;/o:suggestionField&gt;</PRE>
<UL>
	<LI>Retrieve the list of items from a backing bean. To do so, you should use the <SPAN class="tag">&lt;o:dropDownItems&gt;</SPAN> tag. The <SPAN class="attribute">value</SPAN> attribute of the <SPAN class="tag">&lt;o:dropDownItems&gt;</SPAN> tag should be bound to the collection or array of <SPAN class="attribute">org.openfaces.component.input.DropDownItem</SPAN> instances or item value objects:</LI>
</UL>


<PRE class="code_area">&lt;o:suggestionField&gt;
  &lt;o:dropDownItems value=<SPAN class="code_area_values">&quot;#{DropDownBackingBean.dropDownItems}&quot;</SPAN>/&gt;
&lt;/o:suggestionField&gt;</PRE>
<P>Here's how the <SPAN class="attribute">dropDownItems</SPAN> property is defined in the <SPAN class="attribute">DropDownBackingBean</SPAN> class:</P>
<PRE class="code_area"><SPAN class="code-keyword">public</SPAN> List getDropDownItems() {
  List itemValues = Arrays.asList(<SPAN class="code-keyword">new</SPAN> <SPAN class="code-object">String</SPAN>[]{<SPAN class="code_area_values">&quot;Red&quot;</SPAN>, <SPAN class="code_area_values">&quot;Yellow&quot;</SPAN>, <SPAN class="code_area_values">&quot;Blue&quot;</SPAN>});
  <SPAN class="code-keyword">return</SPAN> itemValues;
}</PRE>
<UL>
	<LI>Combine the two aforementioned approaches by specifying the <SPAN class="tag">&lt;o:dropDownItem&gt;</SPAN> and <SPAN class="tag">&lt;o:dropDownItems&gt;</SPAN> tags in any order you need.<BR>
<P class="bubble note"><STRONG>Note</STRONG><BR>You can specify only non-null item value objects in any approach you use to specify suggestion list items.</P>A value of the <CITE>SuggestionField</CITE> component can be maintained using the <SPAN class="attribute">value</SPAN> attribute of <SPAN class="tag">&lt;o:dropDownItems&gt;</SPAN> tag. The usage of this attribute is similar to that in standard JSF input components such as <SPAN class="tag">&lt;h:inputText&gt;</SPAN> or <SPAN class="tag">&lt;h:selectOneMenu&gt;</SPAN>. This attribute should be bound to either a String or an Object attribute depending on the type of item value objects. See the <A href="#SuggestionField-EnteringNonStringValues">Entering Non&#45;String Values</A> section for details of entering non-string values in the <CITE>SuggestionField</CITE> component.<BR>
Here's an example of using the <SPAN class="attribute">value</SPAN> attribute.
<PRE class="code_area">&lt;o:suggestionField value=&quot;#{DropDownBackingBean.selectedColor}&gt;
  &lt;o:dropDownItem value=<SPAN class="code_area_values">&quot;Red&quot;</SPAN>/&gt;
  &lt;o:dropDownItem value=<SPAN class="code_area_values">&quot;Yellow&quot;</SPAN>/&gt;
  &lt;o:dropDownItem value=<SPAN class="code_area_values">&quot;Blue&quot;</SPAN>/&gt;
&lt;/o:suggestionField&gt;</PRE>
<P>You can specify the prompt text for the <CITE>SuggestionField</CITE> component using the <SPAN class="attribute">promptText</SPAN> attribute.<BR>
The prompt text is a label or short instruction placed inside the <CITE>SuggestionField</CITE> component.The specified text will be shown to the user while the value of the <CITE>SuggestionField</CITE> component is empty and disappear from the screen once user types something into the <CITE>SuggestionField</CITE> or it gets input focus.</P>
<PRE class="code_area">&lt;o:suggestionField value=<SPAN class="code_area_values">&quot;#{DropDownBackingBean.selectedColor}&quot;</SPAN> promptText=<SPAN class="code_area_values">&quot;Select the color&quot;</SPAN>&gt;
  &lt;o:dropDownItem value=<SPAN class="code_area_values">&quot;Red&quot;</SPAN>/&gt;
  &lt;o:dropDownItem value=<SPAN class="code_area_values">&quot;Yellow&quot;</SPAN>/&gt;
  &lt;o:dropDownItem value=<SPAN class="code_area_values">&quot;Blue&quot;</SPAN>/&gt;
&lt;/o:suggestionField&gt;</PRE>
<P>You can customize the styles of the prompt text by using the <SPAN class="attribute">promptTextStyle</SPAN> and <SPAN class="attribute">promptTextClass</SPAN> attributes.</P></LI>
</UL>


<P>Like any JSF <CITE>UIInput</CITE> component, the <CITE>SuggestionField</CITE> component supports the standard <SPAN class="attribute">validator</SPAN>, <SPAN class="attribute">required</SPAN>, <SPAN class="attribute">converter</SPAN>, <SPAN class="attribute">immediate</SPAN> and <SPAN class="attribute">disabled</SPAN> attributes. For more information about them, see JavaServer Faces specification (section &quot;EditableValueHolder&quot;).<BR>
Note that if you want to reload <CITE>SuggestionField</CITE> component using RichFaces Ajax framework you will have to wrap <CITE>SuggestionField</CITE> component into any JSF container component and reload that container component. For example you can use the <SPAN class="tag">&lt;h:panelGroup&gt;</SPAN> tag as a container. There's no such restriction when using the OpenFaces Ajax features.</P>
<PRE class="code_area">&lt;h:panelGroup id=<SPAN class="code_area_values">&quot;containerForSuggestionField&quot;</SPAN>&gt;
    &lt;o:suggestionField value=&quot;#{DropDownBackingBean.selectedColor}&gt;
        &lt;o:dropDownItem value=<SPAN class="code_area_values">&quot;Red&quot;</SPAN>/&gt;
        &lt;o:dropDownItem value=<SPAN class="code_area_values">&quot;Yellow&quot;</SPAN>/&gt;
        &lt;o:dropDownItem value=<SPAN class="code_area_values">&quot;Blue&quot;</SPAN>/&gt;
    &lt;/o:suggestionField&gt;
&lt;/h:panelGroup&gt;</PRE>

<H2><A name="SuggestionField-RestrictingInputtoListItemsOnly"></A>Restricting Input to List Items Only</H2>

<P>The user can type in any value, not necessarily available in the suggestion list. In some cases, it may be required to restrict the input only to the values from the predefined list. The <CITE>SuggestionField</CITE> component provides this ability while also enabling you to use features like <A href="#SuggestionField-AutoSuggestion">auto-suggestion</A> and <A href="#SuggestionField-AutoCompletion">auto-completion</A> and many others. This behavior can be triggered by setting the <SPAN class="attribute">customValueAllowed</SPAN> attribute to <SPAN class="code_area_values">&quot;false&quot;</SPAN>. This attribute defines whether it is possible to specify only a value that exists in the list of suggestions (<SPAN class="code_area_values">&quot;false&quot;</SPAN>) or whether it is possible to enter any value (<SPAN class="code_area_values">&quot;true&quot;</SPAN>).</P>

<H2><A name="SuggestionField-EnteringNonStringValues"></A>Entering Non-String Values</H2>

<P>With the <CITE>SuggestionField</CITE> component, you can enter non-string values, too. For instance, you may need to select an object from a set of JavaBean objects read from the database. In this case, you will need to specify these non-string objects as suggestion item values (using <SPAN class="tag">&lt;o:dropDownItem&gt;</SPAN> or <SPAN class="tag">&lt;o:dropDownItems&gt;</SPAN> tags). In addition, the following requirements must be met:</P>
<UL>
	<LI>The <CITE>SuggestionField</CITE> component's <SPAN class="attribute">value</SPAN> attribute should be bound to a property having the type of objects you are selecting from.</LI>
	<LI>A converter for the appropriate type of objects should be specified. It can either be specified using the <CITE>SuggestionField</CITE> component's <SPAN class="attribute">converter</SPAN> attribute, or there should be an application-wide converter for this type. The converter is used for both converting a selected item for display in the field and converting the entered text value back to the appropriate object type.</LI>
</UL>


<H2><A name="SuggestionField-SpecifyingChildComponents"></A>Specifying Child Components</H2>

<P>From the previous section, you already know that you can specify any child components within the <CITE>DropDownItem</CITE> component. However, <CITE>DropDownItem</CITE> components are used only when you have a fixed number of items. For a dynamic or big set of items, it is more suitable to use the <CITE>DropDownItems</CITE> component, which cannot include child components. However, if you need to specify a set of components that should be rendered inside of all items, you can specify these components as children of the <SPAN class="tag">&lt;o:suggestionField&gt;</SPAN> tag.</P>

<P>Child components of the <SPAN class="tag">&lt;o:suggestionField&gt;</SPAN> tag are used to render each suggestion item. Note that the same child components of the <CITE>SuggestionField</CITE> are rendered in every suggestion item. So in order for these components to display different data for each respective item, you should use a request-scope variable referring to the current item value object. The item value object is an object that you specify in the corresponding <SPAN class="tag">&lt;o:dropDownItem&gt;</SPAN> tag or an entry in the <SPAN class="tag">&lt;o:dropDownItems&gt;</SPAN> collection or array. The name of this variable should be specified using the <SPAN class="attribute">var</SPAN> attribute of the <SPAN class="tag">&lt;o:suggestionField&gt;</SPAN> tag.</P>

<P>In the example below, the <CITE>SuggestionField</CITE> component is specified using child components:</P>
<PRE class="code_area">&lt;o:suggestionField value=<SPAN class="code_area_values">&quot;#{DropDownBean.selectedBGColor}&quot;</SPAN>
                 <SPAN class="code-keyword">var</SPAN>=<SPAN class="code_area_values">&quot;color&quot;</SPAN>
                 converter=<SPAN class="code_area_values">&quot;#{DropDownBean.colorConverter}&quot;</SPAN>&gt;
  &lt;o:dropDownItems value=<SPAN class="code_area_values">&quot;#{DropDownBean.colors}&quot;</SPAN>/&gt;

  &lt;h:outputText styleClass=<SPAN class="code_area_values">&quot;colorRect&quot;</SPAN> style=<SPAN class="code_area_values">&quot;background: #{color.name};&quot;</SPAN>/&gt;
  &lt;h:outputText value=<SPAN class="code_area_values">&quot;#{color.name}&quot;</SPAN>/&gt;
&lt;/o:suggestionField&gt;</PRE>
<P>It is also possible to use child components of the <CITE>SuggestionField</CITE> component with the <CITE>DropDownItem</CITE> components. The values of the <CITE>DropDownItem</CITE> components are available using a request-scope variable specified in the <SPAN class="attribute">var</SPAN> attribute of the <SPAN class="tag">&lt;o:suggestionField&gt;</SPAN> tag.</P>

<P>Here is an example of specifying child components of the <CITE>SuggestionField</CITE> component with the <SPAN class="tag">&lt;o:dropDownItem&gt;</SPAN> tags:</P>
<PRE class="code_area">&lt;o:suggestionField value=<SPAN class="code_area_values">&quot;#{DropDownBean.selectedFont}&quot;</SPAN>
                 <SPAN class="code-keyword">var</SPAN>=<SPAN class="code_area_values">&quot;size&quot;</SPAN>&gt;
  &lt;o:dropDownItem value=<SPAN class="code_area_values">&quot;9pt&quot;</SPAN>/&gt;
  &lt;o:dropDownItem value=<SPAN class="code_area_values">&quot;10pt&quot;</SPAN>/&gt;
  &lt;o:dropDownItem value=<SPAN class="code_area_values">&quot;12pt&quot;</SPAN>/&gt;
  &lt;o:dropDownItem value=<SPAN class="code_area_values">&quot;14pt&quot;</SPAN>/&gt;
  &lt;o:dropDownItem value=<SPAN class="code_area_values">&quot;16pt&quot;</SPAN>/&gt;
  &lt;o:dropDownItem value=<SPAN class="code_area_values">&quot;18pt&quot;</SPAN>/&gt;
  &lt;o:dropDownItem value=<SPAN class="code_area_values">&quot;20pt&quot;</SPAN>/&gt;

  &lt;h:outputText value=<SPAN class="code_area_values">&quot;#{size}&quot;</SPAN> style=<SPAN class="code_area_values">&quot;font-size: #{size};&quot;</SPAN>/&gt;
&lt;/o:suggestionField&gt;</PRE>
<P>Note that if you specify child components both for <SPAN class="tag">&lt;o:dropDownItem&gt;</SPAN> and <SPAN class="tag">&lt;o:suggestionField&gt;</SPAN>, the components  specified in the <SPAN class="tag">&lt;o:dropDownItem&gt;</SPAN> tag take priority over the components specified for all items, and only the children of the respective <SPAN class="tag">&lt;o:dropDownItem&gt;</SPAN> tag are displayed for such items.</P>

<H2><A name="SuggestionField-CreatingMultiColumnSuggestionList"></A>Creating Multi-Column Suggestion List</H2>

<P>The <CITE>SuggestionField</CITE> component lets you specify a suggestion list to be displayed in multiple columns. The list of columns is specified using the <SPAN class="tag">&lt;o:column&gt;</SPAN> tags within the <SPAN class="tag">&lt;o:suggestionField&gt;</SPAN> tag. Child components of the <SPAN class="tag">&lt;o:column&gt;</SPAN> tag are used to render each cell of the current item just like in the <A href="datatable.html" title="DataTable">DataTable</A> component. As in case of specifying child components described in the previous section, you should use a request-scope variable referring to the current item data in order for child components to display different data for each respective item.</P>

<P>You can specify the <A href="datatable.html#DataTable-ColumnFacets">&quot;header&quot; and &quot;footer&quot; facets </A>, <A href="datatable.html#DataTable-ColumnStyles">styles</A> and <A href="datatable.html#DataTable-SpecifyingUserEvents">client-side events</A> for the <SPAN class="tag">&lt;o:column&gt;</SPAN> tag. Also, the <SPAN class="tag">&lt;o:column&gt;</SPAN> tag has the <SPAN class="attribute">width</SPAN>, <SPAN class="attribute">align</SPAN> and <SPAN class="attribute">valign</SPAN> attributes that are rendered onto the <SPAN class="tag">&lt;col&gt;</SPAN> tag of the respective column. In addition, it is possible to group several columns using the <SPAN class="tag">&lt;o:columnGroup&gt;</SPAN> tag and add additional group headers. For more details about the <SPAN class="tag">&lt;o:column&gt;</SPAN> and <SPAN class="tag">&lt;o:columnGroup&gt;</SPAN> tags, see the <A href="datatable.html" title="DataTable">DataTable</A> component documentation.</P>

<P>Here's an example of specifying a multi-column suggestion list in the <CITE>SuggestionField</CITE> component:</P>
<PRE class="code_area">&lt;o:suggestionField value=<SPAN class="code_area_values">&quot;#{DropDownBean.selectedBGColor}&quot;</SPAN>
                 <SPAN class="code-keyword">var</SPAN>=<SPAN class="code_area_values">&quot;color&quot;</SPAN>
                 converter=<SPAN class="code_area_values">&quot;#{DropDownBean.colorConverter}&quot;</SPAN>&gt;
  &lt;o:dropDownItems value=<SPAN class="code_area_values">&quot;#{DropDownBean.colors}&quot;</SPAN>/&gt;
  &lt;o:column width=<SPAN class="code_area_values">&quot;12px&quot;</SPAN>&gt;
    &lt;h:outputText styleClass=<SPAN class="code_area_values">&quot;colorRect&quot;</SPAN> style=<SPAN class="code_area_values">&quot;background: #{color.name};&quot;</SPAN>/&gt;
  &lt;/o:column&gt;
  &lt;o:column&gt;
    &lt;h:outputText value=<SPAN class="code_area_values">&quot;#{color.name}&quot;</SPAN>/&gt;
  &lt;/o:column&gt;
&lt;/o:suggestionField&gt;</PRE>

<H2><A name="SuggestionField-AutoSuggestion"></A>Auto-Suggestion</H2>

<P>The <CITE>SuggestionField</CITE> component displays a list of suggestions based on the input entered partially by the user. The list of suggestions is updated on-the-fly as the user types text, and the user can select one of the provided suggestions any time when appropriate. This feature makes it easier to find items by typing only part of their text. You can turn off the auto-suggestion feature with the <SPAN class="attribute">suggestionMode</SPAN> attribute. By default, this attribute is set to <SPAN class="code_area_values">&quot;stringStart&quot;</SPAN>.</P>

<P>The <CITE>SuggestionField</CITE> component supports different auto-suggestion modes, each of which can be specified using one of the following values:</P>
<UL>
	<LI><SPAN class="code_area_values">&quot;stringStart&quot;</SPAN> &#45; Shows suggestions that begin with the entered value (works on the client side.)</LI>
	<LI><SPAN class="code_area_values">&quot;substring&quot;</SPAN> &#45; Shows suggestions that contain the entered value (works on the client side.)</LI>
	<LI><SPAN class="code_area_values">&quot;stringEnd&quot;</SPAN> &#45; Shows suggestions that end with the entered value (works on the client side.)</LI>
	<LI><SPAN class="code_area_values">&quot;all&quot;</SPAN> &#45; Shows all suggestion items in the list of suggestions (works on the client side.)</LI>
	<LI><SPAN class="code_area_values">&quot;custom&quot;</SPAN> &#45; Sends an Ajax request when the user is entering a value and returns a list of suggestions from the server (works on the server side using Ajax.)</LI>
</UL>


<P>The first four auto-suggestion modes work on client side and can be used to introduce the most robust suggestion functionality because no server round-trips are required in this case. However, this way is not efficient in case of large lists, because all of the suggestions must be preloaded on the client in these modes. To avoid resource-intensive preloading as well as to implement more flexible auto-suggestion scenarios, you can take advantage of the <SPAN class="code_area_values">&quot;custom&quot;</SPAN> suggestion mode.</P>

<P>When you use the <SPAN class="code_area_values">&quot;custom&quot;</SPAN> suggestion mode, the <SPAN class="attribute">value</SPAN> attribute of the <CITE>DropDownItems</CITE> components should be bound to the method that returns the list of suggestions corresponding to the entered string. You can get the entered value from the <CITE>SuggestionField</CITE> component using the <SPAN class="attribute">&quot;searchField&quot;</SPAN> request-scope variable. To retrieve a variable by its name, you can use the <SPAN class="attribute">org.openfaces.util.Faces.var(String varName)</SPAN> method.</P>

<P>The example below shows usage of the <SPAN class="code_area_values">&quot;custom&quot;</SPAN> auto-suggestion mode:</P>
<PRE class="code_area">&lt;o:suggestionField value=<SPAN class="code_area_values">&quot;#{DropDownBean.city}&quot;</SPAN>
                 converter=<SPAN class="code_area_values">&quot;#{DropDownBean.cityNameConverter}&quot;</SPAN>
                 suggestionMode=<SPAN class="code_area_values">&quot;custom&quot;</SPAN>&gt;
  &lt;o:dropDownItems value=<SPAN class="code_area_values">&quot;#{DropDownBean.cities}&quot;</SPAN>/&gt;
&lt;/o:suggestionField&gt;</PRE>
<P>Here is how the above example can be implemented in the backing bean:</P>
<PRE class="code_area"><SPAN class="code-keyword">public</SPAN> List getCities() {
  <SPAN class="code-object">String</SPAN> searchString = Faces.<SPAN class="code-keyword">var</SPAN>(<SPAN class="code_area_values">&quot;searchString&quot;</SPAN>, <SPAN class="code-object">String</SPAN>.class);
  List filteredCities = myCitiesDB.findCitiesStartingWithText(searchString);
  <SPAN class="code-keyword">return</SPAN> filteredCities;
}</PRE>
<P><A name="SuggestionField-SuggestionRelatedAttributes"></A><BR>
There are two attributes that control how auto-suggestion and <A href="#SuggestionField-AutoCompletion">auto-completion</A> features are activated. The integer <SPAN class="attribute">suggestionMinChars</SPAN> attribute specifies the minimum number of characters that should be typed for auto-completion and auto-suggestion features to be activated. By default, the <SPAN class="attribute">suggestionMinChars</SPAN> attribute is set to <SPAN class="code_area_values">&quot;2&quot;</SPAN>.</P>

<P>You can set a delay that should elapse after the last key press before starting auto-suggestion and auto-completion. The time period for this delay should be specified for the <SPAN class="attribute">suggestionDelay</SPAN> attribute in milliseconds (by default, <SPAN class="code_area_values">&quot;350&quot;</SPAN>). This attribute is particularly useful when it's necessary to avoid too many Ajax requests that are sent to the server while the user is typing text. With the <SPAN class="attribute">suggestionDelay</SPAN> attribute, you send only one Ajax request when the user has stopped typing.</P>

<P>Here's an example of using the <SPAN class="attribute">suggestionMinChars</SPAN> and <SPAN class="attribute">suggestionDelay</SPAN> attributes:</P>
<PRE class="code_area">&lt;o:suggestionField value=<SPAN class="code_area_values">&quot;#{DropDownBean.selectedBGColor}&quot;</SPAN>
                 <SPAN class="code-keyword">var</SPAN>=<SPAN class="code_area_values">&quot;color&quot;</SPAN>
                 suggestionMode=<SPAN class="code_area_values">&quot;custom&quot;</SPAN>
                 suggestionDelay=<SPAN class="code_area_values">&quot;200&quot;</SPAN>
                 suggestionMinChars=<SPAN class="code_area_values">&quot;3&quot;</SPAN>
                 converter=<SPAN class="code_area_values">&quot;#{DropDownBean.colorConverter}&quot;</SPAN>&gt;
...
&lt;/o:suggestionField&gt;</PRE>

<H2><A name="SuggestionField-AutoCompletion"></A>Auto-Completion</H2>

<P>The <CITE>SuggestionField</CITE> component provides the auto-completion feature which in addition to auto-suggestion can be used to simplify selection of a value among the items specified with the <SPAN class="tag">&lt;o:dropDownItem&gt;</SPAN> or <SPAN class="tag">&lt;o:dropDownItems&gt;</SPAN> tags. When auto-completion is turned on, the <CITE>SuggestionField</CITE> component completes partially entered text in the input field. The text is completed to the first suggestion item that starts with the typed text. The part added as a result of auto-completion is marked as selected.</P>

<P>The auto-completion feature can be turned on by setting the <SPAN class="attribute">autoComplete</SPAN> attribute to <SPAN class="code_area_values">&quot;true&quot;</SPAN>. By default it is turned on. Auto-completion, like the auto-suggestion feature, also depends on the <A href="#SuggestionField-SuggestionRelatedAttributes">suggestionMinChars and suggestionDelay</A> attributes, described in the previous section.</P>

<P>Below is an example of using the <SPAN class="attribute">autoComplete</SPAN> attribute:</P>
<PRE class="code_area">&lt;o:suggestionField value=<SPAN class="code_area_values">&quot;#{DropDownBean.selectedBGColor}&quot;</SPAN>
                 <SPAN class="code-keyword">var</SPAN>=<SPAN class="code_area_values">&quot;color&quot;</SPAN>
                 autoComplete=<SPAN class="code_area_values">&quot;<SPAN class="code-keyword">true</SPAN>&quot;</SPAN>
                 suggestionDelay=<SPAN class="code_area_values">&quot;200&quot;</SPAN>
                 suggestionMinChars=<SPAN class="code_area_values">&quot;3&quot;</SPAN>
                 converter=<SPAN class="code_area_values">&quot;#{DropDownBean.colorConverter}&quot;</SPAN>&gt;
...
&lt;/o:suggestionField&gt;</PRE>

<H2><A name="SuggestionField-KeyboardNavigation"></A>Keyboard Navigation</H2>

<P>The <CITE>SuggestionField</CITE> component supports keyboard navigation. After opening a suggestion list, the user can navigate between suggestion items with the Up Arrow, Down Arrow, Home, End, Page Up, Page Down keys and then select an item with the Enter key. To close the list without changing the value, the user can press the Esc key.</P>

<P>By default, the suggestion list is opened only when the user starts typing in the field. You can change this behavior by setting the <SPAN class="attribute">manualListOpeningAllowed</SPAN> attribute to <SPAN class="code_area_values">&quot;true&quot;</SPAN>. This attribute specifies whether a suggestion list can be opened using the Down Arrow key.</P>

<P>By default, the suggestion list in the <CITE>SuggestionField</CITE> component is hidden until the user starts typing (or presses the Down Arrow key). Once the list is opened, it remains visible until the user selects an item. To close the list without changing the value, the user can either press the Esc key or click anywhere outside of the component. However, in addition to the ability to close the suggestion list manually, you can specify a time period after which the list is closed automatically. To do so, set the time (in milliseconds) in the <SPAN class="attribute">timeout</SPAN> attribute. The value of <SPAN class="attribute">timeout</SPAN> equal to <SPAN class="code_area_values">&quot;-1&quot;</SPAN> (default) means that the suggestion list should not be closed automatically.</P>

<H2><A name="SuggestionField-CustomizingAppearance"></A>Customizing Appearance</H2>

<P>In most cases, the width of the suggestion list is the same as the width of the <CITE>SuggestionField</CITE> component itself. However, if the content of the list is too wide to fit in the <CITE>SuggestionField</CITE>, the width of the suggestion list can exceed the width of the component. In this case, you can specify alignment of the suggestion list with the <SPAN class="attribute">listAlignment</SPAN> attribute by setting its value to <SPAN class="code_area_values">&quot;left&quot;</SPAN> (default) or <SPAN class="code_area_values">&quot;right&quot;</SPAN>. The default left alignment means that the left edge of the suggestion list is aligned with the left edge of the <CITE>SuggestionField</CITE> component.</P>

<P>The following example shows the <CITE>SuggestionField</CITE> component with a right-aligned suggestion list.</P>
<PRE class="code_area">&lt;o:suggestionField listAlignment=<SPAN class="code_area_values">&quot;right&quot;</SPAN>&gt;
...
&lt;/o:suggestionField&gt;</PRE>
<P>You can specify the maximum height and width of the suggestion list using the <SPAN class="attribute">height</SPAN> and <SPAN class="attribute">width</SPAN> properties of the <SPAN class="attribute">listStyle</SPAN> attribute. If the number of suggestion items is too large to fit in the height of the suggestion list, a scroll is added.</P>

<P>Like the HTML &lt;input&gt; tag, <SPAN class="tag">&lt;o:suggestionField&gt;</SPAN> supports the <SPAN class="attribute">title</SPAN>, <SPAN class="attribute">tabindex</SPAN>, <SPAN class="attribute">accesskey</SPAN>, <SPAN class="attribute">maxlength</SPAN> and <SPAN class="attribute">size</SPAN> attributes. Note that the <SPAN class="attribute">maxlength</SPAN> attribute only affects the maximum number of characters that a user can type, but it is still possible to select any text from the drop-down list, no matter how long it is.</P>

<H2><A name="SuggestionField-CustomizingStyles"></A>Customizing Styles</H2>

<P>You can apply styles for any part of the <CITE>SuggestionField</CITE> component, both when it's in the normal and rollover states. The table below lists all style attributes:</P>
<TABLE class="Table"><TBODY>
<TR>
<TH scope="col"> Part of component </TH>
<TH scope="col"> Style attributes </TH>
<TH scope="col"> Class attributes </TH>
<TH scope="col"> Rollover style attributes </TH>
<TH scope="col"> Rollover class attributes </TH>
<TH scope="col"> Focused style attributes </TH>
<TH scope="col"> Focused class attributes </TH>
</TR>
<TR>
<TD> Entire <CITE>SuggestionField</CITE> component </TD>
<TD> <SPAN class="attribute">style</SPAN> </TD>
<TD> <SPAN class="attribute">styleClass</SPAN> </TD>
<TD> <SPAN class="attribute">rolloverStyle</SPAN> </TD>
<TD> <SPAN class="attribute">rolloverClass</SPAN> </TD>
<TD> <SPAN class="attribute">focusedStyle</SPAN> </TD>
<TD> <SPAN class="attribute">focusedClass</SPAN> </TD>
</TR>
<TR>
<TD> Suggestion list </TD>
<TD> <SPAN class="attribute">listStyle</SPAN> </TD>
<TD> <SPAN class="attribute">listClass</SPAN> </TD>
<TD> <SPAN class="attribute">rolloverListStyle</SPAN> </TD>
<TD> <SPAN class="attribute">rolloverListClass</SPAN> </TD>
<TD> &#45; </TD>
<TD> &#45; </TD>
</TR>
<TR>
<TD> List item </TD>
<TD> <SPAN class="attribute">listItemStyle</SPAN> </TD>
<TD> <SPAN class="attribute">listItemClass</SPAN> </TD>
<TD> <SPAN class="attribute">rolloverListItemStyle</SPAN> </TD>
<TD> <SPAN class="attribute">rolloverListItemClass</SPAN> </TD>
<TD> &#45; </TD>
<TD> &#45; </TD>
</TR>
<TR>
<TD> Odd list item, if different from <SPAN class="attribute">listItemStyle</SPAN> </TD>
<TD> <SPAN class="attribute">oddListItemStyle</SPAN> </TD>
<TD> <SPAN class="attribute">oddListItemClass</SPAN> </TD>
<TD> &#45; </TD>
<TD> &#45; </TD>
<TD> &#45; </TD>
<TD> &#45; </TD>
</TR>
<TR>
<TD> Header row in a multi-column suggestion list <BR clear="all"> </TD>
<TD> <SPAN class="attribute">listHeaderRowStyle</SPAN> </TD>
<TD> <SPAN class="attribute">listHeaderRowClass</SPAN> </TD>
<TD> &#45; </TD>
<TD> &#45; </TD>
<TD> &#45; </TD>
<TD> &#45; </TD>
</TR>
<TR>
<TD> Footer row in a multi-column suggestion list </TD>
<TD> <SPAN class="attribute">listFooterRowStyle</SPAN> </TD>
<TD> <SPAN class="attribute">listFooterRowClass</SPAN> </TD>
<TD> &#45; </TD>
<TD> &#45; </TD>
<TD> &#45; </TD>
<TD> &#45; </TD>
</TR>
</TBODY></TABLE>
<P>This example shows usage of one class attribute and one style attribute for the <CITE>SuggestionField</CITE> component.</P>
<PRE class="code_area">.dropDownList {
   background-color: red;
   }
...
&lt;o:suggestionField
        style=<SPAN class="code_area_values">&quot;border-style: solid; border-width: 1px; border-color: silver;&quot;</SPAN>
        listClass=<SPAN class="code_area_values">&quot;dropDownList&quot;</SPAN>&gt;
  &lt;o:dropDownItems value=<SPAN class="code_area_values">&quot;#{DropDownBackingBean.dropDownItems}&quot;</SPAN>/&gt;
&lt;/o:suggestionField&gt;</PRE>
<P>When you need to customize styles for grid lines in a multi-column suggestion list, use the following attributes:</P>
<TABLE class="Table"><TBODY>
<TR>
<TD> Horizontal lines in the suggestion list </TD>
<TD> <SPAN class="attribute">horizontalGridLines</SPAN> </TD>
</TR>
<TR>
<TD> Vertical lines in the suggestion  list </TD>
<TD> <SPAN class="attribute">verticalGridLines</SPAN> </TD>
</TR>
<TR>
<TD> A line that separates the header from suggestion items </TD>
<TD> <SPAN class="attribute">headerHorizSeparator</SPAN> </TD>
</TR>
<TR>
<TD> Vertical lines between column headers </TD>
<TD> <SPAN class="attribute">headerVertSeparator</SPAN> </TD>
</TR>
<TR>
<TD> A line that separates the footer from suggestion  items </TD>
<TD> <SPAN class="attribute">footerHorizSeparator</SPAN> </TD>
</TR>
<TR>
<TD> Vertical lines between column footers </TD>
<TD> <SPAN class="attribute">footerVertSeparator</SPAN> </TD>
</TR>
</TBODY></TABLE>
<P class="bubble note"><STRONG>Note</STRONG><BR>All style attributes for a multi-column suggestion list should be specified as the CSS &quot;border&quot; property but without the prefix &quot;border:&quot;.</P>
<P>Here's an example of applying styles to the grid lines of the suggestion list:</P>
<PRE class="code_area">&lt;o:suggestionField value=<SPAN class="code_area_values">&quot;#{DropDownBean.selectedColor}&quot;</SPAN>
                 horizontalGridLines=<SPAN class="code_area_values">&quot;1px dotted gray&quot;</SPAN>
                 verticalGridLines=<SPAN class="code_area_values">&quot;1px dotted gray&quot;</SPAN>
                 headerHorizSeparator=<SPAN class="code_area_values">&quot;3px solid gray&quot;</SPAN>
                 headerVertSeparator=<SPAN class="code_area_values">&quot;1px solid gray&quot;</SPAN>
                 footerHorizSeparator=<SPAN class="code_area_values">&quot;3px solid gray&quot;</SPAN>
                 footerVertSeparator=<SPAN class="code_area_values">&quot;1px solid gray&quot;</SPAN>&gt;
  ...
&lt;/o:suggestionField&gt;</PRE>

<H2><A name="SuggestionField-ClientSideEvents"></A>Client-Side Events</H2>

<P>The <CITE>SuggestionField</CITE> component supports the following standard client-side events: <SPAN class="attribute">onchange</SPAN>, <SPAN class="attribute">onkeypress</SPAN>, <SPAN class="attribute">onclick</SPAN>, <SPAN class="attribute">ondblclick</SPAN>, <SPAN class="attribute">onmousedown</SPAN>, <SPAN class="attribute">onmouseover</SPAN>, <SPAN class="attribute">onmouseup</SPAN>, <SPAN class="attribute">onmouseout</SPAN>, <SPAN class="attribute">onmousemove</SPAN>, <SPAN class="attribute">onfocus</SPAN>, <SPAN class="attribute">onblur</SPAN>, <SPAN class="attribute">onkeydown</SPAN>, <SPAN class="attribute">onkeyup</SPAN>.</P>

<P>Please note that the mouse events work for the entire <CITE>SuggestionField</CITE> component except for the suggestion list, while the keyboard events also work for the suggestion list. In addition, the <CITE>SuggestionField</CITE> component provides two specific events:</P>
<TABLE class="Table"><TBODY>
<TR>
<TH scope="col"> Event name </TH>
<TH scope="col"> Description </TH>
</TR>
<TR>
<TD> <SPAN class="attribute">ondropdown</SPAN> </TD>
<TD> Occurs when the suggestion list is opened. </TD>
</TR>
<TR>
<TD> <SPAN class="attribute">oncloseup</SPAN> </TD>
<TD> Occurs when the suggestion list is closed. </TD>
</TR>
</TBODY></TABLE>

<H2><A name="SuggestionField-ServerSideEventListeners"></A>Server-Side Event Listeners</H2>

<P>Given that the <CITE>SuggestionField</CITE> component is a <CITE>UIInput</CITE> component, it can fire <SPAN class="attribute">javax.faces.event.ValueChangeEvent</SPAN> just like any other <CITE>UIInput</CITE> component does. To handle a value change event on the server side, the <SPAN class="attribute">valueChangeListener</SPAN> attribute should be used in the same way as for the <CITE>HTMLInputText</CITE> component. You can also add a value change listener to the component by using the <SPAN class="tag">&lt;f:valueChangeListener&gt;</SPAN> tag.</P>

<H2><A name="SuggestionField-ClientSideAPI"></A>Client-Side API</H2>

<P>All client-side API methods for the <CITE>SuggestionField</CITE> component are listed below:</P>
<TABLE class="Table"><TBODY>
<TR>
<TH scope="col"> Method </TH>
<TH scope="col"> Description </TH>
</TR>
<TR>
<TD> <SPAN class="attribute">getValue()</SPAN> </TD>
<TD> Gets the value from the <CITE>SuggestionField</CITE> component on which this method is invoked. </TD>
</TR>
<TR>
<TD> <SPAN class="attribute">setValue (value)</SPAN> </TD>
<TD> Sets the value for the <CITE>SuggestionField</CITE> on which this method is invoked. </TD>
</TR>
<TR>
<TD> <SPAN class="attribute">dropDown()</SPAN> </TD>
<TD> Opens the suggestion list for the <CITE>SuggestionField</CITE> component on which this method is invoked. </TD>
</TR>
<TR>
<TD> <SPAN class="attribute">closeUp()</SPAN> </TD>
<TD> Closes the suggestion list for the <CITE>SuggestionField</CITE> component on which this method is invoked. </TD>
</TR>
<TR>
<TD> <SPAN class="attribute">isOpened()</SPAN> </TD>
<TD> Returns <SPAN class="code_area_values">&quot;true&quot;</SPAN> if the suggestion list is opened. </TD>
</TR>
</TBODY></TABLE>
    </TD>

  </TR>

  <TR>
    <TD height="50" align="left" class="copyright" style="border-top:1px solid #CCCCCC;">&copy; 2010 <A href="http://www.teamdev.com/">TeamDev Ltd</A>.</TD>
    <TD height="50" align="right" style="border-top:1px solid #CCCCCC;"><A style="border-bottom: none;" href="http://www.openfaces.org"><IMG src="images/logo.gif" alt="OpenFaces" width="124" height="28" border="0"></A></TD>
  </TR>
</TABLE>
</BODY>

</HTML>
