
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<TITLE>TreeTable &mdash; OpenFaces documentation</TITLE>
<LINK href="styles/style.css" rel="stylesheet" type="text/css">
<LINK rel="icon" href="favicon.ico" type="image/x-icon">
<LINK rel="shortcut icon" href="favicon.ico" type="image/x-icon">
</HEAD>

<BODY>
<DIV id="logo"><A href="index.html"><IMG src="images/documentation_logo.gif" alt="OpenFaces Documentation" border="0"></A><BR><SPAN style="margin-top:0;">Version 3.0.0</SPAN></DIV>
<TABLE width="100%" border="0" cellspacing="0" cellpadding="0">
  <TR>
    <TD width="240px" align="right" valign="bottom" style="border-bottom:1px solid #CCCCCC;">&nbsp;</TD>
    <TD height="30px" style="border-bottom:1px solid #CCCCCC;">&nbsp;</TD>
  </TR>
  <TR>
    <TD colspan="2" valign="top"><H1>TreeTable</H1></TD>
  </TR>
  <TR>
    <TD valign="top" style="background: url(images/line.gif) #fbfbfc repeat-y right; padding:0px 0px 0px 0px; width:240px; margin: 0px 0px 0px 0px;">
	<TABLE width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#ffffff">
	<TR>
	<TD>
        <DIV class="contents index" style="background-color:#FFFFFF; width:260px;"><UL><LI><A href="#TreeTable-KeyFeatures">Key Features</A></LI>
<UL>
<UL>
    <LI><A href="#TreeTable-InteractiveDataNavigation">Interactive Data Navigation</A></LI>
    <LI><A href="#TreeTable-RepresentingComplexDataStructures">Representing Complex Data Structures</A></LI>
    <LI><A href="#TreeTable-EfficientDataHandling">Efficient Data Handling</A></LI>
    <LI><A href="#TreeTable-FlexibleDataVisualization">Flexible Data Visualization</A></LI>
</UL>
</UL>
    <LI><A href="#TreeTable-SpecifyingtheContent">Specifying the Content</A></LI>
<UL>
    <LI><A href="#TreeTable-RequestScopeVariables">Request-Scope Variables</A></LI>
    <LI><A href="#TreeTable-ModelNodeObjectsRequirements">Model Node Objects Requirements</A></LI>
    <LI><A href="#TreeTable-StaticTreeStructure">Static Tree Structure</A></LI>
    <LI><A href="#TreeTable-DynamicTreeStructure">Dynamic Tree Structure</A></LI>
    <LI><A href="#TreeTable-SpecifyingColumns">Specifying Columns</A></LI>
    <LI><A href="#TreeTable-SpecifyingDynamicColumns">Specifying Dynamic Columns</A></LI>
    <LI><A href="#TreeTable-GroupingColumns">Grouping Columns</A></LI>
    <LI><A href="#TreeTable-ChangingColumnOrder">Changing Column Order</A></LI>
</UL>
    <LI><A href="#TreeTable-Drag%26DropColumnReordering">Drag &amp; Drop Column Reordering</A></LI>
    <LI><A href="#TreeTable-ColumnResizing">Column Resizing</A></LI>
    <LI><A href="#TreeTable-DisplayingColumnMenus">Displaying Column Menus</A></LI>
    <LI><A href="#TreeTable-FetchingDataonTreeTableRendering">Fetching Data on TreeTable Rendering</A></LI>
    <LI><A href="#TreeTable-ConcurrentDataModifications">Concurrent Data Modifications</A></LI>
    <LI><A href="#TreeTable-HeadersandFooters">Headers and Footers</A></LI>
    <LI><A href="#TreeTable-EmptyDataMessage">Empty Data Message</A></LI>
    <LI><A href="#TreeTable-ContentScrolling">Content Scrolling</A></LI>
    <LI><A href="#TreeTable-Sorting">Sorting</A></LI>
<UL>
    <LI><A href="#TreeTable-SortingRelatedStyles">Sorting-Related Styles</A></LI>
</UL>
    <LI><A href="#TreeTable-Filtering">Filtering</A></LI>
    <LI><A href="#TreeTable-Filtering">Filtering</A></LI>
<UL>
    <LI><A href="#TreeTable-BasicUsage">Basic Usage</A></LI>
    <LI><A href="#TreeTable-UsingCompositeFilter">Using Composite Filter</A></LI>
    <LI><A href="#TreeTable-CustomizingFilteringOptions">Customizing Filtering Options</A></LI>
    <LI><A href="#TreeTable-CustomizingFilteringBehavior">Customizing Filtering Behavior</A></LI>
    <LI><A href="#TreeTable-CustomizingFilter%27sAppearance">Customizing Filter's Appearance</A></LI>
    <LI><A href="#TreeTable-FilteringRelatedStyles">Filtering-Related Styles</A></LI>
</UL>
    <LI><A href="#TreeTable-NodeSelection">Node Selection</A></LI>
<UL>
    <LI><A href="#TreeTable-SingleSelectionMode">Single Selection Mode</A></LI>
    <LI><A href="#TreeTable-MultipleSelectionMode">Multiple Selection Mode</A></LI>
</UL>
    <LI><A href="#TreeTable-UsingaCheckboxColumn">Using a Checkbox Column</A></LI>
    <LI><A href="#TreeTable-DynamicDataLoading">Dynamic Data Loading</A></LI>
<UL>
    <LI><A href="#TreeTable-Specifyingthecontentofthe%22above%22and%22below%22facets">Specifying the content of the &quot;above&quot; and &quot;below&quot; facets</A></LI>
</UL>
    <LI><A href="#TreeTable-ExpandingandPreloadingNodes">Expanding and Preloading Nodes</A></LI>
    <LI><A href="#TreeTable-KeyboardNavigation">Keyboard Navigation</A></LI>
    <LI><A href="#TreeTable-CustomizingIndividualRowsandCells">Customizing Individual Rows and Cells</A></LI>
<UL>
    <LI><A href="#TreeTable-SupportforMergingRowCells">Support for Merging Row Cells</A></LI>
</UL>
    <LI><A href="#TreeTable-CustomizingStyles">Customizing Styles</A></LI>
<UL>
    <LI><A href="#TreeTable-SectionStyles">Section Styles</A></LI>
    <LI><A href="#TreeTable-RowStyles">Row Styles</A></LI>
    <LI><A href="#TreeTable-StylesExample">Styles Example</A></LI>
    <LI><A href="#TreeTable-ColumnStyles">Column Styles</A></LI>
    <LI><A href="#TreeTable-OtherStyles">Other Styles</A></LI>
    <LI><A href="#TreeTable-GridlineStyles">Gridline Styles</A></LI>
    <LI><A href="#TreeTable-ColumnGroupSeparators">Column Group Separators</A></LI>
    <LI><A href="#TreeTable-ConditionalStyles">Conditional Styles</A></LI>
    <LI><A href="#TreeTable-StyleHierarchy">Style Hierarchy</A></LI>
</UL>
    <LI><A href="#TreeTable-SpecifyingUserEvents">Specifying User Events</A></LI>
    <LI><A href="#TreeTable-ClientSideAPI">Client-Side API</A></LI>
    <LI><A href="#TreeTable-SpecialCases">Special Cases</A></LI>
<UL>
    <LI><A href="#TreeTable-AbsoluteorRelativePositionedContentWithQuirksMode">Absolute or Relative Positioned Content With Quirks Mode</A></LI>
</UL>
    <LI><A href="#TreeTable-KnownIssues">Known Issues</A></LI></UL></DIV>
	</TD>
	</TR>
	</TABLE>
	<DIV class="components_links">
				<A href="index.html">Developer&rsquo;s Guide Home</A><BR>
		  <A href="installation-and-configuration.html">Installation and Configuration</A><BR>
		  <A href="common-concepts.html">Common Concepts</A><BR>
          <A href="components-index.html" style="padding-bottom:0.5em;">Components Index</A>
                    <HR noshade="noshade" size="1px" color="#d5d6d7" width="85%">
                    <A href="borderlayoutpanel.html">Border Layout Panel</A><BR>
                    <A href="calendar.html">Calendar</A><BR>
                    <A href="chart.html">Chart</A><BR>
                    <A href="commandbutton.html">Command Button</A><BR>
                    <A href="commandlink.html">Command Link</A><BR>
                    <A href="compositefilter.html">Composite Filter</A><BR>
                    <A href="confirmation.html">Confirmation</A><BR>
                    <A href="datatable.html">Data Table</A><BR>
                    <A href="datechooser.html">Date Chooser</A><BR>
                    <A href="daytable.html">Day Table</A><BR>
                    <A href="dropdownfield.html">Drop Down Field</A><BR>
                    <A href="dynamicimage.html">Dynamic Image</A><BR>
                    <A href="foldingpanel.html">Folding Panel</A><BR>
                    <A href="foreach.html">For Each</A><BR>
                    <A href="graphictext.html">Graphic Text</A><BR>
                    <A href="hintlabel.html">Hint Label</A><BR>
                    <A href="inputtext.html">Input Text</A><BR>
                    <A href="inputtextarea.html">Input Textarea</A><BR>
                    <A href="layeredpane.html">Layered Pane</A><BR>
                    <A href="levelindicator.html">Level Indicator</A><BR>
                    <A href="popuplayer.html">Popup Layer</A><BR>
                    <A href="popupmenu.html">Popup Menu</A><BR>
                    <A href="selectbooleancheckbox.html">Select Boolean Checkbox</A><BR>
                    <A href="selectmanycheckbox.html">Select Many Checkbox</A><BR>
                    <A href="selectoneradio.html">Select One Radio</A><BR>
                    <A href="spinner.html">Spinner</A><BR>
		            <A href="suggestionfield.html">Suggestion Field</A><BR>
                    <A href="tabbedpane.html">Tabbed Pane</A><BR>
                    <A href="tabset.html">Tab Set</A><BR>
                    <A href="treetable.html">Tree Table</A><BR>
                    <A href="twolistselection.html">Two List Selection</A><BR>
                    <A href="window.html" style="padding-bottom:0.5em;">Window</A>
                    <HR noshade="noshade" size="1px" color="#d5d6d7" width="85%">
                    <A href="focus.html">Focus</A><BR>
                    <A href="loadbundle.html">Load Bundle</A><BR>
                    <A href="scrollposition.html" style="padding-bottom:0.5em;">Scroll Position</A>
                    <HR noshade="noshade" size="1px" color="#d5d6d7" width="85%">
                    <A href="ajax-framework.html">Ajax Framework</A>
                    <UL>
                        <LI><A href="ajax.html">Ajax Component</A><BR></LI>
                        <LI><A href="ajax-framework.html#AjaxFramework-PageWideConfiguration">Ajax Settings Component</A><BR></LI>
                    </UL>
                    <A href="validation-framework.html">Validation Framework</A>
                    <HR noshade="noshade" size="1px" color="#d5d6d7" width="85%">
                    <A href="../tagReference/index.html">Tag Reference</A><BR>
                    <A href="../apiReference/index.html">API Reference</A>
	<DIV style=" width:240px; height:0px; padding: 0px; margin:0px;"></DIV>
		</DIV>
	</TD>

		<TD style="padding-bottom:1em; padding-left:2em;"><P>
<TABLE  border="0" cellpadding="5" cellspacing="0" width="100%"><TBODY><TR>
<TD valign="top" width="60%">
<P>The <CITE>TreeTable</CITE> component is used to display hierarchical data in a tabular format. It provides flexible configuration of the tree structure and content and supports such advanced features as sorting, interactive filtering, node selection (both multiple and single), keyboard navigation, and dynamic data loading (using Ajax). You can also specify a node preloading mode for expanding <CITE>TreeTable</CITE> nodes on the client or server side.</P></TD>
<TD valign="top" width="40%">
<P><IMG src="components-index.data/treeTable.png" align="absmiddle" border="0"><BR>
<A href="../apiReference/org/openfaces/component/table/TreeTable.html" rel="nofollow">API Reference</A> &#124; <A href="../tagReference/o/treeTable.html" rel="nofollow">Tag Reference</A><BR>
<A href="http://www.openfaces.org/demo/treetable/" rel="nofollow">Online Demo</A></P></TD></TR></TBODY></TABLE>

<H2><A name="TreeTable-KeyFeatures"></A>Key Features</H2>

<H6><A name="TreeTable-InteractiveDataNavigation"></A>Interactive Data Navigation</H6>
<P>TreeTable lets the user interactively query the data in virtually any way to meet a wide variety of usage scenarios.</P>
<UL>
	<LI><A href="#TreeTable-Sorting">Data sorting</A></LI>
	<LI><A href="#TreeTable-Filtering">Interactive filternig</A></LI>
	<LI><A href="#TreeTable-ContentScrolling">Content scrolling with fixed header rows and/or columns</A></LI>
	<LI><A href="#TreeTable-SingleSelectionMode">Single</A> and <A href="#TreeTable-MultipleSelectionMode">multiple</A> node selection</LI>
	<LI><A href="#TreeTable-KeyboardNavigation">Keyboard navigation</A></LI>
	<LI><A href="#TreeTable-DisplayingColumnMenus">Displaying column menus</A></LI>
</UL>


<H6><A name="TreeTable-RepresentingComplexDataStructures"></A>Representing Complex Data Structures</H6>
<P>These features allow to represent and provide convenient user interface for displaying complex entity types organized as tree structures, for example in cases where fields are grouped into complex sub-types, or the number of fields (aka columns) is dynamic.</P>
<UL>
	<LI><A href="#TreeTable-GroupingColumns">Multiple headers and footers with grouped columns</A></LI>
	<LI><A href="#TreeTable-SpecifyingDynamicColumns">Dynamic columns</A></LI>
	<LI><A href="#TreeTable-Drag%26DropColumnReordering">Drag &amp; drop column reordering</A></LI>
	<LI><A href="#TreeTable-DisplayingColumnMenus">Showing/hiding columns interactively</A></LI>
	<LI><A href="#TreeTable-ColumnResizing">Column resizing</A></LI>
	<LI><A href="#TreeTable-SupportforMergingRowCells">Support for merging row cells</A></LI>
</UL>



<H6><A name="TreeTable-EfficientDataHandling"></A>Efficient Data Handling</H6>
<P>The following features allow optimizing the network traffic and memory, and allow convenient data source declaration depding on the nature of data.</P>
<UL>
	<LI><A href="#TreeTable-ExpandingandPreloadingNodes">Configurable nodes preloading to the client</A></LI>
	<LI><A href="#TreeTable-DynamicDataLoading">Dynamic data loading using Ajax</A></LI>
	<LI><A href="#TreeTable-StaticTreeStructure">Static</A> and <A href="#TreeTable-DynamicTreeStructure">dynamic</A> tree structure for on-page and programmatic tree declaration respectively.</LI>
</UL>


<H6><A name="TreeTable-FlexibleDataVisualization"></A>Flexible Data Visualization</H6>
<P>There is a number of ways for customizing how a &quot;raw&quot; data is displayed to address various design requirements.</P>
<UL>
	<LI><A href="#TreeTable-CustomizingIndividualRowsandCells">Ability to customize individual rows and cells (with custom styles, events, content, etc.)</A></LI>
	<LI><A href="#TreeTable-CustomizingStyles">Flexible style customization (for table sections, rows, columns, grid lines, etc.)</A></LI>
	<LI><A href="#TreeTable-ChildTags">Ability to embed JSF components</A></LI>
</UL>


<H2><A name="TreeTable-SpecifyingtheContent"></A>Specifying the Content</H2>

<P>To add the <CITE>TreeTable</CITE> component to a page, use the <SPAN class="tag">&lt;o:treeTable&gt;</SPAN> tag. To specify the content of the <CITE>TreeTable</CITE>, you should configure the tree structure and columns. The tree structure is specified as a hierarchy of objects storing node data. The <CITE>TreeTable</CITE> component displays a row for each tree node. Specifying the columns defines how the cell contents are derived from the node data that corresponds to the row which holds this cell.</P>

<P>The tree structure in the <CITE>TreeTable</CITE> component can be specified either right in the page or in a backing bean. See the sections <A href="#TreeTable-StaticTreeStructure">Static Tree Structure</A> and <A href="#TreeTable-DynamicTreeStructure">Dynamic Tree Structure</A> below for more details.</P>

<P><A name="TreeTable-ChildTags"></A><BR>
Columns in the <CITE>TreeTable</CITE> component are configured in the way similar to the <CITE>DataTable</CITE> configuration, i.e. by nesting appropriate column tags within the <SPAN class="tag">&lt;o:treeTable&gt;</SPAN> tag. The <CITE>TreeTable</CITE> component supports several column types: <SPAN class="tag">&lt;o:column&gt;</SPAN>, <SPAN class="tag">&lt;o:treeColumn&gt;</SPAN> and <SPAN class="tag">&lt;o:selectionColumn&gt;</SPAN> (for more information, see the section <A href="#TreeTable-SpecifyingColumns">Specifying Columns</A> below). In addition you can specify dynamic number of columns using the <A href="#TreeTable-SpecifyingDynamicColumns">&lt;o:columns&gt;</A> tag. Child components of the column tag define the contents of the column cells based on the corresponding row's node data. When the <CITE>TreeTable</CITE> component is being rendered, it repeatedly makes current the node data for each row and renders all cells for that row based on the list of columns.</P>

<P>Note that the same child components of a column are rendered in every cell of that column. So in order for these components to display different data for each respective row, you should use a request-scope variable referring to the current row's data (see the next section).</P>

<H3><A name="TreeTable-RequestScopeVariables"></A>Request-Scope Variables</H3>

<P>When specifying child components to be displayed in <CITE>TreeTable</CITE> columns, you can use request-scope variables that reference the current row's node parameters. There are four such variables. To use any of them, you should declare its name in the corresponding attribute of the <SPAN class="tag">&lt;o:treeTable&gt;</SPAN> tag:</P>
<UL>
	<LI><SPAN class="attribute">var</SPAN> (required) - The name of a request-scope variable under which the current node data is available.</LI>
	<LI><SPAN class="attribute">nodePathVar</SPAN> (optional) - The name of a request-scope variable under which the full path of the current node is available. This variable has the <SPAN class="attribute">org.openfaces.component.table.TreePath</SPAN> type. Instances of the <SPAN class="attribute">TreePath</SPAN> class are used to reference a node in the tree structure by its node value and node values of all its parent nodes.</LI>
	<LI><SPAN class="attribute">nodeLevelVar</SPAN> (optional) - The name of an integer request-scope variable under which the level number of the current node is available, where <SPAN class="code_area_values">&quot;0&quot;</SPAN> corresponds to the top-most level.</LI>
	<LI><SPAN class="attribute">nodeHasChildrenVar</SPAN> (optional) - The name of a boolean request-scope variable under which the flag indicating whether a node has children is available.</LI>
</UL>


<P>In addition there are two more variables provided to define a cell style condition. These variables are available when specifying the condition for the <SPAN class="tag">&lt;o:cell&gt;</SPAN> and <SPAN class="tag">&lt;o:cellStyle&gt;</SPAN> tags:</P>
<UL>
	<LI><SPAN class="attribute">columnIndexVar</SPAN> &#45; The name of a request-scope variable under which the column index is available. It is a zero-based integer number.</LI>
	<LI><SPAN class="attribute">columnIdVar</SPAN> &#45; The name of a request-scope variable under which the column ID ia available. It is a string variable that contains the ID specified in the corresponding column tag.</LI>
</UL>


<P>After their declaration, the variables will be available under the declared names when specifying attribute values in JSP source with EL code. If the value is evaluated by a backing bean method, you can use the <SPAN class="attribute">org.openfaces.util.Faces.var(String varName)</SPAN> method to retrieve a variable by its name.<BR>
Note that the request-scope variables are available only for a limited set of the <CITE>TreeTable</CITE> attributes.</P>
<PRE class="code_area">&lt;o:treeTable <SPAN class="code-keyword">var</SPAN>=<SPAN class="code_area_values">&quot;nodeObject&quot;</SPAN> nodeLevelVar=<SPAN class="code_area_values">&quot;nodeLevel&quot;</SPAN>&gt;
...
&lt;/o:treeTable&gt;</PRE>

<H3><A name="TreeTable-ModelNodeObjectsRequirements"></A>Model Node Objects Requirements</H3>

<P>There are two ways of defining the tree structure of the <CITE>TreeTable</CITE> component. Either way, the node data objects provided by the tree structure must meet the following requirements:</P>
<UL>
	<LI>They should be serializable.</LI>
	<LI>They should correctly implement the <SPAN class="attribute">equals</SPAN> and <SPAN class="attribute">hashCode</SPAN> methods.</LI>
</UL>


<P>If node data objects do not meet these requirements, then each node should provide a &quot;node key&quot; object that must uniquely identify the appropriate node and satisfy the above mentioned requirements. The way node keys are specified depends on the type of the tree structure used. For more information about the tree structure, see the sections <A href="#TreeTable-StaticTreeStructure">Static Tree Structure</A> and <A href="#TreeTable-DynamicTreeStructure">Dynamic Tree Structure</A> below.</P>

<H3><A name="TreeTable-StaticTreeStructure"></A>Static Tree Structure</H3>

<P>In a static tree structure, the hierarchy of nodes is defined right in the page within the <SPAN class="tag">&lt;o:treeTable&gt;</SPAN> tag. To specify the static structure, you should place the <SPAN class="tag">&lt;o:staticTreeStructure&gt;</SPAN> tag into the <SPAN class="tag">&lt;o:treeTable&gt;</SPAN> tag. This tag should contain a hierarchy of the <SPAN class="tag">&lt;o:treeNode&gt;</SPAN> tags for each node.</P>

<P>The <SPAN class="tag">&lt;o:treeNode&gt;</SPAN> tag has two attributes: <SPAN class="attribute">value</SPAN> (required) and <SPAN class="attribute">nodeKey</SPAN> (optional). The <SPAN class="attribute">value</SPAN> attribute specifies the node data object and can be either a value-binding expression that references any object or just a String (as in the example below). If present, the <SPAN class="attribute">nodeKey</SPAN> attribute specifies the node key object for this node, as described in the section above.</P>

<P>The following example shows the <CITE>TreeTable</CITE> component with an explicitly defined hierarchy of nodes.</P>
<PRE class="code_area">&lt;o:treeTable <SPAN class="code-keyword">var</SPAN>=<SPAN class="code_area_values">&quot;color&quot;</SPAN>&gt;
  &lt;o:staticTreeStructure&gt;
    &lt;o:treeNode value=<SPAN class="code_area_values">&quot;Colors&quot;</SPAN>&gt;
      &lt;o:treeNode value=<SPAN class="code_area_values">&quot;Warm colors&quot;</SPAN>&gt;
         &lt;o:treeNode value=<SPAN class="code_area_values">&quot;Red&quot;</SPAN>/&gt;
         &lt;o:treeNode value=<SPAN class="code_area_values">&quot;Yellow&quot;</SPAN>/&gt;
      &lt;/o:treeNode&gt;
      &lt;o:treeNode value=<SPAN class="code_area_values">&quot;Cold colors&quot;</SPAN>&gt;
        &lt;o:treeNode value=<SPAN class="code_area_values">&quot;Blue&quot;</SPAN>/&gt;
        &lt;o:treeNode value=<SPAN class="code_area_values">&quot;Purple&quot;</SPAN>/&gt;
      &lt;/o:treeNode&gt;
    &lt;/o:treeNode&gt;
  &lt;/o:staticTreeStructure&gt;
  &lt;o:treeColumn&gt;
    &lt;h:outputText value=<SPAN class="code_area_values">&quot;#{color}&quot;</SPAN>&gt;
    &lt;/h:outputText&gt;
  &lt;/o:treeColumn&gt;
&lt;/o:treeTable&gt;</PRE>

<H3><A name="TreeTable-DynamicTreeStructure"></A>Dynamic Tree Structure</H3>

<P>In case of a dynamic tree structure, the nodes are not specified explicitly; instead, you specify the rules of how to retrieve the nodes. This gives you the ability to provide flexible hierarchies of objects from any data source.</P>

<P>To specify a dynamic tree structure, use the <SPAN class="tag">&lt;o:dynamicTreeStructure&gt;</SPAN> tag. The hierarchy in the dynamic tree structure is defined by specifying an expression for retrieving child nodes of a given node. This expression is specified using the <SPAN class="attribute">nodeChildren</SPAN> attribute. Whenever the <CITE>TreeTable</CITE> component needs to retrieve a list of children for a specific node, it makes this node current and evaluates the expression specified by the <SPAN class="attribute">nodeChildren</SPAN> attribute. The parameters of the current node are available in the expression through request-scope variables.</P>

<P>Building of the tree structure starts from retrieving the list of top-level nodes. As with any other nodes, the top-level nodes are calculated with the <SPAN class="attribute">nodeChildren</SPAN> attribute, but in their case there is no parent node. After retrieving the top-level nodes, the <CITE>TreeTable</CITE> component retrieves child nodes for each of them recursively using the same attribute.</P>

<P>The <SPAN class="tag">&lt;o:dynamicTreeStructure&gt;</SPAN> tag provides the following attributes:</P>
<UL>
	<LI><SPAN class="attribute">nodeChildren</SPAN> &#45; This is a required attribute that should be defined as a value-binding expression. This expression should provide a list of child node data objects for the parent node. The parent node whose children should be retrieved can be identified through the request-scope variables whose names are specified with the <SPAN class="attribute">var</SPAN>, <SPAN class="attribute">nodePathVar</SPAN>, or <SPAN class="attribute">nodeLevelVar</SPAN> attributes of the <SPAN class="tag">&lt;o:treeTable&gt;</SPAN> tag (for more information about these attributes, see the section <A href="#TreeTable-RequestScopeVariables">Request&#45;Scope Variables</A> above). For retrieving top-level nodes, these variables have the following values: <SPAN class="attribute">var</SPAN> has a value of <SPAN class="code_area_values">null</SPAN>, <SPAN class="attribute">nodePathVar</SPAN> has a value of <SPAN class="code_area_values">null</SPAN>, and <SPAN class="attribute">nodeLevelVar</SPAN> has a value of <SPAN class="code_area_values">&#45;1</SPAN>.</LI>
	<LI><SPAN class="attribute">nodeHasChildren</SPAN> &#45; This is an optional boolean attribute that specifies whether the node has children or not. When the attribute is set, the <CITE>TreeTable</CITE> component doesn't calculate the <SPAN class="attribute">nodeChildren</SPAN> attribute when it's necessary to know whether a node has any children. This defers retrieval of child nodes until they are actually needed and can greatly reduce the time of the tree model retrieval if calculation of the <SPAN class="attribute">nodeChildren</SPAN> attribute's expression is time-consuming. The <SPAN class="attribute">nodeHasChildren</SPAN> attribute must be set as a value-binding expression. The node that should be checked for the presence of children can be identified using the same request-scope variables as in the <SPAN class="attribute">nodeChildren</SPAN> attribute.</LI>
	<LI><SPAN class="attribute">nodeKey</SPAN> &#45; This attribute defines the key node object if it is required (see the section <A href="#TreeTable-ModelNodeObjectsRequirements">Model Node Objects Requirements</A> for more details). The node for which the node key should be returned can be identified using the same request-scope variables as in the <SPAN class="attribute">nodeChildren</SPAN> attribute.</LI>
</UL>


<P>This example shows the <CITE>TreeTable</CITE> component that references the Messages backing bean.</P>
<PRE class="code_area">&lt;o:treeTable <SPAN class="code-keyword">var</SPAN>=<SPAN class="code_area_values">&quot;message&quot;</SPAN>&gt;
  &lt;o:dynamicTreeStructure nodeChildren=<SPAN class="code_area_values">&quot;#{Messages.nodeChildren}&quot;</SPAN>
                          nodeHasChildren=<SPAN class="code_area_values">&quot;#{Messages.nodeHasChildren}&quot;</SPAN>
                          nodeKey=<SPAN class="code_area_values">&quot;#{message.id}&quot;</SPAN>/&gt;
  &lt;o:treeColumn&gt;
    &lt;f:facet name=<SPAN class="code_area_values">&quot;header&quot;</SPAN>&gt;
      &lt;h:outputText value=<SPAN class="code_area_values">&quot;Subject&quot;</SPAN>/&gt;
    &lt;/f:facet&gt;
    &lt;h:outputText value=<SPAN class="code_area_values">&quot;#{message.subject}&quot;</SPAN>/&gt;
  &lt;/o:treeColumn&gt;
  &lt;o:column&gt;
    &lt;f:facet name=<SPAN class="code_area_values">&quot;header&quot;</SPAN>&gt;
      &lt;h:outputText value=<SPAN class="code_area_values">&quot;Author&quot;</SPAN>/&gt;
    &lt;/f:facet&gt;
    &lt;h:outputText value=<SPAN class="code_area_values">&quot;#{message.author}&quot;</SPAN>/&gt;
  &lt;/o:column&gt;
&lt;/o:treeTable&gt;</PRE>
<P>In the following example, you can see a method from the backing bean of the previous example:</P>
<PRE class="code_area"><SPAN class="code-keyword">public</SPAN> List getNodeChildren() {
    ForumMessage message = Faces.<SPAN class="code-keyword">var</SPAN>(<SPAN class="code_area_values">&quot;message&quot;</SPAN>, ForumMessage.class);
    <SPAN class="code-keyword">if</SPAN> (message == <SPAN class="code-keyword">null</SPAN>)
      <SPAN class="code-keyword">return</SPAN> myRootMessages;
    <SPAN class="code-keyword">else</SPAN>
      <SPAN class="code-keyword">return</SPAN> message.getReplies();
  }

  <SPAN class="code-keyword">public</SPAN> <SPAN class="code-object">boolean</SPAN> isNodeHasChildren() {
    ForumMessage message = Faces.<SPAN class="code-keyword">var</SPAN>(<SPAN class="code_area_values">&quot;message&quot;</SPAN>, ForumMessage.class);
    <SPAN class="code-keyword">return</SPAN> message.hasReplies();
  }</PRE>

<H3><A name="TreeTable-SpecifyingColumns"></A>Specifying Columns</H3>

<P>Specifying columns defines the contents of all the cells of the <CITE>TreeTable</CITE> component. Each table column defines the content of its header, footer, and body cells. The content for the body cells is specified using row request-scope variables (for more details about them, see the section <A href="#TreeTable-RequestScopeVariables">Request&#45;Scope Variables</A>).</P>

<P>The <CITE>TreeTable</CITE> component supports three types of columns:</P>
<UL class="alternate" type="square">
	<LI><SPAN class="tag">&lt;o:column&gt;</SPAN> &#45; This is a basic column that renders the specified cell contents.</LI>
	<LI><SPAN class="tag">&lt;o:treeColumn&gt;</SPAN> &#45; This column shows the hierarchy position of each node by indenting it and also provides controls for expanding/collapsing child nodes (called &quot;expansion toggle button&quot;).</LI>
	<LI><SPAN class="tag">&lt;o:selectionColumn&gt;</SPAN> &#45; This column shows check boxes for <A href="#TreeTable-MultipleSelectionMode">multiple row selection</A> or radio buttons for <A href="#TreeTable-SingleSelectionMode">single row selection</A>. The selection column is an alternative way for the user to change selection and see which row(s) is selected.</LI>
</UL>


<P>The list of columns is specified using the <SPAN class="tag">&lt;o:column&gt;</SPAN> tag for each column. The use of the <SPAN class="tag">&lt;o:column&gt;</SPAN> tag is the same as for the <CITE>DataTable</CITE> component. The content of the <SPAN class="tag">&lt;o:column&gt;</SPAN> tag is used for rendering the cells belonging to that column. The column also has the <SPAN class="attribute">&quot;header&quot;</SPAN>, <SPAN class="attribute">&quot;subHeader&quot;</SPAN> and <SPAN class="attribute">&quot;footer&quot;</SPAN> facets that can be used to specify its header, sub-header (usually displays filtering component) and footer respectively.</P>

<P>When specifying child components to be displayed in the column, in addition to the variable specified in the <SPAN class="attribute">var</SPAN> attribute, you can use variables whose names are specified in the <SPAN class="attribute">nodeLevelVar</SPAN>, <SPAN class="attribute">nodePathVar</SPAN> or <SPAN class="attribute">nodeHasChildren</SPAN> attributes of the <CITE>TreeTable</CITE> component (see the section <A href="#TreeTable-RequestScopeVariables">Request&#45;Scope Variables</A> for more details). Note that these variables are not mandatory and you can use them as needed.</P>

<P>To specify a column for displaying the tree structure, use the <SPAN class="tag">&lt;o:treeColumn&gt;</SPAN> tag. The use of the <SPAN class="tag">&lt;o:treeColumn&gt;</SPAN> tag is similar to the <SPAN class="tag">&lt;o:column&gt;</SPAN> tag with the exception of some features described below.</P>

<P>The following example shows a two-column <CITE>TreeTable</CITE> component with headers for each column.</P>
<PRE class="code_area">&lt;o:treeTable <SPAN class="code-keyword">var</SPAN>=<SPAN class="code_area_values">&quot;message&quot;</SPAN>&gt;
  &lt;o:dynamicTreeStructure nodeChildren=<SPAN class="code_area_values">&quot;#{Messages.nodeChildren}&quot;</SPAN> /&gt;
  &lt;o:treeColumn&gt;
    &lt;f:facet name=<SPAN class="code_area_values">&quot;header&quot;</SPAN>&gt;
      &lt;h:outputText value=<SPAN class="code_area_values">&quot;Subject&quot;</SPAN>/&gt;
    &lt;/f:facet&gt;
    &lt;h:outputText value=<SPAN class="code_area_values">&quot;#{message.subject}&quot;</SPAN>/&gt;
  &lt;/o:treeColumn&gt;
  &lt;o:column&gt;
    &lt;f:facet name=<SPAN class="code_area_values">&quot;header&quot;</SPAN>&gt;
      &lt;h:outputText value=<SPAN class="code_area_values">&quot;From&quot;</SPAN>/&gt;
    &lt;/f:facet&gt;
      &lt;h:outputText value=<SPAN class="code_area_values">&quot;#{message.author.userName}&quot;</SPAN>/&gt;
  &lt;/o:column&gt;
&lt;/o:treeTable&gt;</PRE>
<P>The <SPAN class="tag">&lt;o:treeColumn&gt;</SPAN> tag provides several additional attributes for customizing its appearance and nodes. The <SPAN class="attribute">levelIndent</SPAN> attribute lets you specify the horizontal offset between the node levels. It can be specified in pixels (px), millimeters (mm), em dashes (em), etc. For example, <SPAN class="code_area_values">&quot;30px&quot;</SPAN>. The <SPAN class="attribute">showAsTree</SPAN> boolean attribute (<SPAN class="code_area_values">&quot;true&quot;</SPAN> by default) allows you to dynamically change the column appearance. So when the attribute is set to <SPAN class="code_area_values">&quot;false&quot;</SPAN>, the column looks like an ordinary column specified with the <SPAN class="tag">&lt;o:column&gt;</SPAN> tag. The <SPAN class="attribute">expansionToggleCellStyle</SPAN> and <SPAN class="attribute">expansionToggleCellClass</SPAN> attributes are used to define a style for a cell that contains expansion toggle (&#43; and &#45;) buttons. And you can customize expansion toggle images (+/-), using the <SPAN class="attribute">expandedToggleImageUrl</SPAN> and <SPAN class="attribute">collapsedToggleImageUrl</SPAN> attributes.</P>

<P><A name="TreeTable-treeColumnToggleStyles"></A><BR>
The following example shows the <CITE>TreeTable</CITE> component in which the nodes are indented by 30 pixels and a style is applied to the cell with an expansion toggle button:</P>
<PRE class="code_area">&lt;o:treeTable <SPAN class="code-keyword">var</SPAN>=<SPAN class="code_area_values">&quot;message&quot;</SPAN>&gt;
  &lt;o:treeColumn
    levelIndent=<SPAN class="code_area_values">&quot;30px&quot;</SPAN>
    expansionToggleCellStyle=<SPAN class="code_area_values">&quot;vertical-align: top; padding-top: 4px&quot;</SPAN>&gt;
    &lt;f:facet name=<SPAN class="code_area_values">&quot;header&quot;</SPAN>&gt;
      &lt;h:outputText value=<SPAN class="code_area_values">&quot;Subject&quot;</SPAN>/&gt;
    &lt;/f:facet&gt;
      &lt;h:outputText value=<SPAN class="code_area_values">&quot;#{message.subject}&quot;</SPAN>/&gt;
  &lt;/o:treeColumn&gt;
&lt;/o:treeTable&gt;</PRE>

<P>Please also read the <A href="datatable.html#DataTable-SpecifyingHeaderandFooter">Specifying Header and Footer</A> section in DataTable documentation for the description of two ways of specifying column's header and footer and a way of specifying column name for bound components such as a composite filter or a column visibility menu.</P>

<H3><A name="TreeTable-SpecifyingDynamicColumns"></A>Specifying Dynamic Columns</H3>

<P>In addition to column types listed in section <A href="#TreeTable-SpecifyingColumns">Specifying Columns</A> the <CITE>TreeTable</CITE> provides an ability to specify dynamic number of columns. To add dynamic columns to the <CITE>TreeTable</CITE>, use the <SPAN class="tag">&lt;o:columns&gt;</SPAN> child tag of the <SPAN class="tag">&lt;o:treeTable&gt;</SPAN> tag.</P>

<P>The list of the dynamic columns is specified using the <SPAN class="attribute">value</SPAN> attribute. This attribute should be specified as a value-binding expression that refers to an array or a collection of objects that serve as column data objects. The <SPAN class="tag">&lt;o:columns&gt;</SPAN> tag results in adding one column per each object found in this collection. The column data objects must be serializable and correctly implement <SPAN class="attribute">equals</SPAN> and <SPAN class="attribute">hashCode</SPAN> methods. You should make sure to provide objects that identify their respective columns in any way that should be sufficient for distinguishing between columns when they are rendered or their properties are calculated. See below for the places where column data objects are used. Please note the <SPAN class="attribute">var</SPAN> request-scope variable of the <CITE>TreeTable</CITE> is not available when you specify the <SPAN class="attribute">value</SPAN> attribute of the <CITE>Columns</CITE>.</P>

<P>Most of the attributes of <SPAN class="tag">&lt;o:columns&gt;</SPAN> tag are analogous to their counterparts in the <SPAN class="tag">&lt;o:column&gt;</SPAN> tag but they have one valuable difference - an ability for the attributes to be specified as value binding expressions that allow specifying column attributes on a per-column basis. You need to use the column data request-scope variable in value binding expressions in order to specify column-specific attribute values. The name of this request-scope variable should be specified in the <SPAN class="attribute">var</SPAN> attribute of the <SPAN class="tag">&lt;o:columns&gt;</SPAN> tag. When specifying child components of the <SPAN class="tag">&lt;o:columns&gt;</SPAN> tag, the request-scope variable declared in the <SPAN class="attribute">var</SPAN> attribute of the <SPAN class="tag">&lt;o:treeTable&gt;</SPAN> tag can be used. In addition you can refer to the current column when specifying child components of the <SPAN class="tag">&lt;o:columns&gt;</SPAN> tag using the column data request scope variable.</P>

<P>The <SPAN class="tag">&lt;o:columns&gt;</SPAN> tag does not have the <SPAN class="attribute">id</SPAN> or <SPAN class="attribute">rendered</SPAN> attributes. However, you can specify the identifier and a flag that indicates whether or not column is visible for each dynamic column using the <SPAN class="attribute">columnId</SPAN> and <SPAN class="attribute">columnRendered</SPAN> attributes of the <SPAN class="tag">&lt;o:columns&gt;</SPAN> tag respectively. These attributes should be specified as value-binding expressions that refer to identifier or a flag indicating whether column is visible for each dynamic column. You can use a column data variable specified in the <SPAN class="attribute">var</SPAN> attribute in the expression for these attributes. Please note that column identifiers evaluated for columns inside the <SPAN class="tag">&lt;o:columns&gt;</SPAN> tag are used in the same way as <SPAN class="attribute">id</SPAN> attributes of ordinary <SPAN class="tag">&lt;o:column&gt;</SPAN> tags, so the identifiers evaluated using this expression should be unique in bounds of the containing <CITE>TreeTable</CITE>.</P>

<P>The following example demonstrates the usage of the <SPAN class="tag">&lt;o:columns&gt;</SPAN> tag:</P>
<PRE class="code_area">&lt;o:treeTable <SPAN class="code-keyword">var</SPAN>=<SPAN class="code_area_values">&quot;node&quot;</SPAN>&gt;
&lt;o:dynamicTreeStructure nodeChildren=<SPAN class="code_area_values">&quot;#{TreeTableBean.nodeChildren}&quot;</SPAN>/&gt;
&lt;o:treeColumn&gt;
    &lt;f:facet name=<SPAN class="code_area_values">&quot;header&quot;</SPAN>&gt;
        &lt;h:outputText value=<SPAN class="code_area_values">&quot;name&quot;</SPAN>/&gt;
    &lt;/f:facet&gt;
    &lt;h:outputText value=<SPAN class="code_area_values">&quot;#{node.name}&quot;</SPAN>/&gt;
&lt;/o:treeColumn&gt;
&lt;o:columns value=<SPAN class="code_area_values">&quot;#{TreeTableBean.dynamicColumns}&quot;</SPAN>
           <SPAN class="code-keyword">var</SPAN>=<SPAN class="code_area_values">&quot;col&quot;</SPAN>&gt;
    &lt;f:facet name=<SPAN class="code_area_values">&quot;header&quot;</SPAN>&gt;
        &lt;h:outputText value=<SPAN class="code_area_values">&quot;#{col}&quot;</SPAN>/&gt;
    &lt;/f:facet&gt;
    &lt;h:inputText value=<SPAN class="code_area_values">&quot;#{node.dynamicColumns[col]}&quot;</SPAN>/&gt;
&lt;/o:columns&gt;
&lt;/o:treeTable&gt;</PRE>
<P>As an ordinary <SPAN class="tag">&lt;o:column&gt;</SPAN> tag, the <SPAN class="tag">&lt;o:columns&gt;</SPAN> tag supports <A href="#TreeTable-Sorting">sorting</A>, <A href="#TreeTable-Filtering">filtering</A>, <A href="#TreeTable-ColumnStyles">style customization</A> and <A href="#TreeTable-SpecifyingUserEvents">columns-specific events</A>.</P>

<H3><A name="TreeTable-GroupingColumns"></A>Grouping Columns</H3>

<P>It is possible to combine columns into groups to reflect their logical connections. This can be done by enclosing several column tags into the <SPAN class="tag">&lt;o:columnGroup&gt;</SPAN> tag. This tag has the set of features similar to that of ordinary columns:</P>
<UL class="alternate" type="square">
	<LI>Specifying the <SPAN class="attribute">&quot;header&quot;</SPAN> and <SPAN class="attribute">&quot;footer&quot;</SPAN> facets for a group of columns. This will show an additional header (or footer) that spans across all of the inner columns.</LI>
	<LI>Specifying style for a group of columns as described in the <A href="#TreeTable-ColumnStyles">Column Styles</A> section.</LI>
	<LI>Specifying events for a group of columns as described in the <A href="#TreeTable-SpecifyingUserEvents">Specifying User Events</A> section.</LI>
</UL>


<P>Here's a simple example of using column groups:</P>
<PRE class="code_area">&lt;o:treeTable value=<SPAN class="code_area_values">&quot;#{TreeTableBean.folders}&quot;</SPAN> <SPAN class="code-keyword">var</SPAN>=<SPAN class="code_area_values">&quot;folder&quot;</SPAN>&gt;
  &lt;o:treeColumn&gt;
    &lt;f:facet name=<SPAN class="code_area_values">&quot;header&quot;</SPAN>&gt;
        &lt;h:outputText value=<SPAN class="code_area_values">&quot;Name&quot;</SPAN>/&gt;
    &lt;/f:facet&gt;
    &lt;h:outputText value=<SPAN class="code_area_values">&quot;#{folder.name}&quot;</SPAN>/&gt;
  &lt;/o:treeColumn&gt;
  &lt;o:column&gt;
    &lt;f:facet name=<SPAN class="code_area_values">&quot;header&quot;</SPAN>&gt;
        &lt;h:outputText value=<SPAN class="code_area_values">&quot;Date created&quot;</SPAN>/&gt;
    &lt;/f:facet&gt;
    &lt;h:outputText value=<SPAN class="code_area_values">&quot;#{folder.creationDate}&quot;</SPAN>/&gt;
  &lt;/o:column&gt;
  &lt;o:columnGroup&gt;
    &lt;f:facet name=<SPAN class="code_area_values">&quot;header&quot;</SPAN>&gt;
        &lt;h:outputText value=<SPAN class="code_area_values">&quot;Attributes&quot;</SPAN>/&gt;
    &lt;/f:facet&gt;
    &lt;o:column&gt;
        &lt;f:facet name=<SPAN class="code_area_values">&quot;header&quot;</SPAN>&gt;
            &lt;h:outputText value=<SPAN class="code_area_values">&quot;Read-only&quot;</SPAN>/&gt;
        &lt;/f:facet&gt;
        &lt;h:outputText value=<SPAN class="code_area_values">&quot;#{product.attributes.readOnly}&quot;</SPAN>/&gt;
    &lt;/o:column&gt;
    &lt;o:column&gt;
        &lt;f:facet name=<SPAN class="code_area_values">&quot;header&quot;</SPAN>&gt;
            &lt;h:outputText value=<SPAN class="code_area_values">&quot;Hidden&quot;</SPAN>/&gt;
        &lt;/f:facet&gt;
        &lt;h:outputText value=<SPAN class="code_area_values">&quot;#{product.attributes.hidden}&quot;</SPAN>/&gt;
    &lt;/o:column&gt;
  &lt;/o:columnGroup&gt;
&lt;/o:treeTable&gt;</PRE>
<P>Note that there are both the columns those are enclosed into <SPAN class="tag">&lt;o:columnGroup&gt;</SPAN> tag and the columns those are not part of any group. It is also possible to create nested column groups, thus establishing an arbitrary hierarchy of columns.</P>

<P>It is possible to emphasize separation of columns into groups with a feature of customizing gridlines for different levels of columns (or groups). See the <A href="#TreeTable-ColumnGroupSeparators">Column Group Separators</A> section for details.</P>

<H3><A name="TreeTable-ChangingColumnOrder"></A>Changing Column Order</H3>

<P>The <SPAN class="attribute">columnsOrder</SPAN> attribute of the <SPAN class="tag">&lt;o:treeTable&gt;</SPAN> tag lets you explicitly specify the order in which the columns will be displayed. This attribute should be declared as a value-binding expression and the bound value should be a list containing column IDs for each column in the order you want them to appear. If the <SPAN class="attribute">columnsOrder</SPAN> attribute is not specified, all columns are rendered in the order they are defined. Otherwise, only the columns whose IDs are included into this list are rendered.</P>

<P>In the example below, the columns in the <CITE>TreeTable</CITE> component are ordered explicitly.</P>
<PRE class="code_area">&lt;o:treeTable <SPAN class="code-keyword">var</SPAN>=<SPAN class="code_area_values">&quot;message&quot;</SPAN>
              columnsOrder=<SPAN class="code_area_values">&quot;#{Messages.columnsOrder}&quot;</SPAN>&gt;
  &lt;o:dynamicTreeStructure nodeChildren=<SPAN class="code_area_values">&quot;#{Messages.nodeChildren}&quot;</SPAN> /&gt;
  &lt;o:treeColumn id = <SPAN class="code_area_values">&quot;subjectColumn&quot;</SPAN>&gt; ... &lt;/o:treeColumn&gt;
  &lt;o:column id = <SPAN class="code_area_values">&quot;authorColumn&quot;</SPAN>&gt; ... &lt;/o:column&gt;
  &lt;o:column id = <SPAN class="code_area_values">&quot;sentColumn&quot;</SPAN>&gt; ... &lt;/o:column&gt;
  &lt;o:column id = <SPAN class="code_area_values">&quot;sizeColumn&quot;</SPAN>&gt; ... &lt;/o:column&gt;
&lt;/o:treeTable&gt;</PRE>

<H2><A name="TreeTable-Drag%26DropColumnReordering"></A>Drag &amp; Drop Column Reordering</H2>

<P>It is possible to let the user reorder columns interactively with drag &amp; drop by adding the <SPAN class="tag">&lt;o:columnReordering&gt;</SPAN> tag into the <SPAN class="tag">&lt;o:treeTable&gt;</SPAN> tag. When this feature is turned on, the user can drag the column by its header and drop it into the appropriate place in-between columns. The current drop target is highlighted for user's convenience. In case of ??TreeTable??s with horizontal scrolling enabled (see the <A href="#TreeTable-ContentScrolling">Content Scrolling</A> section), the autoscroll areas will pop up on the header's left and/or right sides allowing the user to scroll the table while dragging the column. </P>

<P>The order of columns is read from and saved to the <SPAN class="attribute">columnsOrder</SPAN> attribute of <SPAN class="tag">&lt;o:treeTable&gt;</SPAN> tag, so you can bind this attribute to your backing bean if you'd like to receive the column order changes. See the <A href="#TreeTable-ChangingColumnOrder">Changing Column Order</A> section for the description of <SPAN class="attribute">columnsOrder</SPAN> attribute.</P>

<P>Mere adding of the <SPAN class="tag">&lt;o:columnReordering&gt;</SPAN> tag will turn on the reordering behavior though you can also configure the attributes of this tag to adjust styles and appearance of various parts of UI that participate in the reordering process.</P>

<P>Dragging the column header creates a visual copy of the header cell that the user is dragging, and it's possible to apply an additional style to the dragged cell using the <SPAN class="attribute">draggedCellStyle</SPAN> and <SPAN class="attribute">draggedCellClass</SPAN> attributes. By default, the dragged cell is displayed as semitransparent and the transparency level can be configured using the <SPAN class="attribute">draggedCellTransparency</SPAN> attribute, where <SPAN class="code_area_values">0.0</SPAN> corresponds to the fully-opaque display, and <SPAN class="code_area_values">1.0</SPAN> corresponds to the fully-transparent display.</P>

<P>The appearance of drop target can be customized with the following attributes</P>
<TABLE class="Table"><TBODY>
<TR>
<TH scope="col"> Attribute </TH>
<TH scope="col"> Description </TH>
</TR>
<TR>
<TD> <SPAN class="attribute">dropTargetStyle</SPAN>, <SPAN class="attribute">dropTargetClass</SPAN> </TD>
<TD> The CSS class applied to the drop target area. The usual attributes that should be configured for drop target style are the &quot;background&quot; and &quot;width&quot; CSS attributes. </TD>
</TR>
<TR>
<TD> <SPAN class="attribute">dropTargetTopImageUrl</SPAN>, <SPAN class="attribute">dropTargetBottomImageUrl</SPAN> </TD>
<TD> Allow customizing images that are displayed above and below the drop target (the default images display the arrows). </TD>
</TR>
</TBODY></TABLE>

<P>Finally, the appearance of the auto-scroll areas that appear on the horizontally-scrollable tables can be configured with the following attributes:</P>
<TABLE class="Table"><TBODY>
<TR>
<TH scope="col"> Attribute </TH>
<TH scope="col"> Description </TH>
</TR>
<TR>
<TD> <SPAN class="attribute">autoScrollAreaStyle</SPAN>, <SPAN class="attribute">autoScrollAreaClass</SPAN> </TD>
<TD> The style for the autoscroll areas. You will usually want to configure the background, width and possibly border CSS attributes. </TD>
</TR>
<TR>
<TD> <SPAN class="attribute">autoScrollAreaTransparency</SPAN> </TD>
<TD> The transparency level for the autoscroll areas. The default value is <SPAN class="code_area_values">0.5</SPAN>, which means a semitransparent display. The value of <SPAN class="code_area_values">0.0</SPAN> corresponds to the fully opaque display </TD>
</TR>
<TR>
<TD> <SPAN class="attribute">autoScrollLeftImageUrl</SPAN>, <SPAN class="attribute">autoScrollRightImageUrl</SPAN> </TD>
<TD> The images that are displayed in the left and right autoscrolling areas respectively </TD>
</TR>
</TBODY></TABLE>

<P>Here's an example of turning on the column reordering feature for TreeTable with customizing the drop target color and binding the column order to a backing bean:</P>
<PRE class="code_area">&lt;o:treeTable ...
    columnsOrder=<SPAN class="code_area_values">&quot;#{Messages.columnsOrder}&quot;</SPAN>&gt;

  &lt;o:columnReordering dropTargetStyle=<SPAN class="code_area_values">&quot;background: red&quot;</SPAN>/&gt;
  ...
&lt;/o:treeTable&gt;</PRE>

<H2><A name="TreeTable-ColumnResizing"></A>Column Resizing</H2>

<P>It is possible to let the user resize columns by adding the <SPAN class="tag">&lt;o:columnResizing&gt;</SPAN> tag as a child of <SPAN class="tag">&lt;o:treeTable&gt;</SPAN> tag. When column resizing is turned on, the user can drag the column header separators to resize columns. The total TreeTable width is not affected by the process of resizing columns. It should also be noted that if a TreeTable doesn't have a fixed width specification, for example when it is declared to have 100% width, then table layout behavior is slightly changed when column resizing is turned on. The TreeTable is loaded with its width properly calculated using the specified relative width, though after the page is loaded the TreeTable's width is fixed and is not recalculated.</P>

<P>The <SPAN class="tag">&lt;o:columnResizing&gt;</SPAN> tag can be added without specifying any attributes, though there are some optional configuration attributes. The <SPAN class="attribute">resizeHandleWidth</SPAN> attribute specifies the size of the &quot;dragging area&quot; near the column header separator. This area can be wider than the separator itself to make it easier for the user to locate the draggable area. The <SPAN class="attribute">minColWidth</SPAN> attribute can be used to specify the minimum width that a column can take after resizing. Both of these attributes can be specified in any CSS units except percent.</P>

<P>Here's an example of adding the column resizing capability to a TreeTable:</P>
<PRE class="code_area">&lt;o:treeTable <SPAN class="code-keyword">var</SPAN>=<SPAN class="code_area_values">&quot;message&quot;</SPAN>
              columnsOrder=<SPAN class="code_area_values">&quot;#{Messages.columnsOrder}&quot;</SPAN>
              width=<SPAN class="code_area_values">&quot;100%&quot;</SPAN>&gt;
  &lt;o:columnResizing resizeHandleWidth=<SPAN class="code_area_values">&quot;10px&quot;</SPAN> minColWidth=<SPAN class="code_area_values">&quot;50px&quot;</SPAN>/&gt;

  &lt;o:dynamicTreeStructure nodeChildren=<SPAN class="code_area_values">&quot;#{Messages.nodeChildren}&quot;</SPAN> /&gt;
  &lt;o:treeColumn id = <SPAN class="code_area_values">&quot;subjectColumn&quot;</SPAN>&gt; ... &lt;/o:treeColumn&gt;
  &lt;o:column id = <SPAN class="code_area_values">&quot;authorColumn&quot;</SPAN>&gt; ... &lt;/o:column&gt;
  ...
&lt;/o:treeTable&gt;</PRE>
<P class="bubble note"><STRONG>Note</STRONG><BR>The TreeTable's <SPAN class="attribute">width</SPAN> attribute must be specified when using the column resizing feature.</P>
<P>There are also two per-column attributes that are applicable only when TreeTable has the column resizing feature. It is possible to make certain column non-resizeable by assigning <SPAN class="code_area_values">&quot;false&quot;</SPAN> to the column's <SPAN class="attribute">resizeable</SPAN> attribute. There is also the possibility to specify the minimum resizing width on a per-column basis. Specifying the column's <SPAN class="attribute">minResizingWidth</SPAN> attribute overrides the default minimum width value defined by the <SPAN class="tag">&lt;o:columnResizing&gt;</SPAN> tag.</P>

<P>Column width changes made by the user can be persisted between different visits of the appropriate page using the <SPAN class="tag">&lt;o:columnResizing&gt;</SPAN> tag's <SPAN class="attribute">resizingState</SPAN> attribute. This attribute can be bound to a backing bean property having the <SPAN class="attribute">org.openfaces.component.table.ColumnResizingState</SPAN> type. This property will be written to save the current column widths when columns are resized, and will be read when the table is rendered next time. The additional <SPAN class="tag">&lt;o:autoSaveState&gt;</SPAN> attribute defines when the resizing state is sent to the server (and thus when the <SPAN class="attribute">resizingState</SPAN> attribute binding is updated). By default it is set to <SPAN class="attribute">true</SPAN>, which means that column widths are saved on-the-fly with Ajax requests after any column is resized. Setting this attribute to <SPAN class="attribute">false</SPAN> will turn off the column width saving Ajax requests and will make the column widths data to be sent to the server along with the nearest form submission (or Ajax TreeTable component submission).</P>

<H2><A name="TreeTable-DisplayingColumnMenus"></A>Displaying Column Menus</H2>

<P>It is possible to add the column menu to allow performing the standard column operations such as sorting, showing and hiding columns, or to provide custom column-specific operations. The column menu feature is turned on by specifying the <SPAN class="attribute">&quot;columnMenu&quot;</SPAN> facet. Specifying this facet makes a drop-down button to appear in the column's header when the user hovers over the header, and pressing this button shows the menu. You can either specify the standard column menu with the <SPAN class="tag">&lt;o:columnMenu&gt;</SPAN> tag in this facet, or a custom menu with the <SPAN class="tag">&lt;o:popupMenu&gt;</SPAN> facet.</P>

<P>It is possible to customize the content and appearance of the standard menu by customizing the <SPAN class="tag">&lt;o:columnMenu&gt;</SPAN> tag's attributes and child tags. Adding any menu item tags inside of the <SPAN class="tag">&lt;o:columnMenu&gt;</SPAN> tag will replace the standard structure with the custom menu item hierarchy. This provides the full flexibility for reordering, restyling or removing the standard items and adding the custom ones. The standard menu items can be specified with the following tags:</P>
<UL class="alternate" type="square">
	<LI><SPAN class="tag">sortAscendingMenuItem</SPAN> tag as the name says allows sorting the column in an ascending order;</LI>
	<LI><SPAN class="tag">sortDescendingMenuItem</SPAN> tag allows sorting the column in an descending order;</LI>
	<LI><SPAN class="tag">hideColumnMenuItem</SPAN> allows hiding the column;</LI>
	<LI><SPAN class="tag">columnVisibilityMenu</SPAN> tag can be embedded into the ordinary <SPAN class="tag">&lt;o:menuItem&gt;</SPAN> tag to display the column visibility customization sub-menu, where all columns are listed with check-boxes against each of them.</LI>
</UL>


<P>Additionally you can place a <SPAN class="tag">&lt;o:menuSeparator&gt;</SPAN> tag to insert separators and a <SPAN class="tag">&lt;o:menuItem&gt;</SPAN> tag to add custom menu items. Similarly, you can avoid displaying the standard menu at all, and specify the <SPAN class="tag">popupMenu</SPAN> tag as the content of the <SPAN class="attribute">&quot;columnMenu&quot;</SPAN> facet for an entirely custom column menu.</P>

<P>Here's a simple example of displaying the customized menu, with two additional &quot;Select Column&quot; and &quot;Unselect Column&quot; menu items:</P>
<PRE class="code_area">&lt;o:treeTable id=<SPAN class="code_area_values">&quot;treeTable&quot;</SPAN> ...&gt;
    ...
    &lt;f:facet name=<SPAN class="code_area_values">&quot;columnMenu&quot;</SPAN>&gt;
      &lt;o:columnMenu indentStyle=<SPAN class="code_area_values">&quot;color: yellow&quot;</SPAN>&gt;
        &lt;o:sortAscendingMenuItem/&gt;
        &lt;o:sortDescendingMenuItem/&gt;
        &lt;o:hideColumnMenuItem/&gt;
        &lt;o:menuSeparator/&gt;
        &lt;o:menuItem value=<SPAN class="code_area_values">&quot;Columns&quot;</SPAN>&gt;
          &lt;o:columnVisibilityMenu/&gt;
        &lt;/o:menuItem&gt;
        &lt;o:menuSeparator/&gt;
        &lt;o:menuItem value=<SPAN class="code_area_values">&quot;Select Column&quot;</SPAN> onclick=<SPAN class="code_area_values">&quot;selectColumn(O$('form:treeTable').getCurrentColumn().index);&quot;</SPAN>/&gt;
        &lt;o:menuItem value=<SPAN class="code_area_values">&quot;Unselect Column&quot;</SPAN> onclick=<SPAN class="code_area_values">&quot;unselectColumn(O$('form:treeTable').getCurrentColumn().index);&quot;</SPAN>/&gt;
      &lt;/o:columnMenu&gt;
    &lt;/f:facet&gt;
    ...
  &lt;/o:treeTable&gt;</PRE>

<P>Note that in order to implement functionality for custom menu items, you can use the <SPAN class="attribute">getCurrentColumn()</SPAN> client-side method to detect the column for which the popup menu is invoked. This function returns the client-side column object where only one field is currently available: <SPAN class="attribute">index</SPAN>. This is a zero-based index of a column in a list of currently rendered columns.</P>

<P>The standard menu and menu item tags can be customized with the same attributes as the usual <SPAN class="tag">popupMenu</SPAN> and <SPAN class="tag">&lt;o:menuItem&gt;</SPAN> tags (except some obvious non-applicable attributes such as <SPAN class="attribute">subMenuImageUrl</SPAN> for <SPAN class="tag">sortAscendingMenuItem</SPAN> since it can't have a sub-menu, etc).</P>

<P>The column visibility sub-menu (displayed as part of the standard menu or specified in a customized menu with the <SPAN class="tag">columnVisibilityMenu</SPAN>) has a two-fold way of detecting the column names for displaying in the menu. First, it checks the optional column's <SPAN class="tag">header</SPAN> attribute (which exists in all column tags), and if this attribute is not defined, then it inspects the content of the <SPAN class="attribute">&quot;header&quot;</SPAN> facet of the appropriate column and takes the value of the first <SPAN class="attribute">UIOutput</SPAN> component found in that facet (such as <SPAN class="tag">&lt;h:outputText&gt;</SPAN>).</P>

<P>The appearance of the drop-down button that appears in the column header and invokes the column's popup menu can be customized with the <SPAN class="attribute">&quot;columnMenuButton&quot;</SPAN> facet. This facet must contain the <SPAN class="tag">&lt;o:captionButton&gt;</SPAN> tag where you can customize all appearance properties for the menu invoker button.</P>

<P>Note that the column visibility changes made with the column menu are reflected into the <SPAN class="attribute">columnsOrder</SPAN> attribute of the <SPAN class="tag">&lt;o:treeTable&gt;</SPAN> tag, so you can bind that attribute to be able to save column visibility between different page visits.</P>

<H2><A name="TreeTable-FetchingDataonTreeTableRendering"></A>Fetching Data on TreeTable Rendering</H2>

<P>When the <CITE>TreeTable</CITE> component is rendered the data is fetched two times from the data source, the same as for the standard <SPAN class="tag">&lt;h:dataTable&gt;</SPAN> component. However, on the post requests, the data is fetched only once for the display-only <CITE>TreeTables</CITE>. The display-only mode means that there is no <CITE>UIInput</CITE>, <CITE>UICommand</CITE> components and the checkbox column and selection features are disabled. If the <CITE>TreeTable</CITE> is not in display-only mode, the data is fetched twice just like in the standard <CITE>DataTable</CITE> component.</P>

<H2><A name="TreeTable-ConcurrentDataModifications"></A>Concurrent Data Modifications</H2>

<P>The <CITE>TreeTable</CITE> component allows you to embed any editable components in its cells, for example <CITE>HTMLInputText</CITE>, <CITE>HTMLSelectManyCheckBox</CITE>, <CITE>HTMLSelectOneListBox</CITE>, etc. However, in this case, a problem with concurrent data modification may arise. For example, while one user is editing some nodes, the other can delete one of these nodes. The <CITE>TreeTable</CITE> component provides a mechanism for resolving this kind of problems. If node data meets the <A href="#TreeTable-ModelNodeObjectsRequirements">node objects requirements</A>, edited data is saved properly, even if the node order has changed.</P>

<H2><A name="TreeTable-HeadersandFooters"></A>Headers and Footers</H2>

<P>The <CITE>TreeTable</CITE> component has the header and footer areas that are displayed as the first and the last rows of the table and span the width of the component. The contents of the areas can be specified with the <SPAN class="attribute">&quot;header&quot;</SPAN> and <SPAN class="attribute">&quot;footer&quot;</SPAN> facets of the <SPAN class="tag">&lt;o:treeTable&gt;</SPAN> tag. The styles for the areas can also be customized (see the section <A href="#TreeTable-SectionStyles">Section Styles</A>).</P>

<P>The <CITE>TreeTable</CITE> component also has two special areas that are located right before and after the table. The contents of these areas can be specified with the <SPAN class="attribute">&quot;above&quot;</SPAN> and <SPAN class="attribute">&quot;below&quot;</SPAN> facets of the <SPAN class="tag">&lt;o:treeTable&gt;</SPAN> tag.</P>

<P>Note that the content of all the facets described above is refreshed after Ajax requests that reload the entire <CITE>TreeTable</CITE> content (as in the case of filtering and sorting updates).</P>
<PRE class="code_area">&lt;o:treeTable <SPAN class="code-keyword">var</SPAN>=<SPAN class="code_area_values">&quot;message&quot;</SPAN> style=<SPAN class="code_area_values">&quot;border:dotted 1px gray&quot;</SPAN>&gt;
...
      &lt;f:facet name=<SPAN class="code_area_values">&quot;above&quot;</SPAN>&gt;
        &lt;h:outputText value=<SPAN class="code_area_values">&quot;'Above' facet goes before the TreeTable&quot;</SPAN>/&gt;
      &lt;/f:facet&gt;
      &lt;f:facet name=<SPAN class="code_area_values">&quot;header&quot;</SPAN>&gt;
        &lt;h:outputText value=<SPAN class="code_area_values">&quot;'Header' facet goes as the first row of the TreeTable&quot;</SPAN>/&gt;
      &lt;/f:facet&gt;
      &lt;f:facet name=<SPAN class="code_area_values">&quot;footer&quot;</SPAN>&gt;
        &lt;h:outputText value=<SPAN class="code_area_values">&quot;'Footer' facet goes as the last row of the TreeTable&quot;</SPAN>/&gt;
      &lt;/f:facet&gt;
      &lt;f:facet name=<SPAN class="code_area_values">&quot;below&quot;</SPAN>&gt;
        &lt;h:outputText value=<SPAN class="code_area_values">&quot;'Below' facet goes after the TreeTable&quot;</SPAN>/&gt;
      &lt;/f:facet&gt;&lt;/o:treeTable&gt;</PRE>
<P>The following figure shows all the facets defined in the previous example:</P>

<P><IMG src="treetable.data/treeTableFacets.gif" align="absmiddle" border="0"></P>

<H2><A name="TreeTable-EmptyDataMessage"></A>Empty Data Message</H2>

<P>If there are no records to display in the cells of the <CITE>TreeTable</CITE> component, a default <SPAN class="code_area_values">&quot;No records&quot;</SPAN> message is displayed. To turn it off, set the <SPAN class="attribute">noDataMessageAllowed</SPAN> attribute to <SPAN class="code_area_values">&quot;false&quot;</SPAN> (by default, it is <SPAN class="code_area_values">&quot;true&quot;</SPAN>). You can specify your own message text by using the <SPAN class="attribute">noDataMessage</SPAN> facet of the <SPAN class="tag">&lt;o:treeTable&gt;</SPAN> tag. To apply styles to the row displaying this message, use the <SPAN class="attribute">noDataRowStyle</SPAN> and <SPAN class="attribute">noDataRowClass</SPAN> attributes of the <SPAN class="tag">&lt;o:treeTable&gt;</SPAN> tag.</P>

<P>If there is data in the data source but no records satisfy the current filtering settings (see the section <A href="#TreeTable-Filtering">Filtering</A> below), then a different message <SPAN class="code_area_values">&quot;No records satisfying the filtering criteria&quot;</SPAN> is displayed. You can change this message text by using the <SPAN class="attribute">noFilterDataMessage</SPAN> facet.</P>

<P>The example below shows a customized message for empty data in the <CITE>TreeTable</CITE> component.</P>
<PRE class="code_area">&lt;o:treeTable <SPAN class="code-keyword">var</SPAN>=<SPAN class="code_area_values">&quot;message&quot;</SPAN>
       noDataRowStyle=<SPAN class="code_area_values">&quot;color:red; font-weight:bold; font-size:20pt&quot;</SPAN>&gt;
  &lt;f:facet name=<SPAN class="code_area_values">&quot;noDataMessage&quot;</SPAN>&gt;
       &lt;h:outputText value=<SPAN class="code_area_values">&quot;There is no data to display&quot;</SPAN>&gt;
  &lt;/f:facet&gt;
...
&lt;/o:treeTable&gt;</PRE>

<H2><A name="TreeTable-ContentScrolling"></A>Content Scrolling</H2>

<P>It is possible to configure the <CITE>TreeTable</CITE> component to scroll its content when all rows (and/or columns) cannot fit within the allotted area. This can be done simply by placing the <SPAN class="tag">&lt;o:scrolling&gt;</SPAN> inside of the <SPAN class="tag">&lt;o:treeTable&gt;</SPAN> tag. Adding this attribute makes the <CITE>TreeTable</CITE> to show the vertical scrollbar allowing the user to scroll through the <CITE>TreeTable</CITE>'s data rows. Header and footer rows remain fixed independent of scrolling.</P>

<P>The <SPAN class="tag">&lt;o:scrolling&gt;</SPAN> tag makes it possible to turn on vertical or horizontal scrolling modes, or allow both scrolling directions at the same time. This can be done using the <SPAN class="attribute">vertical</SPAN> and <SPAN class="attribute">horizontal</SPAN> attributes of the <SPAN class="tag">&lt;o:scrolling&gt;</SPAN> tag, which are equal to <SPAN class="code_area_values">true</SPAN> and <FONT color="">false</FONT> by default respectively. By default, assigning <SPAN class="code_area_values">true</SPAN> to any of these attributes makes the appropriate scroll-bar to be displayed regardless of where all data (rows or columns) entirely fits in the visible area or not. You can set the <SPAN class="attribute">autoScrollbars</SPAN> attribute to <SPAN class="code_area_values">true</SPAN> to show the scrollbars only when there's something to scroll, so that they are automatically hidden when the data entirely fits in the visible area.</P>

<P>It is possible to exclude one or more columns from horizontal scrolling and fix them on the <CITE>TreeTable</CITE>'s left or right side by specifying the <SPAN class="attribute">fixed</SPAN> attribute of the appropriate column(s) or column group(s). Note that only the first (and/or last) column(s) are allowed to be fixed, which means that you can't declare the <SPAN class="attribute">fixed</SPAN> attribute for a column that resides in the middle of column list and is surrounded by non-fixed columns.</P>

<P>The following example outlines the declaration of a <CITE>TreeTable</CITE> with both horizontal and vertical scrolling having its first two columns fixed:</P>
<PRE class="code_area">&lt;o:treeTable ...&gt;
  &lt;o:scrolling horizontal=<SPAN class="code_area_values">&quot;<SPAN class="code-keyword">true</SPAN>&quot;</SPAN>/&gt;
  ...
 
  &lt;o:checkboxColumn fixed=<SPAN class="code_area_values">&quot;<SPAN class="code-keyword">true</SPAN>&quot;</SPAN> .../&gt;
  &lt;o:column fixed=<SPAN class="code_area_values">&quot;<SPAN class="code-keyword">true</SPAN>&quot;</SPAN> .../&gt;
  &lt;o:column .../&gt;
  &lt;o:column .../&gt;
  ...
&lt;/o:treeTable&gt;</PRE>

<P>The current scroll position can be detected and manipulated using the <SPAN class="attribute">position</SPAN> property of the <SPAN class="tag">&lt;o:scrolling&gt;</SPAN> tag. This attribute should be bound to a variable of type <SPAN class="attribute">java.awt.Point</SPAN>.</P>

<H2><A name="TreeTable-Sorting"></A>Sorting</H2>

<P>The <CITE>TreeTable</CITE> component supports column-wise sorting. The user should click the header of any sortable column to sort the data displayed in it. Subsequent clicks on the header changes the sort order from ascending to descending, and vice versa.</P>

<P>Data can be sorted only by &quot;sorting-aware&quot; columns. To make a specific column sortable, you should specify the <SPAN class="attribute">sortingExpression</SPAN> and, optionally, <SPAN class="attribute">sortingComparator</SPAN> attribute for that column. The <SPAN class="attribute">sortingExpression</SPAN> attribute specifies the value that should be used when sorting the rows by that column. It should be declared as a value-binding expression. The <SPAN class="attribute">sortingComparator</SPAN> attribute defines the comparator that is used to compare the values provided by the <SPAN class="attribute">sortingExpression</SPAN> attribute. This attribute should be specified as a value-binding expression and should reference the object that implements the <SPAN class="attribute">java.util.Comparator</SPAN> interface. If the <SPAN class="attribute">sortingComparator</SPAN> attribute is not specified, <SPAN class="attribute">sortingExpression</SPAN> should evaluate to either a primitive type or an object that implements the <SPAN class="attribute">java.lang.Comparable</SPAN> interface, for example <SPAN class="attribute">String</SPAN>. To perform case-insensitive comparison of String values, the <SPAN class="attribute">sortingComparator</SPAN> attribute provides a special <SPAN class="code_area_values">&quot;caseInsensitiveText&quot;</SPAN> value.</P>

<P>The following example shows the <CITE>TreeTable</CITE> component in which messages appear sorted by subject on page load:</P>
<PRE class="code_area">&lt;o:treeTable <SPAN class="code-keyword">var</SPAN>=<SPAN class="code_area_values">&quot;message&quot;</SPAN> sortLevel=<SPAN class="code_area_values">&quot;0&quot;</SPAN>&gt;
  &lt;o:dynamicTreeStructure nodeChildren=<SPAN class="code_area_values">&quot;#{Messages.nodeChildren}&quot;</SPAN> /&gt;
  &lt;o:treeColumn id=<SPAN class="code_area_values">&quot;subjectColumn&quot;</SPAN>
                sortingExpression=<SPAN class="code_area_values">&quot;#{message.subject}&quot;</SPAN>&gt;
    &lt;f:facet name=<SPAN class="code_area_values">&quot;header&quot;</SPAN>&gt;
      &lt;h:outputText value=<SPAN class="code_area_values">&quot;Subject&quot;</SPAN>/&gt;
    &lt;/f:facet&gt;
    &lt;h:outputText value=<SPAN class="code_area_values">&quot;#{message.subject}&quot;</SPAN>/&gt;
  &lt;/o:treeColumn&gt;
  &lt;o:column id=<SPAN class="code_area_values">&quot;authorColumn&quot;</SPAN>&gt;
    &lt;f:facet name=<SPAN class="code_area_values">&quot;header&quot;</SPAN>&gt;
      &lt;h:outputText value=<SPAN class="code_area_values">&quot;From&quot;</SPAN>/&gt;
    &lt;/f:facet&gt;
    &lt;h:outputText value=<SPAN class="code_area_values">&quot;#{message.author.userName}&quot;</SPAN>/&gt;
  &lt;/o:column&gt;
&lt;/o:treeTable&gt;</PRE>
<P><A href="#TreeTable-SpecifyingDynamicColumns">Dynamic columns</A> support sorting as well. Just like ordinary columns, dynamic columns can be made sortable by specifying the <SPAN class="attribute">sortingEnabled</SPAN> attribute in <SPAN class="tag">&lt;o:columns&gt;</SPAN> tag. In this case, all dynamic columns become sortable. Though in some cases it's needed to make only a portion of columns sortable. This can be accomplished by declaring the <SPAN class="attribute">sortingEnabled</SPAN> attribute of the <SPAN class="tag">&lt;o:columns&gt;</SPAN> tag. This attribute can be specified as a value-binding expression that refers to a boolean value indicating whether or not the current dynamic column is sortable based on the column data variable. You can also optionally specify the <SPAN class="attribute">sortingComparator</SPAN> attribute. Note that the purpose and usage of <SPAN class="attribute">sortingEnabled</SPAN> and <SPAN class="attribute">sortingComparator</SPAN> attributes are the same as for the <SPAN class="tag">&lt;o:column&gt;</SPAN> tag, but they must be specified as a value-binding expressions that include a column data variable for specifying different sorting values and different sorting comparators for each column.</P>

<P>Here is an example of using the sorting feature in dynamic columns:</P>
<PRE class="code_area">&lt;o:treeTable <SPAN class="code-keyword">var</SPAN>=<SPAN class="code_area_values">&quot;node&quot;</SPAN>&gt;
  &lt;o:dynamicTreeStructure nodeChildren=<SPAN class="code_area_values">&quot;#{TreeTableBean.nodeChildren}&quot;</SPAN>/&gt;
  &lt;o:treeColumn&gt;
    &lt;f:facet name=<SPAN class="code_area_values">&quot;header&quot;</SPAN>&gt;
        &lt;h:outputText value=<SPAN class="code_area_values">&quot;name&quot;</SPAN>/&gt;
    &lt;/f:facet&gt;
    &lt;h:outputText value=<SPAN class="code_area_values">&quot;#{node.name}&quot;</SPAN>/&gt;
  &lt;/o:treeColumn&gt;
  &lt;o:columns value=<SPAN class="code_area_values">&quot;#{TreeTableBean.dynamicColumns}&quot;</SPAN>
           <SPAN class="code-keyword">var</SPAN>=<SPAN class="code_area_values">&quot;col&quot;</SPAN>
           sortingExpression=<SPAN class="code_area_values">&quot;#{node.dynamicColumns[col]}&quot;</SPAN>&gt;
    &lt;f:facet name=<SPAN class="code_area_values">&quot;header&quot;</SPAN>&gt;
        &lt;h:outputText value=<SPAN class="code_area_values">&quot;#{col}&quot;</SPAN>/&gt;
    &lt;/f:facet&gt;
    &lt;h:inputText value=<SPAN class="code_area_values">&quot;#{node.dynamicColumns[col]}&quot;</SPAN>/&gt;
  &lt;/o:columns&gt;
&lt;/o:treeTable&gt;</PRE>
<P>It is also possible to make the selection and check-box columns sortable. This can be done simply by setting their <SPAN class="attribute">sortable</SPAN> attribute to <SPAN class="code_area_values">&quot;true&quot;</SPAN>. Here's an example:</P>
<PRE class="code_area">&lt;o:treeTable value=<SPAN class="code_area_values">&quot;#{tableBean.tableValue}&quot;</SPAN>
             <SPAN class="code-keyword">var</SPAN>=<SPAN class="code_area_values">&quot;row&quot;</SPAN>&gt;
  &lt;o:multipleNodeSelection/&gt;
  &lt;o:selectionColumn sortable=<SPAN class="code_area_values">&quot;<SPAN class="code-keyword">true</SPAN>&quot;</SPAN>/&gt;
  &lt;o:checkBoxColumn sortable=<SPAN class="code_area_values">&quot;<SPAN class="code-keyword">true</SPAN>&quot;</SPAN>/&gt;
  ...
&lt;/o:treeTable&gt;</PRE>
<P>When the <CITE>TreeTable</CITE> component is loaded for the first time, its data is rendered unsorted. You can specify which column will be sorted on page load and in what order using the <SPAN class="attribute">sortColumnId</SPAN> and <SPAN class="attribute">sortAscending</SPAN> attributes. The <SPAN class="attribute">sortColumnId</SPAN> attribute is a string attribute, where you specify the ID of the column by which to sort the table. The <SPAN class="attribute">sortAscending</SPAN> boolean attribute is used to specify the sort order. When <SPAN class="attribute">sortAscending</SPAN> is <SPAN class="code_area_values">&quot;true&quot;</SPAN>, the table is sorted in ascending order, and vice versa.</P>

<P>Because the <CITE>TreeTable</CITE> component displays hierarchical data, sorting can be performed only across a certain level of the hierarchy, i.e. by comparing the nodes only with their siblings. So sorting in the <CITE>TreeTable</CITE> component is performed among children of each separate node, without mixing with nodes of different parents.</P>

<P>The level at which to perform sorting is specified by the <SPAN class="attribute">sortLevel</SPAN> integer attribute of the <SPAN class="tag">&lt;o:treeTable&gt;</SPAN> tag. The default value is <SPAN class="code_area_values">&#45;1</SPAN>, which means that sorting is applied to all levels of the hierarchy in the <CITE>TreeTable</CITE> component. When set to <SPAN class="code_area_values">&quot;0&quot;</SPAN> (top-most level) or greater, sorting is restricted to only one specified level. For example, a value <SPAN class="code_area_values">&quot;0&quot;</SPAN> means that only the nodes at the top-most level are sorted against each other, while all their children remain unsorted. A value <SPAN class="code_area_values">&quot;1&quot;</SPAN> means that only the nodes of the level next to the top-most one are sorted, while all other levels are not affected.</P>

<P>The image that displays the sort direction is customizable. To change it, use the <SPAN class="attribute">sortedAscendingImageUrl</SPAN> and <SPAN class="attribute">sortedDescendingImageUrl</SPAN> attributes. Note that in order to have the column header text and sort image correctly aligned, the sort image should be approximately of the same height as characters in the header.</P>

<H3><A name="TreeTable-SortingRelatedStyles"></A>Sorting-Related Styles</H3>

<P>It is possible to highlight headers of sortable columns using the following styling attributes:</P>
<TABLE class="Table"><TBODY>
<TR>
<TH scope="col"> Description </TH>
<TH scope="col"> Style attributes </TH>
<TH scope="col"> Class attributes </TH>
</TR>
<TR>
<TD> Sortable column header </TD>
<TD> <SPAN class="attribute">sortableHeaderStyle</SPAN> </TD>
<TD> <SPAN class="attribute">sortableHeaderClass</SPAN> </TD>
</TR>
<TR>
<TD> Rollover style for sortable column header </TD>
<TD> <SPAN class="attribute">sortableHeaderRolloverStyle</SPAN> </TD>
<TD> <SPAN class="attribute">sortableHeaderRolloverClass</SPAN> </TD>
</TR>
</TBODY></TABLE>
<P>The styles different parts of a sorted column can be customized using the following attributes:</P>
<TABLE class="Table"><TBODY>
<TR>
<TH scope="col"> Parts of a sorted column </TH>
<TH scope="col"> Style attributes </TH>
<TH scope="col"> Class attributes </TH>
</TR>
<TR>
<TD> Entire column </TD>
<TD> <SPAN class="attribute">sortedColumnStyle</SPAN> </TD>
<TD> <SPAN class="attribute">sortedColumnClass</SPAN> </TD>
</TR>
<TR>
<TD> Column header </TD>
<TD> <SPAN class="attribute">sortedColumnHeaderStyle</SPAN> </TD>
<TD> <SPAN class="attribute">sortedColumnHeaderClass</SPAN> </TD>
</TR>
<TR>
<TD> Column body </TD>
<TD> <SPAN class="attribute">sortedColumnBodyStyle</SPAN> </TD>
<TD> <SPAN class="attribute">sortedColumnBodyClass</SPAN> </TD>
</TR>
<TR>
<TD> Column footer </TD>
<TD> <SPAN class="attribute">sortedColumnFooterStyle</SPAN> </TD>
<TD> <SPAN class="attribute">sortedColumnFooterClass</SPAN> </TD>
</TR>
</TBODY></TABLE>

<H2><A name="TreeTable-Filtering"></A>Filtering</H2>

<H2><A name="TreeTable-Filtering"></A>Filtering</H2>

<P>The <CITE>TreeTable</CITE> component provides a powerful mechanism for interactive data filtering to make it easier for the users to browse data sets of any size and complexity. It is possible to:</P>
<UL class="alternate" type="square">
	<LI>define column data filters,</LI>
	<LI>define filters that search data on a complex expression rather than a single-column expression,</LI>
	<LI>use different types of filter components,</LI>
	<LI>place filter components inside of the table or anywhere on the page,</LI>
	<LI>customize all aspects of filtering behavior including search condition, case sensitivity, etc.,</LI>
	<LI>customize all aspects of filters' visual appearance,</LI>
	<LI>use the composite filter builder (the <CITE><A href="/display/JSFC/CompositeFilter" title="CompositeFilter">CompositeFilter</A></CITE> component) as a universal filter component to allow the user build complex filter criteria interactively.</LI>
	<LI>eaily add support for handling large data sets while utilizing all kinds of filters attached to the table.</LI>
</UL>


<H3><A name="TreeTable-BasicUsage"></A>Basic Usage</H3>

<P>Even though it has a lot of features and customization possibilities, filtering is quite easy to incroporate into a table. The filtering functionality is<BR>
defined using the filter tags, which when attached to a table, add a filtering interface and behavior according to the tag's customization. There are the following filter tags:</P>
<UL class="alternate" type="square">
	<LI><SPAN class="tag">&lt;o:inputTextFilter&gt;</SPAN> &ndash; displays a text field that filters the data according to the expression specified in the filter.</LI>
	<LI><SPAN class="tag">&lt;o:dropDownFieldFilter&gt;</SPAN> &ndash; displays a drop-down field that filters the data according to the expression specified in the filter. The drop-down list contains all values that present in a table for the filter's expression or a custom list, so the user can type a value manually or select one from the list.</LI>
	<LI><SPAN class="tag">&lt;o:comboBoxFilter&gt;</SPAN> &ndash; displays a combobox that filters the data according to the expression specified in the filter. The combobox contains all values that present in a table for the filter's expression, or a custom list.</LI>
	<LI><SPAN class="tag">&lt;o:compositeFilter&gt;</SPAN> &ndash; displays a filter builder component where the user can compose a set of criteria based on table's columns. See the <A href="#TreeTable-UsingCompositeFilter">Using Composite Filter</A> section below and the <CITE><A href="/display/JSFC/CompositeFilter" title="CompositeFilter">CompositeFilter</A></CITE> component documentation.</LI>
</UL>


<P>These filters can be added in two ways:</P>
<UL class="alternate" type="square">
	<LI>Declared anywhere on a page and bound to the table using the filter's <SPAN class="attribute">for</SPAN> attribute, which is used in the same way as the <SPAN class="attribute">for</SPAN> attribute for the standard <SPAN class="tag">&lt;h:outputLabel&gt;</SPAN> and <SPAN class="tag">&lt;h:message&gt;</SPAN> components.</LI>
	<LI>Placed into a <SPAN class="attribute">&quot;subHeader&quot;</SPAN> (or other) facet of a table's column, which will automatically bind the filter to a containing table without using the <SPAN class="attribute">for</SPAN> attribute (not applicable for <SPAN class="tag">&lt;o:compositeFilter&gt;</SPAN>).</LI>
</UL>


<P>Here's a simple example of specifying both an out-of-table filter and column filters:</P>
<PRE class="code_area">&lt;o:inputTextFilter <SPAN class="code-keyword">for</SPAN>=<SPAN class="code_area_values">&quot;employeesTable&quot;</SPAN> expression=<SPAN class="code_area_values">&quot;#{employee.firstName} #{employee.lastName}&quot;</SPAN>/&gt;
...
&lt;o:treeTable id=<SPAN class="code_area_values">&quot;tasksTree&quot;</SPAN> <SPAN class="code-keyword">var</SPAN>=<SPAN class="code_area_values">&quot;task&quot;</SPAN> ...&gt;
  &lt;o:dynamicTreeStructure .../&gt;
  &lt;o:treeColumn ...&gt;
    &lt;f:facet name=<SPAN class="code_area_values">&quot;subHeader&quot;</SPAN>&gt;
      &lt;o:dropDownFieldFilter/&gt;
    &lt;/f:facet&gt;
    &lt;h:outputText value=<SPAN class="code_area_values">&quot;#{task.owner}&quot;</SPAN>/&gt;
  &lt;/o:treeColumn&gt;
  &lt;o:column ...&gt;
    &lt;f:facet name=<SPAN class="code_area_values">&quot;subHeader&quot;</SPAN>&gt;
      &lt;o:comboBoxFilter/&gt;
    &lt;/f:facet&gt;
    &lt;h:outputText value=<SPAN class="code_area_values">&quot;#{task.priority}&quot;</SPAN>/&gt;
  &lt;/o:column&gt;
  ...
&lt;/o:treeTable&gt;</PRE>

<P>The <SPAN class="attribute">expression</SPAN> attribute defines a value that will be searched for (or filtered) with this filter. As you can see in the example above this attribute can be omitted when filter tag is declared inside of column. In this case the filter will automatically detect the expression from the first output component (<SPAN class="attribute">UIOutput</SPAN> descendant) displayed by the column. Though you can specify the <SPAN class="attribute">expression</SPAN> attribute explicitly if it should differ from the autodetected one, or if there's no output component in a column.</P>

<H3><A name="TreeTable-UsingCompositeFilter"></A>Using Composite Filter</H3>

<P>As opposed to the simple one-field filters like those defined with <SPAN class="tag">&lt;o:inputTextFilter&gt;</SPAN>, <SPAN class="tag">&lt;o:dropDownFieldFilter&gt;</SPAN>, and <SPAN class="tag">&lt;o:comboBoxFilter&gt;</SPAN> tags, the composite filter (defined with <SPAN class="tag">&lt;o:compositeFilter&gt;</SPAN> tag) is a complex type of filter where the user interactively builds search criteria for searching across one or more columns. </P>

<P>Just like the simple filters, composite filter can be placed anywhere on a page and bound to a table with the <SPAN class="attribute">for</SPAN> attribute, as demonstrated in this example:</P>
<PRE class="code_area">&lt;o:compositeFilter <SPAN class="code-keyword">for</SPAN>=<SPAN class="code_area_values">&quot;employeesTable&quot;</SPAN>/&gt;
...
&lt;o:treeTable id=<SPAN class="code_area_values">&quot;employeesTable&quot;</SPAN> <SPAN class="code-keyword">var</SPAN>=<SPAN class="code_area_values">&quot;employee&quot;</SPAN> ...&gt;
  &lt;o:dynamicTreeStructure .../&gt;
  &lt;o:treeColumn ...&gt;
    &lt;h:outputText value=<SPAN class="code_area_values">&quot;#{task.owner}&quot;</SPAN>/&gt;
  &lt;/o:treeColumn&gt;
  &lt;o:column ...&gt;
    &lt;h:outputText value=<SPAN class="code_area_values">&quot;#{employee.priority}&quot;</SPAN>/&gt;
  &lt;/o:column&gt;
  ...
&lt;/o:treeTable&gt;</PRE>

<P>This simple declaration attaches the composite filter to a table and makes it autodetect the set of columns, with their types and names from the attached table. Though you can turn off the autodetection functionality and specify the column data for this filter explicitly if the list of columns in this filter should be different than the autodetected one. See <CITE>CompositeFilter</CITE> documentation for details.</P>

<P>A composite filter doesn't conflict with the other filters attached to the same table, so you can for example optionally declare column filters as well, and the table will display the data that takes into account all of the attached filters.</P>

<P>The <CITE>CompositeFilter</CITE> component can also be used as a standalone filter where the user-composed filter criteria can be used by the application code without explicit attachment to a table. Please read the full information about using the composite filter on the <A href="/display/JSFC/CompositeFilter" title="CompositeFilter"><CITE>CompositeFilter</CITE> documentation</A> page, and the sections below cover the details of using the simple filters.</P>

<H3><A name="TreeTable-CustomizingFilteringOptions"></A>Customizing Filtering Options</H3>

<P>The <SPAN class="tag">&lt;o:inputTextFilter&gt;</SPAN>, <SPAN class="tag">&lt;o:dropDownFieldFilter&gt;</SPAN>, and <SPAN class="tag">&lt;o:comboBoxFilter&gt;</SPAN> filters can filter any type of data (through the <SPAN class="attribute">expression</SPAN> attribute or the autodetected column expression). The converter for this type of data is detected by the filter automatically from the parent column or filter expression type (when expression is specified explicitly). It is also possible to specify the converter explicitly with the <SPAN class="attribute">converter</SPAN> attribute or adding a a converter as a filter's child tag.</P>

<P>By default, the search is performed by substring if a filter is bound to a string type and by exact match for any other type of data. The exception is the <SPAN class="tag">&lt;o:comboBoxFilter&gt;</SPAN> filter which searches by exact match for all types of data by default. The default filtering condition can be changed using the <SPAN class="attribute">condition</SPAN> attribute, which can take the following values:</P>
<UL class="alternate" type="square">
	<LI><SPAN class="code_area_values">&quot;equals&quot;</SPAN></LI>
	<LI><SPAN class="code_area_values">&quot;contains&quot;</SPAN> (applicable for only for <SPAN class="attribute">String</SPAN> fields)</LI>
	<LI><SPAN class="code_area_values">&quot;beginsWith&quot;</SPAN> (applicable for only for <SPAN class="attribute">String</SPAN> fields)</LI>
	<LI><SPAN class="code_area_values">&quot;endsWith&quot;</SPAN> (applicable for only for <SPAN class="attribute">String</SPAN> fields)</LI>
	<LI><SPAN class="code_area_values">&quot;less&quot;</SPAN></LI>
	<LI><SPAN class="code_area_values">&quot;greater&quot;</SPAN></LI>
	<LI><SPAN class="code_area_values">&quot;lessOrEqual&quot;</SPAN></LI>
	<LI><SPAN class="code_area_values">&quot;greaterOrEqual&quot;</SPAN></LI>
</UL>


<P>It is also possible to invert the condition by prepending one of these values with <SPAN class="code_area_values">not</SPAN> keyword. Here are examples:</P>
<PRE class="code_area">&lt;o:inputTextFilter condition=<SPAN class="code_area_values">&quot;less&quot;</SPAN> expression=<SPAN class="code_area_values">&quot;#{product.price}&quot;</SPAN> .../&gt;
...
&lt;o:dropDownFieldFilter condition=<SPAN class="code_area_values">&quot;not contains&quot;</SPAN> expression=<SPAN class="code_area_values">&quot;#{product.features}&quot;</SPAN> .../&gt;</PRE>

<P>By default, the string values are compared in a case-insensitive way and this can be changed by specifying the <SPAN class="attribute">caseSensitive</SPAN> attribute with a value of <SPAN class="code_area_values">true</SPAN>.</P>

<P>The current filter value specified in the filter is reflected in the filter's <SPAN class="attribute">value</SPAN> attribute, so you can bind this attribute to a backing bean if you'd like some default filtering values to be present when the page is shown, or to be able to save the user-specified values to a backing bean for processing or saving among page visits. The <SPAN class="attribute">value</SPAN> attribute should be bound to a variable of type <SPAN class="attribute"><A href="../apiReference/org/openfaces/component/filter/ExpressionFilterCriterion.html" rel="nofollow">ExpressionFilterCriterion</A></SPAN>. An instance of this class holds the user-specified value in its <SPAN class="attribute">arg1</SPAN> property.</P>

<P>As mentioned above, <SPAN class="tag">&lt;o:dropDownFieldFilter&gt;</SPAN> and <SPAN class="tag">&lt;o:comboBoxFilter&gt;</SPAN> display a list of all values present in table records for the filter's expression. Though the automatically composed list can be replaced with the custom one using the <SPAN class="attribute">options</SPAN> attribute that should return a collection of items of the same item type as values returned by the filter expression.</P>

<H3><A name="TreeTable-CustomizingFilteringBehavior"></A>Customizing Filtering Behavior</H3>

<P>The <SPAN class="tag">&lt;o:dropDownFieldFilter&gt;</SPAN> tag has the autosuggestion and autocompletion features turned on by default. Autosuggestion means automatically opening the drop-down list when the user starts typing, and filtering the options list based on the input. This behavior can be customized with the <SPAN class="attribute">suggestionMode</SPAN> attribute, which accepts one of the following values:</P>
<UL class="alternate" type="square">
	<LI><SPAN class="code_area_values">&quot;all&quot;</SPAN> &ndash; the entire list of options will be shown regardless of input.</LI>
	<LI><SPAN class="code_area_values">&quot;stringStart&quot;</SPAN> &ndash; only the items starting with the typed text will be shown.</LI>
	<LI><SPAN class="code_area_values">&quot;substring&quot;</SPAN> &ndash; only the items containing the typed text will be shown.</LI>
	<LI><SPAN class="code_area_values">&quot;stringEnd&quot;</SPAN> &ndash; only the items ending with the typed text will be shown.</LI>
	<LI><SPAN class="code_area_values">&quot;none&quot;</SPAN> &ndash; no autosuggestion behavior takes place, which means that drop-down will not be automatically opened when the user starts typing in the filter field.<BR>
The delay and minimal set of typed characters when the drop-down is autoopened can be customized with the <SPAN class="attribute">suggestionDelay</SPAN> and <SPAN class="attribute">suggestionMinChars</SPAN> attributes.<BR>
Autocompletion is another related feature that completes the partially-specified value right in the field, and this behavior can be turned off by assigning <SPAN class="code_area_values">false</SPAN> to the <SPAN class="attribute">autoComplete</SPAN> attribute.</LI>
</UL>


<P>It is possible to restrict entering values in <SPAN class="tag">&lt;o:dropdownFieldFilter&gt;</SPAN> to a list of its options, which means that it won't be possible to enter a value that doesn't exist in its drop-down list, which makes the drop-down filter like combobox filter in functionality but with a different way of entering a value and different look. This can be turned on by specifying the <SPAN class="attribute">customValueAllowed</SPAN> attribute with a value of <SPAN class="code_area_values">false</SPAN>.</P>

<P>By default, the <SPAN class="tag">&lt;o:inputTextFilter&gt;</SPAN> and <SPAN class="tag">&lt;o:dropDownFilter&gt;</SPAN> filters have the autofiltering functionality turned on, which means that the table is automatically filtered as the user types the text in the field. The filtering is performed each time when the user stops typing in the field for a while. This autofiltering period can be changed with the <SPAN class="attribute">autoFilterDelay</SPAN> attribute which should be specified as a milliseconds number. The autofiltering functionality can be turned off by specifying the <SPAN class="attribute">autoFilterDelay</SPAN> attribute with a value of <SPAN class="code_area_values">-1</SPAN>, which means that filtering will be performed when the user presses the Enter key or leaves the filtering field.</P>

<P>The <SPAN class="tag">&lt;o:inputTextFilter&gt;</SPAN> and <SPAN class="tag">&lt;o:dropDownFieldFilter&gt;</SPAN> filters can also be customized to have a limit on the number of typed characters with the <SPAN class="attribute">maxlength</SPAN> attribute. By default it has a value of <SPAN class="attribute">Integer.MIN_VALUE</SPAN> which means that there's no limit on the length of typed text.</P>

<H3><A name="TreeTable-CustomizingFilter%27sAppearance"></A>Customizing Filter's Appearance</H3>

<P>The drop-down and combobox filters display the following provide the following items for specifying special filtering conditions in addition to the filter value items:<BR>
In addition to the unique column values, the <SPAN class="code_area_values">&quot;comboBox&quot;</SPAN> and <SPAN class="code_area_values">&quot;dropDownField&quot;</SPAN> filter components provide three predefined filter values:</P>
<UL>
	<LI><SPAN class="code_area_values">&quot;&lt;All&gt;</SPAN> &#45; displays all records, i.e. data is not filtered.</LI>
	<LI><SPAN class="code_area_values">&quot;&lt;Empty&gt;</SPAN> &#45; displays only the records with empty values (only for combobox filters).</LI>
	<LI><SPAN class="code_area_values">&quot;&lt;Non-empty&gt;</SPAN> &#45; displays all records with non-empty values (only for combobox filters).</LI>
</UL>


<P>The text for these items can be customized with the <SPAN class="attribute">allRecordsText</SPAN>, <SPAN class="attribute">emptyRecordsText</SPAN>, and <SPAN class="attribute">nonEmptyRecordsText</SPAN> attributes respectively, and the style for these items can be customized with the <SPAN class="attribute">predefinedCriterionStyle</SPAN>/<SPAN class="attribute">predefinedCriterionClass</SPAN> attributes.</P>

<P>When using <SPAN class="tag">&lt;o:inputTextFilter&gt;</SPAN> and <SPAN class="tag">&lt;o:dropDownFieldFilter&gt;</SPAN>, you can specify the prompt text with the <SPAN class="attribute">promptText</SPAN> attribute. The prompt text is a label or short instruction placed inside the filter field. The specified text will be shown to the user while the field is empty and disappear once it gets input focus. The style of prompt text can be customized with the the <SPAN class="attribute">promptTextStyle</SPAN> and <SPAN class="attribute">promptTextClass</SPAN> attributes.</P>

<P>All of the <SPAN class="tag">&lt;o:inputTextFilter&gt;</SPAN>, <SPAN class="tag">&lt;o:dropDownFieldFilter&gt;</SPAN>, and <SPAN class="tag">&lt;o:comboBoxFilter&gt;</SPAN> tags have the following common attributes:</P>
<TABLE class="Table"><TBODY>
<TR>
<TH scope="col"> Attribute </TH>
<TH scope="col"> Description </TH>
</TR>
<TR>
<TD> <SPAN class="attribute">style</SPAN>/<SPAN class="attribute">styleClass</SPAN> </TD>
<TD> A style for the filter component. </TD>
</TR>
<TR>
<TD> <SPAN class="attribute">rolloverStyle</SPAN>/<SPAN class="attribute">rolloverClass</SPAN> </TD>
<TD> A style for the filter component in rollover state (except <SPAN class="tag">&lt;o:comboBoxFilter&gt;</SPAN>). </TD>
</TR>
<TR>
<TD> <SPAN class="attribute">focusedStyle</SPAN>/<SPAN class="attribute">focusedClass</SPAN> </TD>
<TD> A style for the filter component in rollover state (except <SPAN class="tag">&lt;o:comboBoxFilter&gt;</SPAN>). </TD>
</TR>
<TR>
<TD> <SPAN class="attribute">tabindex</SPAN>, <SPAN class="attribute">accesskey</SPAN>, <SPAN class="attribute">title</SPAN>, <SPAN class="attribute">dir</SPAN>,<BR>
<SPAN class="attribute">lang</SPAN> </TD>
<TD> The standard attributes for input tags. </TD>
</TR>
</TBODY></TABLE>

<P>There are also many drop-down field specific attributes in the <SPAN class="tag">&lt;o:dropDownFieldFilter&gt;</SPAN> tag. These are attributes such as <SPAN class="attribute">buttonAlignment</SPAN>, <SPAN class="attribute">listAlignment</SPAN>, <SPAN class="attribute">listStyle</SPAN>, <SPAN class="attribute">listItemStyle</SPAN>, etc. They have the same meaning as their counterparts in the <SPAN class="attribute">&lt;o:dropDownField&gt;</SPAN> tag. Please see the <A href="/display/JSFC/DropDownField#DropDownField-CustomizingAppearance">DropDownField</A> documentation for the description of these attributes.</P>

<H3><A name="TreeTable-FilteringRelatedStyles"></A>Filtering-Related Styles</H3>

<P>You can apply a style to the sub-header row using the <SPAN class="attribute">subHeaderRowStyle</SPAN> and <SPAN class="attribute">subHeaderRowClass</SPAN> attributes. The <SPAN class="attribute">subHeaderRowSeparator</SPAN> attribute lets you can create a style for a line that separates the sub-header row and the column header.</P>
<P class="bubble note"><STRONG>Note</STRONG><BR>You should specify the <SPAN class="attribute">subHeaderRowSeparator</SPAN> attribute in the same way as the CSS border property but without the prefix <SPAN class="code_area_values">&quot;border:&quot;</SPAN>. For example, <SPAN class="attribute">subHeaderRowSeparator=&quot;1px dotted black&quot;</SPAN> .</P>
<P>Because the <CITE>TreeTable</CITE> component displays hierarchical data, the way it shows filtered nodes is different from how filtered rows are displayed in the <CITE>DataTable</CITE>. While the <CITE>DataTable</CITE> component displays only the rows that match filter criteria, the <CITE>TreeTable</CITE> component may display rows for the nodes that are not accepted by filter criteria. This happens when the <CITE>TreeTable</CITE> component needs to display a node at some deep level of the hierarchy which <EM>is</EM> accepted by filter criteria, whereas its parent nodes <EM>are not</EM>. In this case, all parent nodes of the accepted nodes are also displayed for the sake of keeping visible that part of the hierarchy that leads to the accepted node. By default, these &quot;auxiliary&quot; nodes are grayed out to distinguish them from filtered nodes.</P>

<P>You can customize the appearance of nodes that satisfy filter criteria by using the <SPAN class="attribute">filterAcceptedRowStyle</SPAN> and <SPAN class="attribute">filterAcceptedRowClass</SPAN> attributes. To define a style for the nodes that don't meet filter criteria but are needed to keep the hierarchy visible, use the <SPAN class="attribute">filterSubsidiaryRowStyle</SPAN> and <SPAN class="attribute">filterSubsidiaryRowClass</SPAN> attributes.</P>

<H2><A name="TreeTable-NodeSelection"></A>Node Selection</H2>

<P>The selection feature lets the user select one or more nodes in the <CITE>TreeTable</CITE> component. Selection in the <CITE>TreeTable</CITE> is similar in usage to that in the <CITE>DataTable</CITE> component. The difference, however, is <EM>how</EM> single and multiple selection modes are configured in the <CITE>TreeTable</CITE> component (see the sections below). To learn more about the selection feature, please refer to the <A href="datatable.html#DataTable-RowSelection">appropriate section</A> in the <CITE>DataTable</CITE> documentation.</P>

<H3><A name="TreeTable-SingleSelectionMode"></A>Single Selection Mode</H3>

<P>To provide single node selection for the <CITE>TreeTable</CITE> component, use a child <SPAN class="tag">&lt;o:singleNodeSelection&gt;</SPAN> tag. To detect which node is currently selected or to change selection, the <SPAN class="tag">&lt;o:singleNodeSelection&gt;</SPAN> tag provides two value-binding attributes that can be bound to a backing bean:</P>
<UL class="alternate" type="square">
	<LI><SPAN class="attribute">nodeData</SPAN> &#45; Defines the node data object for a currently selected node. A value of <SPAN class="code_area_values">null</SPAN> means no node is currently selected. Note that if you want to change selection from the backing bean, the node data object provided by the <SPAN class="attribute">nodeData</SPAN> attribute should be serializable and correctly implement the <SPAN class="attribute">equals</SPAN> and <SPAN class="attribute">hashCode</SPAN> methods.</LI>
	<LI><SPAN class="attribute">nodePath</SPAN> &#45; Defines the full path of a currently selected node. A value of <SPAN class="code_area_values">null</SPAN> means no node is currently selected. This attribute should be bound to a property of the <SPAN class="attribute">org.openfaces.component.table.TreePath</SPAN> type. Instances of the <SPAN class="attribute">TreePath</SPAN> class are used to reference a node in the tree structure by its node value and node values of all its parent nodes.</LI>
</UL>


<P>If both attributes are specified, but refer to different nodes, the <SPAN class="attribute">nodePath</SPAN> attribute takes precedence.</P>

<P>You can specify whether selection can be made with the mouse or keyboard (or both) by setting the <SPAN class="attribute">mouseSupport</SPAN> or <SPAN class="attribute">keyboardSupport</SPAN> attributes of the <SPAN class="tag">&lt;o:singleNodeSelection&gt;</SPAN> tag. Both attributes are <SPAN class="code_area_values">&quot;true&quot;</SPAN> by default.</P>

<P>If you don't what to let the user change the selection, set the <SPAN class="attribute">enabled</SPAN> attribute of the <SPAN class="tag">&lt;o:singleNodeSelection&gt;</SPAN> tag to <SPAN class="code_area_values">&quot;false&quot;</SPAN> (by default, it is <SPAN class="code_area_values">&quot;true&quot;</SPAN>).</P>

<P>The following example shows configuration of single node selection with disabled keyboard support.</P>
<PRE class="code_area">&lt;o:treeTable <SPAN class="code-keyword">var</SPAN>=<SPAN class="code_area_values">&quot;message&quot;</SPAN>&gt;
  &lt;o:singleNodeSelection
          nodeData=<SPAN class="code_area_values">&quot;#{Messages.selectedNodeData}&quot;</SPAN>
          keyboardSupport=<SPAN class="code_area_values">&quot;<SPAN class="code-keyword">false</SPAN>&quot;</SPAN>/&gt;
  &lt;o:dynamicTreeStructure
          nodeChildren=<SPAN class="code_area_values">&quot;#{Messages.nodeChildren}&quot;</SPAN> /&gt;
  &lt;o:treeColumn&gt;
    &lt;f:facet name=<SPAN class="code_area_values">&quot;header&quot;</SPAN>&gt;
      &lt;h:outputText value=<SPAN class="code_area_values">&quot;Subject&quot;</SPAN>/&gt;
    &lt;/f:facet&gt;
    &lt;h:outputText value=<SPAN class="code_area_values">&quot;#{message.subject}&quot;</SPAN>/&gt;
  &lt;/o:treeColumn&gt;
&lt;/o:treeTable&gt;</PRE>
<P>Note that when the user changes selection, a newly selected node is highlighted on the client side without any interaction with the server. So the properties bound to the <SPAN class="attribute">nodeData</SPAN> and <SPAN class="attribute">nodePath</SPAN> attributes are updated only when the form with the <CITE>TreeTable</CITE> component is submitted to the server. However, it is possible to execute a client action right on selection change. You can do it in two ways:</P>
<UL class="alternate" type="square">
	<LI>Using the <SPAN class="attribute">onchange</SPAN> attribute of the <SPAN class="tag">&lt;o:singleNodeSelection&gt;</SPAN> tag. This is a client-side event attribute in which you should specify JavaScript code that should be executed every time the user changes selection.</LI>
	<LI>Using the <SPAN class="attribute">action</SPAN> attribute of the <SPAN class="tag">&lt;o:singleNodeSelection&gt;</SPAN> tag. The use of this attribute is similar to the <SPAN class="attribute">action</SPAN> attribute of the <CITE>HTMLCommandButton</CITE> component. This attribute can either specify a string defining the static outcome of the selection change action, or it can be defined as a method-binding expression, so that you can execute any Java code on the server when the user changes selection. In any case, the <SPAN class="attribute">action</SPAN> attribute causes the form submission on selection change.</LI>
	<LI>You can also turn on the Ajax mode where the Ajax request will be automatically executed when the user changes selection. This can be done using the <SPAN class="attribute">render</SPAN> attribute where you can specify the list of components that should be reloaded with Ajax when the selection is changed. This functionality is convenient for use cases when you need to update some components that depend on the currently selected item. The usage of the <SPAN class="attribute">render</SPAN> attribute is the same as that for the <SPAN class="tag">&lt;o:commandButton&gt;</SPAN> tag. Note that when the <SPAN class="attribute">render</SPAN> attribute is specified, the <CITE>TreeTable</CITE> and all its data including selection is submitted to the server for processing. If the <SPAN class="attribute">action</SPAN> attribute is specified, the appropriate server-side action will also be executed during the Ajax request. By default, no components outside of the <CITE>TreeTable</CITE> are submitted and thus only <CITE>TreeTable</CITE> parameters themselves are available on the server during the Ajax request, though you can include additional components into the list of submitted components using the <SPAN class="attribute">execute</SPAN> attribute. See the details on using the <SPAN class="attribute">render</SPAN> and <SPAN class="attribute">execute</SPAN> attributes in the <A href="/display/JSFC/CommandButton" title="CommandButton">CommandButton</A> documentation.</LI>
</UL>


<P>You can apply a style to a selected row by using the <SPAN class="attribute">style</SPAN> and <SPAN class="attribute">styleClass</SPAN> attributes of the <SPAN class="tag">&lt;o:singleNodeSelection&gt;</SPAN> tag.</P>

<H3><A name="TreeTable-MultipleSelectionMode"></A>Multiple Selection Mode</H3>

<P>To provide multiple selection for the <CITE>TreeTable</CITE> component, use a child <SPAN class="tag">&lt;o:multipleNodeSelection&gt;</SPAN> tag. The only difference between specifying single and multiple node selection is that the <SPAN class="tag">&lt;o:multipleNodeSelection&gt;</SPAN> tag has the <SPAN class="attribute">nodeDatas</SPAN> and <SPAN class="attribute">nodePaths</SPAN> attributes instead of the <SPAN class="attribute">nodeData</SPAN> and <SPAN class="attribute">nodePath</SPAN> attributes. These attributes must be specified as value-binding expressions that reference a list, set or array of node data objects and <SPAN class="attribute">org.openfaces.component.table.TreePath</SPAN> instances, respectively. Empty lists mean an empty selection. Note that if you want to change selection from the backing bean, the node data objects provided by the <SPAN class="attribute">nodeDatas</SPAN> attribute should be serializable and correctly implement the <SPAN class="attribute">equals</SPAN> and <SPAN class="attribute">hashCode</SPAN> methods.</P>

<P>All other features, including selection change notifications and styles, are configured in the same way as for single node selection.</P>

<P>The following example shows the <CITE>TreeTable</CITE> component in multiple node selection mode.</P>
<PRE class="code_area">&lt;o:treeTable <SPAN class="code-keyword">var</SPAN>=<SPAN class="code_area_values">&quot;message&quot;</SPAN>&gt;
  &lt;o:multipleNodeSelection
          nodeDatas=<SPAN class="code_area_values">&quot;#{Messages.selectedNodeDatas}&quot;</SPAN> /&gt;
  &lt;o:dynamicTreeStructure
          nodeChildren=<SPAN class="code_area_values">&quot;#{Messages.nodeChildren}&quot;</SPAN> /&gt;
  &lt;o:treeColumn&gt;
    &lt;f:facet name=<SPAN class="code_area_values">&quot;header&quot;</SPAN>&gt;
      &lt;h:outputText value=<SPAN class="code_area_values">&quot;Subject&quot;</SPAN>/&gt;
    &lt;/f:facet&gt;
    &lt;h:outputText value=<SPAN class="code_area_values">&quot;#{message.subject}&quot;</SPAN>/&gt;
  &lt;/o:treeColumn&gt;
&lt;/o:treeTable&gt;</PRE>

<H2><A name="TreeTable-UsingaCheckboxColumn"></A>Using a Checkbox Column</H2>

<P>The <CITE>TreeTable</CITE> component provides a &quot;checkbox column&quot;, which is a special visual component that is rendered as a column of check boxes and whose values are not stored in the node data object. You can use it as an alternative of or in addition to multiple selection or when you need to implement complicated selection models.</P>

<P>To add a checkbox column to the <CITE>TreeTable</CITE> component, use the <SPAN class="tag">&lt;o:checkboxColumn&gt;</SPAN> tag. It has two attributes, <SPAN class="attribute">rowDatas</SPAN> and <SPAN class="attribute">nodePaths</SPAN> which should be defined as value-binding expressions that reference a list of node data objects and <SPAN class="attribute">org.openfaces.component.table.TreePath</SPAN> instances, respectively. Please note that the <SPAN class="attribute">rowIndexes</SPAN> attribute is only applicable for the <CITE>DataTable</CITE> component. These attributes are mutually exclusive and you will normally use just one of them, which suits application logic more closely. In addition, you can add a child <SPAN class="tag">&lt;o:selectAllCheckbox&gt;</SPAN> tag to the <SPAN class="attribute">&quot;header&quot;</SPAN> or <SPAN class="attribute">&quot;footer&quot;</SPAN> facets (or both) of the <SPAN class="tag">&lt;o:checkboxColumn&gt;</SPAN> (this tag can also be used in the Selection Column component).</P>

<P>Note that the checkbox column imposes the same <A href="#TreeTable-ModelNodeObjectsRequirements">requirements</A> on the data source as does the selection feature: node data should be serializable and correctly implement the <SPAN class="attribute">equals</SPAN> and <SPAN class="attribute">hashCode</SPAN> methods, or the <SPAN class="attribute">nodeKey</SPAN> attribute should be provided.</P>

<P>It is also important to note that, while the selection column is just an alternative way to manage selection, the checkbox column stores a list of selected nodes independently of the selection and independently of each other (when several checkbox columns are used in the same <CITE>TreeTable</CITE> component). For example, you can have selection and two checkbox columns that can all be bound to their own properties.</P>

<P>It is also possible to optionally disable or hide check boxes for some nodes depending on application logic. This can be done using the <SPAN class="attribute">disabled</SPAN> and <SPAN class="attribute">visible</SPAN> attributes of <SPAN class="tag">&lt;o:checkboxColumn&gt;</SPAN> tag respectively. These attributes can be specified as a simple <SPAN class="code_area_values">true</SPAN>/<SPAN class="code_area_values">false</SPAN> value, or as an EL expression, which uses any of the row variables (see the <A href="#TreeTable-RequestScopeVariables">Request-Scope Variables</A> section).</P>

<P>The following example shows the usage of the checkbox column with some of the check boxes disabled depending on row data objects.</P>
<PRE class="code_area">&lt;o:treeTable <SPAN class="code-keyword">var</SPAN>=<SPAN class="code_area_values">&quot;mesasage&quot;</SPAN>&gt;
  &lt;o:checkboxColumn rowDatas=<SPAN class="code_area_values">&quot;#{Messages.checkedMessages}&quot;</SPAN> disabled=<SPAN class="code_area_values">&quot;#{message.locked}&quot;</SPAN>&gt;
    &lt;f:facet name=<SPAN class="code_area_values">&quot;header&quot;</SPAN>&gt;
      &lt;o:selectAllCheckbox /&gt;
    &lt;/f:facet&gt;
  &lt;/o:checkboxColumn&gt;
  ...
&lt;/o:treeTable&gt;</PRE>

<H2><A name="TreeTable-DynamicDataLoading"></A>Dynamic Data Loading</H2>

<P>The <CITE>TreeTable</CITE> component supports dynamic data loading for such features as sorting, filtering, and node expansion, using Ajax. The <SPAN class="attribute">useAjax</SPAN> boolean attribute specifies whether or not to use Ajax. By default, it is <SPAN class="code_area_values">&quot;true&quot;</SPAN>, which means Ajax is enabled.</P>

<P>If Ajax is not used, when the <CITE>TreeTable</CITE> component requires data update, the entire page is submitted and re-rendered completely with new data for the <CITE>TreeTable</CITE>. With Ajax, the page is submitted &quot;behind the scenes&quot; with only the <CITE>TreeTable</CITE> component being re-rendered. In case of node expansion, when Ajax is enabled only newly expanded nodes are loaded from the server.</P>

<H3><A name="TreeTable-Specifyingthecontentofthe%22above%22and%22below%22facets"></A>Specifying the content of the &quot;above&quot; and &quot;below&quot; facets</H3>

<P>The <SPAN class="attribute">&quot;above&quot;</SPAN> and <SPAN class="attribute">&quot;below&quot;</SPAN> facets are updated during any actions involving Ajax reload of the <CITE>TreeTable</CITE> component: sorting, filtering and reloading with Ajax component. The following rules are used for placing the components in the <SPAN class="attribute">&quot;above&quot;</SPAN> and <SPAN class="attribute">&quot;below&quot;</SPAN> facets:</P>
<UL>
	<LI>If a component located in the <SPAN class="attribute">&quot;above&quot;</SPAN> and <SPAN class="attribute">&quot;below&quot;</SPAN> facet is expected to change as a result of an Ajax request, it should have the <SPAN class="attribute">id</SPAN> attribute specified in order for this component to be re-rendered during an Ajax request. If there are many such components inside the same facet, you should wrap them into any other component or HTML tag that has the <SPAN class="attribute">id</SPAN>.</LI>
	<LI>If a certain component is changing its <SPAN class="attribute">rendered</SPAN> attribute during an Ajax request, this component should be placed in some container-component (such as <SPAN class="tag">&lt;h:panelGroup&gt;</SPAN>) or HTML tag (such as <SPAN class="tag">&lt;div&gt;</SPAN>) with the <SPAN class="attribute">id</SPAN> attribute specified.</LI>
</UL>


<P>Here is an example:</P>
<PRE class="code_area">&lt;o:treeTable ...&gt;
...
&lt;f:facet name=<SPAN class="code_area_values">&quot;below&quot;</SPAN>&gt;
&lt;h:panelGroup id=<SPAN class="code_area_values">&quot;panelGroup&quot;</SPAN>&gt;
  &lt;h:outputText value=<SPAN class="code_area_values">&quot;#{BackingBean.value1}&quot;</SPAN>/&gt;
  &lt;h:outputText value=<SPAN class="code_area_values">&quot;#{BackingBean.value2}&quot;</SPAN>/&gt;
&lt;/h:panelGroup&gt;
&lt;/f:facet&gt;
&lt;/o:treeTable&gt;</PRE>

<H2><A name="TreeTable-ExpandingandPreloadingNodes"></A>Expanding and Preloading Nodes</H2>

<P>Using of the <SPAN class="attribute">foldingEnabled</SPAN> attribute of the <SPAN class="tag">&lt;o:treeTable&gt;</SPAN> tag allows you to specify whether the user can expand/collapse nodes in the <CITE>TreeTable</CITE> component. By default, it is <SPAN class="code_area_values">&quot;true&quot;</SPAN>.</P>

<P>By default, when the <CITE>TreeTable</CITE> component is loaded, all its nodes are collapsed. You can change this behavior by setting the <SPAN class="attribute">expansionState</SPAN> attribute. You can specify the <SPAN class="attribute">expansionState</SPAN> attribute right on the JSP page or as a value-binding expression that should be bound to the property of <SPAN class="attribute">org.openfaces.component.table.ExpansionState</SPAN> type. The <SPAN class="attribute">org.openfaces.component.table.ExpansionState</SPAN> is just an interface that has different implementations for different expansion states. The <SPAN class="attribute">expansionState</SPAN> attribute can take one of the following values:</P>
<UL>
	<LI><SPAN class="code_area_values">&quot;allExpanded&quot;</SPAN> or an instance of the <SPAN class="attribute">org.openfaces.component.table.AllNodesExpanded</SPAN> class - All nodes are displayed in the expanded state.</LI>
	<LI><SPAN class="code_area_values">&quot;allCollapsed&quot;</SPAN> or an instance of the <SPAN class="attribute">org.openfaces.component.table.AllNodesCollapsed</SPAN> &#45; All nodes are displayed in the collapsed state.</LI>
	<LI><SPAN class="code_area_values">&quot;levelsExpanded:NUMBER&quot;</SPAN>, where NUMBER is an integer number greater than or equal to zero. It specifies the number of node levels, starting from the top-most one, in which the nodes are displayed in the expanded state, while all nodes below this level are collapsed. For example, expansionState=&quot;levelsExpanded:1&quot; means that only root nodes are expanded. A value of <SPAN class="code_area_values">&quot;0&quot;</SPAN> means that no nodes are expanded. If the <SPAN class="attribute">expansionState</SPAN> attribute is specified as a value-binding expression, it should be bound to an instance of the <SPAN class="attribute">org.openfaces.component.table.SeveralLevelsExpanded</SPAN> class. The constructor of this class receives one integer parameter specifying the level up to which the nodes are expanded like described above.</LI>
</UL>


<P>In addition to these three values, which can be set both right on the JSP page and when using value binding, there's one more value which can be set only with value binding. Specifying the <SPAN class="attribute">expansionState</SPAN> attribute as an instance of the <SPAN class="attribute">teamev.jsf.component.treetable.DynamicNodeExpansionState</SPAN> class denotes all other expansion states of the <CITE>TreeTable</CITE> component which cannot be described with the above three types of values (for example, all nodes are collapsed except one). This class has two constructors: a no-args constructor and a constructor receiving an instance of <SPAN class="attribute">org.openfaces.component.table.ExpansionState</SPAN> to serve as a default expansion state. While the previously described classes represent the &quot;static&quot; expansion state and it's not possible to specify an expansion state of individual nodes for them, <SPAN class="attribute">DynamicNodeExpansionState</SPAN> has the <SPAN class="attribute">setNodeExpanded(TreePath keyPath, boolean expanded)</SPAN> method which can be used to flexibly customize the expansion state on a per-node basis.</P>

<P>Although the <CITE>TreeTable</CITE> component can be configured to load with all nodes collapsed, you can specify that some of the collapsed nodes are preloaded to the client using the <SPAN class="attribute">preloadedNodes</SPAN> attribute. This makes nodes expand faster. That is, when a collapsed node whose child nodes are preloaded is expanded by the user, these nodes will be shown immediately without any server request being sent. The <SPAN class="attribute">preloadedNodes</SPAN> attribute can be specified right on the JSP page or as a value-binding expression that references the <SPAN class="attribute">org.openfaces.component.table.PreloadedNodes</SPAN> class. Like the <SPAN class="attribute">org.openfaces.component.table.ExpansionState</SPAN> class, it's just an interface that has different implementations. The <SPAN class="attribute">preloadedNodes</SPAN> attribute can take one of the following values:</P>
<UL>
	<LI><SPAN class="code_area_values">&quot;none&quot;</SPAN> or an instance of the <SPAN class="attribute">org.openfaces.component.table.NoNodesPreloaded</SPAN> class - No children of collapsed nodes will be preloaded. This is a default value.</LI>
	<LI><SPAN class="code_area_values">&quot;all&quot;</SPAN> or an instance of the <SPAN class="attribute">org.openfaces.component.table.AllNodesPreloaded</SPAN> class - All children of collapsed nodes at all levels will be preloaded. So the entire <CITE>TreeTable</CITE> component can be browsed without any requests to the server.</LI>
	<LI><SPAN class="code_area_values">&quot;levelsPreloaded:NUMBER&quot;</SPAN>, where NUMBER is a positive integer number. It indicates the total number of node levels, starting from the top-most one, in which the nodes will be preloaded. For example, preloadedNodes=&quot;levelsPreloaded:2&quot; means that only root nodes and their immediate children are preloaded. So if, for example, the <CITE>TreeTable</CITE> is loaded with all nodes collapsed, the root nodes can be expanded without requests to the server, and deeper levels will require a request to the server to load missing nodes. If the <SPAN class="attribute">preloadedNodes</SPAN> attribute is specified as a value-binding expression, it should be bound to an instance of the <SPAN class="attribute">org.openfaces.component.table.SeveralLevelsPreloaded</SPAN> class. The constructor of this class receives one integer parameter which specifies the number of preloaded node levels as described above.</LI>
</UL>


<P>There are two ways of sending a request to the server to load missing nodes. This depends on the value of the <SPAN class="attribute">useAjax</SPAN> attribute (see the section <A href="#TreeTable-DynamicDataLoading">Dynamic Data Loading</A> ). By default, it is <SPAN class="code_area_values">&quot;true&quot;</SPAN>, which means that only nodes that need to be loaded are requested from the server. Otherwise, the entire page is reloaded along with expanded nodes.</P>

<H2><A name="TreeTable-KeyboardNavigation"></A>Keyboard Navigation</H2>

<P>The <CITE>TreeTable</CITE> component provides keyboard support for selecting and expanding/collapsing nodes. When single or multiple selection is enabled, a selected node can be changed with the keyboard. This feature is enabled by default, and, if necessary, you can disable it by setting the <SPAN class="attribute">keyboardSupport</SPAN> boolean attribute of the <SPAN class="tag">&lt;o:singleNodeSelection&gt;</SPAN> or <SPAN class="tag">&lt;o:multipleNodeSelection&gt;</SPAN> tags to <SPAN class="code_area_values">&quot;false&quot;</SPAN>.</P>

<P>If selection is provided, and therefore, there's nothing to control from the keyboard, the <CITE>TreeTable</CITE> component is not focusable. However, if selection is configured in the <CITE>TreeTable</CITE> component and keyboard support is enabled, the <CITE>TreeTable</CITE> automatically becomes focusable. So you can either press the Tab key or click anywhere inside the <CITE>TreeTable</CITE> component to focus it.</P>

<P>You can customize the appearance for a focused <CITE>TreeTable</CITE> component by using the <SPAN class="attribute">focusedStyle</SPAN> and <SPAN class="attribute">focusedClass</SPAN> attributes.</P>

<P>The following keyboard shortcuts are available for node selection and expansion:</P>
<TABLE class="Table"><TBODY>
<TR>
<TH scope="col"> MS Windows/Linux </TH>
<TH scope="col"> Mac OS </TH>
<TH scope="col"> Action </TH>
</TR>
<TR>
<TD> Up Arrow </TD>
<TD> Up Arrow </TD>
<TD> Moves selection one row up from the current one. </TD>
</TR>
<TR>
<TD> Down Arrow </TD>
<TD> Down Arrow </TD>
<TD> Moves selection one row down from the current one. </TD>
</TR>
<TR>
<TD> Home </TD>
<TD> <IMG src="datatable.data/upleft.gif" align="absmiddle" border="0"> </TD>
<TD> Selects the first currently visible row. </TD>
</TR>
<TR>
<TD> End </TD>
<TD> <IMG src="datatable.data/downright.gif" align="absmiddle" border="0"> </TD>
<TD> Selects the last currently visible row. </TD>
</TR>
<TR>
<TD> Shift+Up Arrow, Down Arrow, End, Home </TD>
<TD> Shift+Up Arrow, Down Arrow, <IMG src="datatable.data/upleft.gif" align="absmiddle" border="0">, <IMG src="datatable.data/downright.gif" align="absmiddle" border="0"> </TD>
<TD> Selects adjacent rows. Note that only contiguous row ranges can be selected with the keyboard. </TD>
</TR>
<TR>
<TD> Left Arrow/Minus Sign </TD>
<TD> Left Arrow </TD>
<TD> Collapses a currently selected node. </TD>
</TR>
<TR>
<TD> Right Arrow/Plus Sign </TD>
<TD> Right Arrow </TD>
<TD> Expands a currently selected node. </TD>
</TR>
</TBODY></TABLE>
<P>In addition, the user can select non-contiguous row ranges by pressing the Ctrl key and clicking rows with the mouse.</P>

<P>Just like for the standard focusable components you can specify the <SPAN class="attribute">tabindex</SPAN> attribute for the <SPAN class="tag">&lt;o:treeTable&gt;</SPAN> tag to control the input focus order.</P>

<H2><A name="TreeTable-CustomizingIndividualRowsandCells"></A>Customizing Individual Rows and Cells</H2>

<P>In addition to an ability to customize all rows in the <CITE>TreeTable</CITE>'s body at the same time, there is an ability to customize individual rows and cells based on displayed data or any other condition using the <SPAN class="tag">&lt;o:row&gt;</SPAN> and <SPAN class="tag">&lt;o:cell&gt;</SPAN> tags.</P>

<P>The <SPAN class="tag">&lt;o:row&gt;</SPAN> and <SPAN class="tag">&lt;o:cell&gt;</SPAN> tags are used to specify content, style or client-side events for specific rows and cells, respectively. In addition, you can merge several cells in a row using the <SPAN class="tag">&lt;o:cell&gt;</SPAN> tag (this feature is also known as a colspan feature).</P>

<P>To customize the individual rows, you should add the <SPAN class="tag">&lt;o:row&gt;</SPAN> tag as a child of the <SPAN class="tag">&lt;o:treeTable&gt;</SPAN> tag. There is a possibility to customize <A href="#TreeTable-ConditionalStyles">styles</A> and <A href="#TreeTable-SpecifyingUserEvents">client-side events</A> for the rows that meet the criterion specified in the <SPAN class="attribute">condition</SPAN> attribute of the <SPAN class="tag">&lt;o:row&gt;</SPAN> tag. The <SPAN class="attribute">condition</SPAN> attribute should be specified as an expression that uses the <A href="#TreeTable-RequestScopeVariables">request-scope variables</A> those refer to the current row. The expression specified in the <SPAN class="attribute">condition</SPAN> attribute should return a boolean value. The default value is <SPAN class="code_area_values">true</SPAN>, which means that if the <SPAN class="attribute">condition</SPAN> attribute is omitted then the appropriate attributes and child components of the <SPAN class="tag">&lt;o:row&gt;</SPAN> tag will be applied to all data rows.</P>

<P>The following example demonstrates making text in all root nodes green:</P>
<PRE class="code_area">&lt;o:treeTable <SPAN class="code-keyword">var</SPAN>=<SPAN class="code_area_values">&quot;message&quot;</SPAN>
             nodeLevelVar=<SPAN class="code_area_values">&quot;level&quot;</SPAN>&gt;
  &lt;o:row condition=<SPAN class="code_area_values">&quot;#{level == 0}&quot;</SPAN> style=<SPAN class="code_area_values">&quot;color:green;&quot;</SPAN>/&gt;
  ...
&lt;/o:treeTable&gt;</PRE>
<P>It is also possible to customize cells and their contents in the appropriate rows. This can be done by placing the <SPAN class="tag">&lt;o:cell&gt;</SPAN> tags as child tags for the <CITE>Row</CITE> component as described below.</P>

<P><A name="TreeTable-Cells"></A><BR>
The individual cells can be customized by adding the <SPAN class="tag">&lt;o:cell&gt;</SPAN> tags as children of the <SPAN class="tag">&lt;o:row&gt;</SPAN> tag. There are two ways of specifying <SPAN class="tag">&lt;o:cell&gt;</SPAN> tags within a row, which differs in a way how cell customizations are applied to columns within a row. The first one is creating a list of free cells (<SPAN class="tag">&lt;o:cell&gt;</SPAN> tags  without <SPAN class="attribute">columnIds</SPAN> or <SPAN class="attribute">condition</SPAN> attributes), which results in customizing cells one-by-one starting from the first column. The second one is explicitly binding cells to some specific columns within the row using the <SPAN class="attribute">columnIds</SPAN> or <SPAN class="attribute">condition</SPAN> attributes of <SPAN class="tag">&lt;o:cell&gt;</SPAN> tags.</P>

<P>Regardless of the way that <SPAN class="tag">&lt;o:cell&gt;</SPAN> tags are applied to columns within a row, each <SPAN class="tag">&lt;o:cell&gt;</SPAN> tag has the following possibilities for cell customization. The <SPAN class="attribute">style</SPAN> and <SPAN class="attribute">styleClass</SPAN> attributes can be used to customize a style for the appropriate cells (see <A href="#TreeTable-ConditionalStyles">Conditional Styles</A> section). There are also attributes for customizing cell's client-side events  (see <A href="#TreeTable-SpecifyingUserEvents">Specifying User Events</A> section). The <SPAN class="tag">&lt;o:cell&gt;</SPAN> tags may have no content if you just need to customize cell's styles or events. But it is also possible to customize cell's contents that should be displayed instead of the default cell contents. This can be done by placing child components inside of <SPAN class="tag">&lt;o:cell&gt;</SPAN> tag. These components just like ordinary components inside of <SPAN class="tag">&lt;o:column&gt;</SPAN> tags can use the request-scope variables referring to the current row.</P>

<P>You can specify one or more of free cells, up to the number of columns declared in the table. Free cells are applied to the appropriate columns in the order that columns are declared on the page. The example below shows customizing the first two cells of each row that don't have children.</P>
<PRE class="code_area">&lt;o:treeTable <SPAN class="code-keyword">var</SPAN>=<SPAN class="code_area_values">&quot;message&quot;</SPAN>
             nodeHasChildrenVar=<SPAN class="code_area_values">&quot;nodeHasChildren&quot;</SPAN>&gt;
  &lt;o:row condition=<SPAN class="code_area_values">&quot;#{nodeHasChildren == <SPAN class="code-keyword">false</SPAN>}&quot;</SPAN>&gt;
    &lt;o:cell style=<SPAN class="code_area_values">&quot;color:gray;&quot;</SPAN>/&gt;
    &lt;o:cell style=<SPAN class="code_area_values">&quot;color:silver;&quot;</SPAN>/&gt;
  &lt;/o:row&gt;
  ...
  &lt;o:column&gt;...&lt;/o:column&gt;
  &lt;o:column&gt;...&lt;/o:column&gt;
  ...
&lt;/o:treeTable&gt;</PRE>
<P>In addition, or as an alternative to specifying free cells, you can also specify any number of explicitly-bound cells. You can either use <SPAN class="attribute">columnIds</SPAN> attribute, or <SPAN class="attribute">condition</SPAN> attribute in <SPAN class="tag">&lt;o:cell&gt;</SPAN> tags to specify explicitly-bound cells. Note that unlike using free cells, using these attributes you can optionally make a single <SPAN class="tag">&lt;o:cell&gt;</SPAN> declaration to be applied to more than one column in the same row.</P>

<P>If you need to assign the <CITE>Cell</CITE> component to some specific column(s) you can do so by declaring the <SPAN class="attribute">columnIds</SPAN> attribute of the <SPAN class="tag">&lt;o:cell&gt;</SPAN> tag. This attribute allows specifying identifiers of the columns in which the cells are to be customized. The column identifiers should be separated by a comma. You can also specify the <SPAN class="attribute">columnIds</SPAN> attribute as a value-binding expression. In this case, you should bind this attribute to an array or a collection of <SPAN class="attribute">java.lang.String</SPAN> class instances.</P>

<P>The following example demonstrates the <CITE>Cell</CITE> components assigned to the columns by identifiers:</P>
<PRE class="code_area">&lt;o:treeTable <SPAN class="code-keyword">var</SPAN>=<SPAN class="code_area_values">&quot;message&quot;</SPAN>
             nodeLevelVar=<SPAN class="code_area_values">&quot;nodeLevel&quot;</SPAN>&gt;
  &lt;o:row condition=<SPAN class="code_area_values">&quot;#{nodeLevel &gt; 0}&quot;</SPAN>&gt;
    &lt;o:cell columnIds=<SPAN class="code_area_values">&quot;subjectColumn, fromColumn&quot;</SPAN> style=<SPAN class="code_area_values">&quot;text-align:left; color:green;&quot;</SPAN>/&gt;
  &lt;/o:row&gt;
  ...
  &lt;o:column id=<SPAN class="code_area_values">&quot;subjectColumn&quot;</SPAN>&gt;...&lt;/o:column&gt;
  ...
  &lt;o:column id=<SPAN class="code_area_values">&quot;fromColumn&quot;</SPAN>&gt;...&lt;/o:column&gt;
  ...
&lt;/o:treeTable&gt;</PRE>
<P>Another possibility to specify explicitly-bound cells is specifying a condition that defines columns in which the cells are to be customized. To do so you should use the <SPAN class="attribute">condition</SPAN> attribute. This attribute should be specified as a value-binding expression that returns a boolean value based on the request-scope variables referring to the current cell. Returning true means that the <SPAN class="tag">&lt;o:cell&gt;</SPAN> tag will be applicable to a cell determined by the given set of request-scope variables.</P>

<P>Here is an example of assigning the cells to the columns using condition:</P>
<PRE class="code_area">&lt;o:treeTable <SPAN class="code-keyword">var</SPAN>=<SPAN class="code_area_values">&quot;message&quot;</SPAN>
             nodeLevelVar=<SPAN class="code_area_values">&quot;nodeLevel&quot;</SPAN>&gt;
  &lt;o:row condition=<SPAN class="code_area_values">&quot;#{nodeLevel &gt; 0}&quot;</SPAN>&gt;
     &lt;o:cell column=<SPAN class="code_area_values">&quot;condition:#{columnIndex == 0}&quot;</SPAN> style=<SPAN class="code_area_values">&quot;text-align:left; color:green;&quot;</SPAN>/&gt;
  &lt;/o:row&gt;
  ...
&lt;/o:treeTable&gt;</PRE>
<P class="bubble note"><STRONG>Note</STRONG><BR>Please note that the <SPAN class="attribute">columnIds</SPAN> and <SPAN class="attribute">condition</SPAN> attributes are mutually exclusive.</P>
<P>It is also possible to specify both free cells and explicitly-bound cells inside of the same <SPAN class="tag">&lt;o:row&gt;</SPAN> tag. Just place free cells first, and explicitly-bound ones afterwards. If several <SPAN class="tag">&lt;o:cell&gt;</SPAN> declarations will be applicable to the same displayed cell then the styles and events from all applicable cell declarations will be applied to the same displayed cell.</P>

<P>You can mix the <SPAN class="tag">&lt;o:cell&gt;</SPAN> tags with the <SPAN class="attribute">columnIds</SPAN> or <SPAN class="attribute">condition</SPAN> attributes and without these attributes specified within one row. In this case the cells without the <SPAN class="attribute">columnIds</SPAN> or <SPAN class="attribute">condition</SPAN> attributes are applied first regardless of the order of the tag declaration.</P>

<H3><A name="TreeTable-SupportforMergingRowCells"></A>Support for Merging Row Cells</H3>

<P>The OpenFaces <CITE>TreeTable</CITE> also provides an ability to merge several cells inside of a single row. To merge several cells within one row, you should specify the <SPAN class="attribute">span</SPAN> attribute of the <SPAN class="tag">&lt;o:cell&gt;</SPAN> tag. The <SPAN class="attribute">span</SPAN> is an integer attribute that is set to <SPAN class="code_area_values">1</SPAN> by default. This attribute defines a number of cells to the right of this cell that should be merged with this cell.</P>

<P>Note that the <SPAN class="attribute">span</SPAN> attribute is just an additional possibility of the <SPAN class="tag">&lt;o:cell&gt;</SPAN> tag, and it can be used in combination with all other customization possibilities provied by this tag.</P>

<P>Below is an example with a table consisting of three columns. The cells in the second row are merged across all three columns and contain the custom content text displayed using the <SPAN class="tag">&lt;h:outputText&gt;</SPAN> component:</P>

<P>Below is an example with a TreeTable consisting of six columns. The cells in the root nodes are merged across all six columns:</P>
<PRE class="code_area">&lt;o:treeTable <SPAN class="code-keyword">var</SPAN>=<SPAN class="code_area_values">&quot;message&quot;</SPAN>
             nodeLevelVar=<SPAN class="code_area_values">&quot;nodeLevel&quot;</SPAN>&gt;
  &lt;o:row condition=<SPAN class="code_area_values">&quot;#{nodeLevel == 0}&quot;</SPAN>&gt;
     &lt;o:cell span=<SPAN class="code_area_values">&quot;6&quot;</SPAN>/&gt;
  &lt;/o:row&gt;
  ...
&lt;/o:treeTable&gt;</PRE>
<P>Please note that when the cells are merged, the content, styles and events from the first of the merged cells are used. Content, styles and events from the other merged cells are ignored.</P>

<H2><A name="TreeTable-CustomizingStyles"></A>Customizing Styles</H2>


<H3><A name="TreeTable-SectionStyles"></A>Section Styles</H3>

<P>By default, the <CITE>TreeTable</CITE> component uses a default style. To turn it off, set the <SPAN class="attribute">applyDefaultStyle</SPAN> boolean attribute of the <SPAN class="tag">&lt;o:treeTable&gt;</SPAN> tag to <SPAN class="code_area_values">&quot;false&quot;</SPAN>.</P>

<P>Like the <SPAN class="tag">&lt;o:dataTable&gt;</SPAN> tag and HTML <SPAN class="tag">&lt;table&gt;</SPAN> tag, the <SPAN class="tag">&lt;o:treeTable&gt;</SPAN> tag supports the <SPAN class="attribute">align</SPAN>, <SPAN class="attribute">bgcolor</SPAN>, <SPAN class="attribute">dir</SPAN>, <SPAN class="attribute">rules</SPAN>, <SPAN class="attribute">width</SPAN>, <SPAN class="attribute">border</SPAN>, <SPAN class="attribute">cellspacing</SPAN>, and <SPAN class="attribute">cellpadding</SPAN> attributes. Also, the <SPAN class="tag">&lt;o:column&gt;</SPAN>, <SPAN class="tag">&lt;o:selectionColumn&gt;</SPAN> and <SPAN class="tag">&lt;o:treeColumn&gt;</SPAN> tags have the <SPAN class="attribute">width</SPAN>, <SPAN class="attribute">align</SPAN> and <SPAN class="attribute">valign</SPAN> attributes that are rendered onto the <SPAN class="tag">&lt;col&gt;</SPAN> tag of the respective column.</P>

<P>The <CITE>TreeTable</CITE> component provides a number of style attributes for customizing its header, body, and footer sections.</P>
<TABLE class="Table"><TBODY>
<TR>
<TH scope="col"> Part of TreeTable </TH>
<TH scope="col"> Style attributes </TH>
<TH scope="col"> Class attributes </TH>
<TH scope="col"> Example legend </TH>
</TR>
<TR>
<TD> Entire component </TD>
<TD> <SPAN class="attribute">style</SPAN> </TD>
<TD> <SPAN class="attribute">styleClass</SPAN> </TD>
<TD>&nbsp;</TD>
</TR>
<TR>
<TD> Entire component in the rollover state </TD>
<TD> <SPAN class="attribute">rolloverStyle</SPAN> </TD>
<TD> <SPAN class="attribute">rolloverClass</SPAN> </TD>
<TD>&nbsp;</TD>
</TR>
<TR>
<TD> TreeTable header </TD>
<TD> <SPAN class="attribute">headerSectionStyle</SPAN> </TD>
<TD> <SPAN class="attribute">headerSectionClass</SPAN> </TD>
<TD> <IMG src="datatable.data/headerSectionStyle.gif" align="absmiddle" border="0"> </TD>
</TR>
<TR>
<TD> TreeTable body </TD>
<TD> <SPAN class="attribute">bodySectionStyle</SPAN> </TD>
<TD> <SPAN class="attribute">bodySectionClass</SPAN> </TD>
<TD> <IMG src="datatable.data/bodySectionStyle.gif" align="absmiddle" border="0"> </TD>
</TR>
<TR>
<TD> TreeTable footer </TD>
<TD> <SPAN class="attribute">footerSectionStyle</SPAN> </TD>
<TD> <SPAN class="attribute">footerSectionClass</SPAN> </TD>
<TD> <IMG src="datatable.data/footerSectionStyle.gif" align="absmiddle" border="0"> </TD>
</TR>
</TBODY></TABLE>
<P>Note that the text-related part of the <SPAN class="attribute">style</SPAN> and <SPAN class="attribute">styleClass</SPAN> attributes (font, color, text-alignment, etc.) will not be applied correctly to all parts of the <CITE>TreeTable</CITE> component. To specify text styles, use the <SPAN class="attribute">textStyle</SPAN> and <SPAN class="attribute">textClass</SPAN> attributes instead of <SPAN class="attribute">style</SPAN> and <SPAN class="attribute">styleClass</SPAN>.</P>

<H3><A name="TreeTable-RowStyles"></A>Row Styles</H3>

<P>The <CITE>TreeTable</CITE> component allows you to define styles for the rows that span the header and footer of the component or its individual columns. All row style-related attributes of the <SPAN class="tag">&lt;o:treeTable&gt;</SPAN> tag are listed in the table below:</P>
<TABLE class="Table"><TBODY>
<TR>
<TH scope="col"> Types of rows </TH>
<TH scope="col"> Style attributes </TH>
<TH scope="col"> Class attributes </TH>
<TH scope="col"> Example legend </TH>
</TR>
<TR>
<TD> Table header row </TD>
<TD> <SPAN class="attribute">commonHeaderRowStyle</SPAN> </TD>
<TD> <SPAN class="attribute">commonHeaderRowClass</SPAN> </TD>
<TD> <IMG src="datatable.data/commonHeaderRowStyle.gif" align="absmiddle" border="0"> </TD>
</TR>
<TR>
<TD> Column header row </TD>
<TD> <SPAN class="attribute">headerRowStyle</SPAN> </TD>
<TD> <SPAN class="attribute">headerRowClass</SPAN> </TD>
<TD> <IMG src="datatable.data/headerRowStyle.gif" align="absmiddle" border="0"> </TD>
</TR>
<TR>
<TD> Sub-header row </TD>
<TD> <SPAN class="attribute">subHeaderRowStyle</SPAN> </TD>
<TD> <SPAN class="attribute">subHeaderRowClass</SPAN> </TD>
<TD> <IMG src="datatable.data/filterRowStyle.gif" align="absmiddle" border="0"> </TD>
</TR>
<TR>
<TD> Body rows </TD>
<TD> <SPAN class="attribute">bodyRowStyle</SPAN> </TD>
<TD> <SPAN class="attribute">bodyRowClass</SPAN> </TD>
<TD>&nbsp;</TD>
</TR>
<TR>
<TD> Body odd rows (if different from the body row style) </TD>
<TD> <SPAN class="attribute">bodyOddRowStyle</SPAN> </TD>
<TD> <SPAN class="attribute">bodyOddRowClass</SPAN> </TD>
<TD>&nbsp;</TD>
</TR>
<TR>
<TD> Body rows in the rollover state </TD>
<TD> <SPAN class="attribute">rolloverRowStyle</SPAN> </TD>
<TD> <SPAN class="attribute">rolloverRowClass</SPAN> </TD>
<TD>&nbsp;</TD>
</TR>
<TR>
<TD> Column footer row </TD>
<TD> <SPAN class="attribute">footerRowStyle</SPAN> </TD>
<TD> <SPAN class="attribute">footerRowClass</SPAN> </TD>
<TD> <IMG src="datatable.data/footerRowStyle.gif" align="absmiddle" border="0"> </TD>
</TR>
<TR>
<TD> Table footer row </TD>
<TD> <SPAN class="attribute">commonFooterRowStyle</SPAN> </TD>
<TD> <SPAN class="attribute">commonFooterRowClass</SPAN> </TD>
<TD> <IMG src="datatable.data/commonFooterRowStyle.gif" align="absmiddle" border="0"> </TD>
</TR>
</TBODY></TABLE>

<H3><A name="TreeTable-StylesExample"></A>Styles Example</H3>

<P>The following example shows the styles applied to the sections of the <CITE>TreeTable</CITE> component and rows that span the column headers and footers:</P>
<PRE class="code_area">&lt;o:treeTable id=<SPAN class="code_area_values">&quot;treeTable&quot;</SPAN> <SPAN class="code-keyword">var</SPAN>=<SPAN class="code_area_values">&quot;message&quot;</SPAN>
             expansionState=<SPAN class="code_area_values">&quot;#{TreeTableBean.forumTreeTableExpansionState}&quot;</SPAN>
             nodeLevelVar=<SPAN class="code_area_values">&quot;level&quot;</SPAN> width=<SPAN class="code_area_values">&quot;40%&quot;</SPAN>
             headerSectionStyle=<SPAN class="code_area_values">&quot;font-size:13pt; color:#2e343d;&quot;</SPAN>
             bodySectionStyle=<SPAN class="code_area_values">&quot;background-color:#fef9ee; color:#106574&quot;</SPAN>
             footerSectionStyle=<SPAN class="code_area_values">&quot;font-size:13pt; color:#223957&quot;</SPAN>
             headerRowStyle=<SPAN class="code_area_values">&quot;background-color:#e1caa2&quot;</SPAN>
             footerRowStyle=<SPAN class="code_area_values">&quot;background-color:#aabede&quot;</SPAN>
             commonHeaderRowStyle=<SPAN class="code_area_values">&quot;background-color:#aec2c5&quot;</SPAN>
             commonFooterRowStyle=<SPAN class="code_area_values">&quot;background-color:#769ecb&quot;</SPAN>
             subHeaderRowStyle=<SPAN class="code_area_values">&quot;background-color:#faefd2&quot;</SPAN>&gt;
  ...
&lt;/o:treeTable&gt;</PRE>
<P>And here is the result:</P>

<P><IMG src="treetable.data/treeTableStyles_XP.gif" align="absmiddle" border="0"></P>

<H3><A name="TreeTable-ColumnStyles"></A>Column Styles</H3>

<P>A style can also be defined for a specific column of the <CITE>TreeTable</CITE> component. The style attributes listed below can be applied to all supported column tags:</P>
<TABLE class="Table"><TBODY>
<TR>
<TH scope="col"> Part of the column </TH>
<TH scope="col"> Style attributes </TH>
<TH scope="col"> Class attributes </TH>
</TR>
<TR>
<TD> Entire column </TD>
<TD> <SPAN class="attribute">style</SPAN> </TD>
<TD> <SPAN class="attribute">styleClass</SPAN> </TD>
</TR>
<TR>
<TD> Column header </TD>
<TD> <SPAN class="attribute">headerStyle</SPAN> </TD>
<TD> <SPAN class="attribute">headerClass</SPAN> </TD>
</TR>
<TR>
<TD> Column filter cell </TD>
<TD> <SPAN class="attribute">filterCellStyle</SPAN> </TD>
<TD> <SPAN class="attribute">filterCellClass</SPAN> </TD>
</TR>
<TR>
<TD> Column body </TD>
<TD> <SPAN class="attribute">bodyStyle</SPAN> </TD>
<TD> <SPAN class="attribute">bodyClass</SPAN> </TD>
</TR>
<TR>
<TD> Column footer </TD>
<TD> <SPAN class="attribute">footerStyle</SPAN> </TD>
<TD> <SPAN class="attribute">footerClass</SPAN> </TD>
</TR>
</TBODY></TABLE>
<P>The appearance of rows in the body section of the <CITE>TreeTable</CITE> component can be customized with the <SPAN class="attribute">bodyRowStyle</SPAN> and <SPAN class="attribute">bodyRowClass</SPAN> attributes of the <SPAN class="tag">&lt;o:treeTable&gt;</SPAN> tag. Additionally, you can use the <SPAN class="attribute">bodyOddRowStyle</SPAN> and <SPAN class="attribute">bodyOddRowClass</SPAN> attributes to define a style for odd rows. Creating alternate styles brings contrast between adjacent rows.</P>

<P>The <SPAN class="tag">&lt;o:columns&gt;</SPAN> tag also supports all above mentioned attributes. These attributes can be specified as value-binding expressions that use a column data variable specified in the <SPAN class="attribute">var</SPAN> attribute of the <SPAN class="tag">&lt;o:columns&gt;</SPAN> tag.</P>

<P>In addition, all of the above attributes, except <SPAN class="attribute">filterCellStyle</SPAN> and <SPAN class="attribute">filterCellClass</SPAN> can be specified for the <SPAN class="tag">&lt;o:columnGroup&gt;</SPAN> tag. Header and footer style attributes are applied to the group's header and footer cells respectively, and general column style and column body styles are applied to the respective parts of each column inside of the group.</P>

<H3><A name="TreeTable-OtherStyles"></A>Other Styles</H3>

<P>The <CITE>TreeTable</CITE> component supports styles related to the sorting and filtering features. They are described in the sections <A href="#TreeTable-SortingRelatedStyles">Sorting</A> and <A href="#TreeTable-FilteringRelatedStyles">Filtering</A>. Additional styles are provided for the cell containing an expansion toggle button (see the <A href="#TreeTable-treeColumnToggleStyles">toggle styles</A>) and for the message displayed for empty data (see the section <A href="#TreeTable-EmptyDataMessage">Empty Data Message</A>).</P>

<H3><A name="TreeTable-GridlineStyles"></A>Gridline Styles</H3>

<P>You can specify styles for any type of separator lines within the <CITE>TreeTable</CITE> component. Each of them has its own attribute which should be used within the <SPAN class="tag">&lt;o:treeTable&gt;</SPAN> tag.</P>
<TABLE class="Table"><TBODY>
<TR>
<TH scope="col"> Type of separators </TH>
<TH scope="col"> Attribute </TH>
</TR>
<TR>
<TD> Horizontal lines between body rows </TD>
<TD> <SPAN class="attribute">horizontalGridLines</SPAN> </TD>
</TR>
<TR>
<TD> Vertical lines between columns in the body area </TD>
<TD> <SPAN class="attribute">verticalGridLines</SPAN> </TD>
</TR>
<TR>
<TD> Table header bottom line </TD>
<TD> <SPAN class="attribute">commonHeaderSeparator</SPAN> </TD>
</TR>
<TR>
<TD> Table footer upper line </TD>
<TD> <SPAN class="attribute">commonFooterSeparator</SPAN> </TD>
</TR>
<TR>
<TD> Header bottom line </TD>
<TD> <SPAN class="attribute">headerHorizSeparator</SPAN> </TD>
</TR>
<TR>
<TD> A line that separates the column headers row and the sub-header row </TD>
<TD> <SPAN class="attribute">subHeaderRowSeparator</SPAN> </TD>
</TR>
<TR>
<TD> Footer upper line </TD>
<TD> <SPAN class="attribute">footerHorizSeparator</SPAN> </TD>
</TR>
<TR>
<TD> Vertical lines between column headers </TD>
<TD> <SPAN class="attribute">headerVertSeparator</SPAN> </TD>
</TR>
<TR>
<TD> Vertical lines between column footers </TD>
<TD> <SPAN class="attribute">footerVertSeparator</SPAN> </TD>
</TR>
</TBODY></TABLE>
<P>NOTE: You should specify all separator style attributes in the same way as the CSS border property but without the prefix <SPAN class="code_area_values">&quot;border:&quot;</SPAN>.</P>

<P>Note that if the <CITE>TreeTable</CITE> component has any gridlines or separators specified, the <SPAN class="attribute">border</SPAN>, <SPAN class="attribute">rules</SPAN>, and <SPAN class="attribute">cellSpacing</SPAN> attributes of the <SPAN class="tag">&lt;o:treeTable&gt;</SPAN> tag take no effect.</P>

<P>The following example shows customized gridlines and separators in the <CITE>TreeTable</CITE> component:</P>
<PRE class="code_area">&lt;o:treeTable <SPAN class="code-keyword">var</SPAN>=<SPAN class="code_area_values">&quot;message&quot;</SPAN>
             horizontalGridLines=<SPAN class="code_area_values">&quot;1px dotted gray&quot;</SPAN>
             verticalGridLines=<SPAN class="code_area_values">&quot;1px dotted gray&quot;</SPAN>
             commonHeaderSeparator=<SPAN class="code_area_values">&quot;3px solid gray&quot;</SPAN>
             commonFooterSeparator=<SPAN class="code_area_values">&quot;3px solid gray&quot;</SPAN>
             headerHorizSeparator=<SPAN class="code_area_values">&quot;2px solid gray&quot;</SPAN>
             subHeaderRowSeparator=<SPAN class="code_area_values">&quot;1px dotted black&quot;</SPAN>
             footerHorizSeparator=<SPAN class="code_area_values">&quot;2px solid gray&quot;</SPAN>
             headerVertSeparator=<SPAN class="code_area_values">&quot;1px solid gray&quot;</SPAN>
             footerVertSeparator=<SPAN class="code_area_values">&quot;1px solid gray&quot;</SPAN>&gt;
  &lt;o:singleNodeSelection/&gt;
  &lt;o:dynamicTreeStructure nodeChildren=<SPAN class="code_area_values">&quot;#{Message.nodeChildren}&quot;</SPAN>/&gt;
  &lt;o:treeColumn&gt;
    &lt;f:facet name=<SPAN class="code_area_values">&quot;header&quot;</SPAN>&gt;
      &lt;h:outputText value=<SPAN class="code_area_values">&quot;Subject&quot;</SPAN>/&gt;
    &lt;/f:facet&gt;
    &lt;h:outputText value=<SPAN class="code_area_values">&quot;#{message.subject}&quot;</SPAN>/&gt;
  &lt;/o:treeColumn&gt;
&lt;/o:treeTable&gt;</PRE>
<P>And here is the result:</P>

<P><IMG src="treetable.data/treeTableSeparators_XP.gif" align="absmiddle" border="0"></P>

<H3><A name="TreeTable-ColumnGroupSeparators"></A>Column Group Separators</H3>

<P>The previous section describes the way that gridlines can be customized in a table without grouped columns, though there are some additional customization possibilities when a table contains column groups:</P>
<UL class="alternate" type="square">
	<LI>Specifying different styles for separators between ordinary columns and column groups. This can be done by specifying a list of comma-separated gridline styles in the <SPAN class="attribute">verticalGridLines</SPAN>, <SPAN class="attribute">headerVertSeparator</SPAN> and <SPAN class="attribute">footerVertSeparator</SPAN> attributes, for example as follows: <SPAN class="code_area_values">&quot;1px solid silver, 2px solid silver&quot;</SPAN>. This will make the first style in the list to be used for ordinary column separators, and the second style in the list to be used for column group separators. Actually, the list of styles is not restricted to two items &ndash; you can specify any number of styles in this attribute, which can be required in case of deeper column hierarchies when there are groups that contain other column groups. The default value for the <SPAN class="attribute">verticalGridLines</SPAN> attribute is <SPAN class="code_area_values">&quot;none, 1px solid #e0e0e0&quot;</SPAN>, which means that there are no separators between the ordinary columns, and there are light-grey separators between column groups.</LI>
	<LI>Customizing horizontal separators between multiple header and footer rows that are created as a result of displaying several levels of columns and column groups. Similarly to customizing the vertical grid lines, this can be done by specifying one or more gridline styles in the <SPAN class="attribute">multiHeaderSeparator</SPAN> and <SPAN class="attribute">multiFooterSeparator</SPAN> attributes. The default value for these attributes is <SPAN class="code_area_values">&quot;none, 1px solid #a0a0a0&quot;</SPAN>, which means that there is no horizontal separator betwen first-level column group header and headers of its sub-columns, but if there is a more deep hierarchy of column groups then headers of the higher-level group headers will be separated with a gray line.</LI>
</UL>


<H3><A name="TreeTable-ConditionalStyles"></A>Conditional Styles</H3>

<P>While all of the styles described above are applied to appropriate areas of the <CITE>TreeTable</CITE> component regardless of the data displayed in them, there is an ability to customize a style for individual rows or cells based on displayed data or any other condition using <SPAN class="attribute">style</SPAN> and <SPAN class="attribute">styleClass</SPAN> attributes of the <SPAN class="tag">&lt;o:row&gt;</SPAN> and <SPAN class="tag">&lt;o:cell&gt;</SPAN> tags, respectively. Specifying conditional styles are only a part of capabilities provided by these tags.</P>

<P>Here's an example of applying style to some individual rows and cells.</P>
<PRE class="code_area">&lt;o:treeTable <SPAN class="code-keyword">var</SPAN>=<SPAN class="code_area_values">&quot;item&quot;</SPAN> nodeLevelVar=<SPAN class="code_area_values">&quot;level&quot;</SPAN> columnIndexVar=<SPAN class="code_area_values">&quot;colIndex&quot;</SPAN> ...&gt;
  &lt;o:row condition=<SPAN class="code_area_values">&quot;#{item.important}&quot;</SPAN> style=<SPAN class="code_area_values">&quot;font-weight: bold&quot;</SPAN>/&gt;
  &lt;o:row&gt;
    &lt;o:cell columnIds=<SPAN class="code_area_values">&quot;itemColor&quot;</SPAN> style=<SPAN class="code_area_values">&quot;color: #{item.color}&quot;</SPAN>/&gt;
  &lt;o:row&gt;
  &lt;o:row condition=<SPAN class="code_area_values">&quot;#{level==1}&quot;</SPAN>&gt;
    &lt;o:cell condition=<SPAN class="code_area_values">&quot;#{colIndex==2}&quot;</SPAN> styleClass=<SPAN class="code_area_values">&quot;cell5x2&quot;</SPAN>/&gt;
  &lt;o:row&gt;

  &lt;o:column id=<SPAN class="code_area_values">&quot;itemColor&quot;</SPAN>&gt;...&lt;/o:column&gt;
  ...
&lt;/o:treeTable&gt;</PRE>
<P>Note that <SPAN class="tag">&lt;o:cell&gt;</SPAN> tags should be nested within the <SPAN class="tag">&lt;o:row&gt;</SPAN> tags. The three <SPAN class="tag">&lt;o:row&gt;</SPAN> declarations in this example introduce three rules for styling individual rows:</P>
<UL class="alternate" type="square">
	<LI>the first one emphasizes items having their &quot;important&quot; attribute equal to true with a bold text</LI>
	<LI>the second declaration is applicable for all rows (there's no condition for that tag), and it specifies an individual color for all cells in the &quot;itemColor&quot; column, based on the value stored in each respective item.</LI>
	<LI>the third declaration combines specifying condition for <SPAN class="tag">&lt;o:row&gt;</SPAN> and <SPAN class="tag">&lt;o:cell&gt;</SPAN> tags, which results in applying the specifying CSS class to the cells that meet both conditions.</LI>
</UL>


<P>Note that there are more scenarios of using the <SPAN class="tag">&lt;o:row&gt;</SPAN> and <SPAN class="tag">&lt;o:cell&gt;</SPAN> tags, for example it's possible to customize several cells within a single <SPAN class="tag">&lt;o:row&gt;</SPAN> declaration or customize cell content and events in addition to styling them. Refer to the <A href="#TreeTable-CustomizingIndividualRowsandCells">Customizing Individual Rows and Cells</A> section for the full information.</P>

<H3><A name="TreeTable-StyleHierarchy"></A>Style Hierarchy</H3>

<P>Because of the variety of ways to style different parts of the <CITE>TreeTable</CITE> component, some style definitions may overlap. To avoid a style conflict, please keep in mind that cell styles have the highest priority, followed by row styles, column styles, section styles, and finally <CITE>TreeTable</CITE> styles having the lowest priority.</P>

<P>Since there are several styling attributes for most of the mentioned groups (row styles, column styles, etc.), each group defines its own list of in-group priorities (listed from higher to lower below):</P>
<UL class="alternate" type="square">
	<LI>Row styles: style for selection, rolloverRowStyle, conditional row styles, bodyOddRowStyle, bodyRowStyle</LI>
	<LI>Column styles: headerStyle/bodyStyle/footerStyle, style</LI>
	<LI>TreeTable styles: focusedStyle, rolloverStyle, style</LI>
</UL>


<P>Note that these in-group priorities are only applicable when styles are specified with &#42;Style tags. Specifying the in-group priorities using the &#42;Class tags are subject to <A href="http://www.w3.org/TR/REC-CSS2/cascade.html#cascade" rel="nofollow">the standard CSS cascading rules</A>, which means that the order of CSS declarations is taken into account. The CSS classes declared later on a page take precedence over the ones declared earlier. This can be important for conflicting style declarations. For example let's consider a TreeTable whose bodyRowClass attribute and the styleClass attribute in the &lt;o:singleNodeSelection&gt; tag both have different &quot;background-color&quot; declarations in the respective classes. In order for selection to be visible in this case, the body row class declaration should go before the selection class declaration.</P>

<H2><A name="TreeTable-SpecifyingUserEvents"></A>Specifying User Events</H2>

<P>The <CITE>TreeTable</CITE> component supports a set of standard client-side events. You can specify them by using the following attributes of the <SPAN class="tag">&lt;o:treeTable&gt;</SPAN> tag: <SPAN class="attribute">onclick</SPAN>, <SPAN class="attribute">ondblclick</SPAN>, <SPAN class="attribute">onmousedown</SPAN>, <SPAN class="attribute">onmouseover</SPAN>, <SPAN class="attribute">onmousemove</SPAN>, <SPAN class="attribute">onmouseout</SPAN>, <SPAN class="attribute">onmouseup</SPAN>, <SPAN class="attribute">onfocus</SPAN>, <SPAN class="attribute">onblur</SPAN>, <SPAN class="attribute">onkeydown</SPAN>, <SPAN class="attribute">onkeyup</SPAN>, <SPAN class="attribute">onkeypress</SPAN>.</P>

<P>In addition, you can specify client-side events for any type of a <CITE>TreeTable</CITE> column or for a group of columns. All event-related attributes are listed below:</P>
<TABLE class="Table"><TBODY>
<TR>
<TH scope="col"> Part of column </TH>
<TH scope="col"> Attributes </TH>
</TR>
<TR>
<TD> Entire column </TD>
<TD> <SPAN class="attribute">onclick</SPAN>, <SPAN class="attribute">ondblclick</SPAN>, <SPAN class="attribute">onmousedown</SPAN>, <SPAN class="attribute">onmouseover</SPAN>, <SPAN class="attribute">onmousemove</SPAN>, <SPAN class="attribute">onmouseout</SPAN>, <SPAN class="attribute">onmouseup</SPAN> </TD>
</TR>
<TR>
<TD> Column header </TD>
<TD> <SPAN class="attribute">headerOnclick</SPAN>, <SPAN class="attribute">headerOndblclick</SPAN>, <SPAN class="attribute">headerOnmousedown</SPAN>, <SPAN class="attribute">headerOnmouseover</SPAN>, <SPAN class="attribute">headerOnmousemove</SPAN>, <SPAN class="attribute">headerOnmouseout</SPAN>, <SPAN class="attribute">headerOnmouseup</SPAN> </TD>
</TR>
<TR>
<TD> Column body </TD>
<TD> <SPAN class="attribute">bodyOnclick</SPAN>, <SPAN class="attribute">bodyOndblclick</SPAN>, <SPAN class="attribute">bodyOnmousedown</SPAN>, <SPAN class="attribute">bodyOnmouseover</SPAN>, <SPAN class="attribute">bodyOnmousemove</SPAN>, <SPAN class="attribute">bodyOnmouseout</SPAN>, <SPAN class="attribute">bodyOnmouseup</SPAN> </TD>
</TR>
<TR>
<TD> Column footer </TD>
<TD> <SPAN class="attribute">footerOnclick</SPAN>, <SPAN class="attribute">footerOndblclick</SPAN>, <SPAN class="attribute">footerOnmousedown</SPAN>, <SPAN class="attribute">footerOnmouseover</SPAN>, <SPAN class="attribute">footerOnmousemove</SPAN>, <SPAN class="attribute">footerOnmouseout</SPAN>, <SPAN class="attribute">footerOnmouseup</SPAN> </TD>
</TR>
</TBODY></TABLE>
<P>In case of column groups, the events declared for the group are applied to each column in the group, except the header and footer events those are applied to the group's header and footer cells respectively.</P>

<P>The <SPAN class="tag">&lt;o:columns&gt;</SPAN> tag also supports all above mentioned attributes. These attributes can be specified as value-binding expressions that use a column data variable specified in the <SPAN class="attribute">var</SPAN> attribute of the <SPAN class="tag">&lt;o:columns&gt;</SPAN> tag.</P>

<P>The <SPAN class="tag">&lt;o:singleNodeSelection&gt;</SPAN> and <SPAN class="tag">&lt;o:multipleNodeSelection&gt;</SPAN> tags provide the <SPAN class="attribute">onchange</SPAN> event. You can specify it by using the <SPAN class="attribute">onchange</SPAN> attribute.</P>

<P>You can specify client-side events for the particular row or cell using the following attributes of the <SPAN class="tag">&lt;o:row&gt;</SPAN> and <SPAN class="tag">&lt;o:cell&gt;</SPAN> tags: <SPAN class="attribute">onclick</SPAN>, <SPAN class="attribute">ondblclick</SPAN>, <SPAN class="attribute">onmousedown</SPAN>, <SPAN class="attribute">onmouseover</SPAN>, <SPAN class="attribute">onmousemove</SPAN>, <SPAN class="attribute">onmouseout</SPAN>, <SPAN class="attribute">onmouseup</SPAN>, <SPAN class="attribute">onkeydown</SPAN>, <SPAN class="attribute">onkeyup</SPAN>, <SPAN class="attribute">onkeypress</SPAN>. When specify row or cell-specific client-side events, you can use request-scope variables of the <CITE>TreeTable</CITE> component (see the description of <SPAN class="attribute">var</SPAN>, <SPAN class="attribute">nodePathVar</SPAN>, <SPAN class="attribute">nodeLevelVar</SPAN>, <SPAN class="attribute">nodeHasChildrenVar</SPAN>, <SPAN class="attribute">columnIndexVar</SPAN> and <SPAN class="attribute">columnIdVar</SPAN> attributes in  the section <A href="#TreeTable-RequestScopeVariables">Request&#45;Scope Variables</A>).</P>

<H2><A name="TreeTable-ClientSideAPI"></A>Client-Side API</H2>

<P>The <CITE>TreeTable</CITE> component has the following public client-side API methods:</P>
<TABLE class="Table"><TBODY>
<TR>
<TH scope="col"> Method </TH>
<TH scope="col"> Description </TH>
</TR>
<TR>
<TD> <SPAN class="attribute">isSelectionEmpty()</SPAN> </TD>
<TD> Returns <SPAN class="code_area_values">&quot;true&quot;</SPAN> if the <CITE>TreeTable</CITE> component has any selected nodes. This method works for any selection mode. </TD>
</TR>
<TR>
<TD> <SPAN class="attribute">getSelectedNodeCount()</SPAN> </TD>
<TD> Returns the number of selected nodes, or <SPAN class="code_area_values">0</SPAN> if no nodes are selected. This method works for any selection mode (single or multiple). </TD>
</TR>
<TR>
<TD> <SPAN class="attribute">getCurrentColumn()</SPAN> </TD>
<TD> Returns the object identifying the column for which the column context menu is currently being shown (see the <A href="#TreeTable-DisplayingColumnMenus">Displaying Column Menus</A> section). This object currently has only one field named <SPAN class="attribute">index</SPAN>, which is a zero-based index of the column in a list of currently-rendered columns. </TD>
</TR>
<TR>
<TD> <SPAN class="attribute">focus()</SPAN> </TD>
<TD> Gives the keyboard focus to the component on which this method is invoked. </TD>
</TR>
<TR>
<TD> <SPAN class="attribute">blur()</SPAN> </TD>
<TD> Removes the keyboard focus from the component on which this method is invoked. </TD>
</TR>
</TBODY></TABLE>

<H2><A name="TreeTable-SpecialCases"></A>Special Cases</H2>

<H3><A name="TreeTable-AbsoluteorRelativePositionedContentWithQuirksMode"></A>Absolute or Relative Positioned Content With Quirks Mode</H3>

<P>There's an Internet Explorer issue where the elements displayed with absolute or relative position displayed in table rows remain visible when the rows themselves are hidden, which can manifest itself as a &quot;garbage&quot; remaining on the screen when you collapse TreeTable nodes. This problem is applicable only for pages displayed with the <A href="http://en.wikipedia.org/wiki/Quirks_mode" rel="nofollow">quirks rendering mode</A> (and not a strict or transitional rendering mode), and there's the following rule for solving this.</P>

<P>If your pages are designed for the quirks rendering mode and there are any elements with <SPAN class="attribute">position: absolute</SPAN> or <SPAN class="attribute">position: relative</SPAN> declarations in the TreeTable's cells, you should apply the <SPAN class="code_area_values">ieNonStaticPositionFix</SPAN> CSS class to such elements to solve this issue. Here's a simple example.</P>

<PRE class="code_area">&lt;o:treeTable ...&gt;
  &lt;o:column&gt;
    &lt;h:graphicImage style=<SPAN class="code_area_values">&quot;display: relative&quot;</SPAN> styleClass=<SPAN class="code_area_values">&quot;ieNonStaticPositionFix&quot;</SPAN> .../&gt;
  &lt;o:column&gt;
  ...
&lt;/o:treeTable&gt;</PRE>

<H2><A name="TreeTable-KnownIssues"></A>Known Issues</H2>

<UL class="alternate" type="square">
	<LI>The <CITE>TreeTable</CITE> component cannot be used inside <CITE>DataTable</CITE>, <CITE>TreeTable</CITE> or any other JSF components that replicate their child components during rendering.</LI>
	<LI>OpenFaces components and components that extend UIInput and UICommand cannot be used in the <SPAN class="tag">&lt;o:cell&gt;</SPAN> tag if this cell is rendered for several columns.</LI>
	<LI>Resources from the <SPAN class="tag">&lt;f:loadBundle&gt;</SPAN> tag cannot be used inside Ajax-enabled components. Though this can easily be solved by using the <SPAN class="tag">&lt;o:loadBundle&gt;</SPAN> component. See the <A href="loadbundle.html" title="LoadBundle">LoadBundle</A> documentation.</LI>
</UL>

    </TD>

  </TR>

  <TR>
    <TD height="50" align="left" class="copyright" style="border-top:1px solid #CCCCCC;">&copy; 2010 <A href="http://www.teamdev.com/">TeamDev Ltd</A>.</TD>
    <TD height="50" align="right" style="border-top:1px solid #CCCCCC;"><A style="border-bottom: none;" href="http://www.openfaces.org"><IMG src="images/logo.gif" alt="OpenFaces" width="124" height="28" border="0"></A></TD>
  </TR>
</TABLE>
</BODY>

</HTML>
