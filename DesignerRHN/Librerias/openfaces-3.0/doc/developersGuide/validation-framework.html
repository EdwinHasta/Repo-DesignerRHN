
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<TITLE>Validation Framework &mdash; OpenFaces documentation</TITLE>
<LINK href="styles/style.css" rel="stylesheet" type="text/css">
<LINK rel="icon" href="favicon.ico" type="image/x-icon">
<LINK rel="shortcut icon" href="favicon.ico" type="image/x-icon">
</HEAD>

<BODY>
<DIV id="logo"><A href="index.html"><IMG src="images/documentation_logo.gif" alt="OpenFaces Documentation" border="0"></A><BR><SPAN style="margin-top:0;">Version 3.0.0</SPAN></DIV>
<TABLE width="100%" border="0" cellspacing="0" cellpadding="0">
  <TR>
    <TD width="240px" align="right" valign="bottom" style="border-bottom:1px solid #CCCCCC;">&nbsp;</TD>
    <TD height="30px" style="border-bottom:1px solid #CCCCCC;">&nbsp;</TD>
  </TR>
  <TR>
    <TD colspan="2" valign="top"><H1>Validation Framework</H1></TD>
  </TR>
  <TR>
    <TD valign="top" style="background: url(images/line.gif) #fbfbfc repeat-y right; padding:0px 0px 0px 0px; width:240px; margin: 0px 0px 0px 0px;">
	<TABLE width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#ffffff">
	<TR>
	<TD>
        <DIV class="contents index" style="background-color:#FFFFFF; width:260px;"><UL>
    <LI><A href="#ValidationFramework-Introduction">Introduction</A></LI>
    <LI><A href="#ValidationFramework-KeyFeatures">Key Features</A></LI>
    <LI><A href="#ValidationFramework-Benefits">Benefits</A></LI>
    <LI><A href="#ValidationFramework-GettingStartedwithClientSideValidation">Getting Started with Client-Side Validation</A></LI>
    <LI><A href="#ValidationFramework-HowtheValidationFrameworkWorks">How the Validation Framework Works</A></LI>
    <LI><A href="#ValidationFramework-ConfiguringComponentsforClientSideValidation">Configuring Components for Client-Side Validation</A></LI>
<UL>
    <LI><A href="#ValidationFramework-Applicationwide">Application-wide</A></LI>
    <LI><A href="#ValidationFramework-Formwide">Form-wide</A></LI>
    <LI><A href="#ValidationFramework-Percomponent">Per-component</A></LI>
</UL>
    <LI><A href="#ValidationFramework-SupportedValidatorsandConverters">Supported Validators and Converters</A></LI>
    <LI><A href="#ValidationFramework-ConfiguringValidationErrorPresentation">Configuring Validation Error Presentation</A></LI>
<UL>
    <LI><A href="#ValidationFramework-CustomizingValidationMessages">Customizing Validation Messages</A></LI>
</UL>
    <LI><A href="#ValidationFramework-ValidationTriggering">Validation Triggering</A></LI>
    <LI><A href="#ValidationFramework-ValidatedComponentsSet">Validated Components Set</A></LI>
    <LI><A href="#ValidationFramework-OpenFacesValidationFrameworkAPI">OpenFaces Validation Framework API</A></LI>
<UL>
    <LI><A href="#ValidationFramework-ApplicationSettings">Application Settings</A></LI>
    <LI><A href="#ValidationFramework-ClientValidationSupportComponent">ClientValidationSupport Component</A></LI>
    <LI><A href="#ValidationFramework-ComponentAttributes">Component Attributes</A></LI>
    <LI><A href="#ValidationFramework-ValidationErrorMessageComponent">Validation Error Message Component</A></LI>
<UL>
    <LI><A href="#ValidationFramework-FloatingIconMessage">FloatingIconMessage</A></LI>
</UL>
    <LI><A href="#ValidationFramework-ClientSideComponentValue">Client-Side Component Value</A></LI>
    <LI><A href="#ValidationFramework-ClientSideAPI">Client-Side API</A></LI>
<UL>
    <LI><A href="#ValidationFramework-validate">validate</A></LI>
    <LI><A href="#ValidationFramework-validateById">validateById</A></LI>
    <LI><A href="#ValidationFramework-validateForm">validateForm</A></LI>
    <LI><A href="#ValidationFramework-validateFormById">validateFormById</A></LI>
    <LI><A href="#ValidationFramework-validateEnclosingForm">validateEnclosingForm</A></LI>
    <LI><A href="#ValidationFramework-submitWithoutValidation">submitWithoutValidation</A></LI>
    <LI><A href="#ValidationFramework-resetFormValidation">resetFormValidation</A></LI>
    <LI><A href="#ValidationFramework-resetFormValidationById">resetFormValidationById</A></LI>
    <LI><A href="#ValidationFramework-resetEnclosingFormValidation">resetEnclosingFormValidation</A></LI>
</UL>
    <LI><A href="#ValidationFramework-OpenFacesValidators">OpenFaces Validators</A></LI>
<UL>
    <LI><A href="#ValidationFramework-org.openfaces.Custom">org.openfaces.Custom</A></LI>
    <LI><A href="#ValidationFramework-org.openfaces.RegularExpression">org.openfaces.RegularExpression</A></LI>
    <LI><A href="#ValidationFramework-org.openfaces.EMail">org.openfaces.EMail</A></LI>
    <LI><A href="#ValidationFramework-org.openfaces.URL">org.openfaces.URL</A></LI>
    <LI><A href="#ValidationFramework-org.openfaces.Equal">org.openfaces.Equal</A></LI>
    <LI><A href="#ValidationFramework-ConfiguringValidatorMessages">Configuring Validator Messages</A></LI>
    <LI><A href="#ValidationFramework-MessageParam">MessageParam</A></LI>
</UL>
    <LI><A href="#ValidationFramework-OpenFacesMessageBundle">OpenFaces Message Bundle</A></LI>
</UL>
    <LI><A href="#ValidationFramework-AnnotationbasedValidation">Annotation-based Validation</A></LI>
<UL>
    <LI><A href="#ValidationFramework-ServersideAnnotationbasedValidation">Server-side Annotation-based Validation</A></LI>
    <LI><A href="#ValidationFramework-ClientsideAnnotationbasedValidation">Client-side Annotation-based Validation</A></LI>
    <LI><A href="#ValidationFramework-ValidateAllComponent">ValidateAll Component</A></LI>
</UL>
</UL></DIV>
	</TD>
	</TR>
	</TABLE>
	<DIV class="components_links">
				<A href="index.html">Developer&rsquo;s Guide Home</A><BR>
		  <A href="installation-and-configuration.html">Installation and Configuration</A><BR>
		  <A href="common-concepts.html">Common Concepts</A><BR>
          <A href="components-index.html" style="padding-bottom:0.5em;">Components Index</A>
                    <HR noshade="noshade" size="1px" color="#d5d6d7" width="85%">
                    <A href="borderlayoutpanel.html">Border Layout Panel</A><BR>
                    <A href="calendar.html">Calendar</A><BR>
                    <A href="chart.html">Chart</A><BR>
                    <A href="commandbutton.html">Command Button</A><BR>
                    <A href="commandlink.html">Command Link</A><BR>
                    <A href="compositefilter.html">Composite Filter</A><BR>
                    <A href="confirmation.html">Confirmation</A><BR>
                    <A href="datatable.html">Data Table</A><BR>
                    <A href="datechooser.html">Date Chooser</A><BR>
                    <A href="daytable.html">Day Table</A><BR>
                    <A href="dropdownfield.html">Drop Down Field</A><BR>
                    <A href="dynamicimage.html">Dynamic Image</A><BR>
                    <A href="foldingpanel.html">Folding Panel</A><BR>
                    <A href="foreach.html">For Each</A><BR>
                    <A href="graphictext.html">Graphic Text</A><BR>
                    <A href="hintlabel.html">Hint Label</A><BR>
                    <A href="inputtext.html">Input Text</A><BR>
                    <A href="inputtextarea.html">Input Textarea</A><BR>
                    <A href="layeredpane.html">Layered Pane</A><BR>
                    <A href="levelindicator.html">Level Indicator</A><BR>
                    <A href="popuplayer.html">Popup Layer</A><BR>
                    <A href="popupmenu.html">Popup Menu</A><BR>
                    <A href="selectbooleancheckbox.html">Select Boolean Checkbox</A><BR>
                    <A href="selectmanycheckbox.html">Select Many Checkbox</A><BR>
                    <A href="selectoneradio.html">Select One Radio</A><BR>
                    <A href="spinner.html">Spinner</A><BR>
		            <A href="suggestionfield.html">Suggestion Field</A><BR>
                    <A href="tabbedpane.html">Tabbed Pane</A><BR>
                    <A href="tabset.html">Tab Set</A><BR>
                    <A href="treetable.html">Tree Table</A><BR>
                    <A href="twolistselection.html">Two List Selection</A><BR>
                    <A href="window.html" style="padding-bottom:0.5em;">Window</A>
                    <HR noshade="noshade" size="1px" color="#d5d6d7" width="85%">
                    <A href="focus.html">Focus</A><BR>
                    <A href="loadbundle.html">Load Bundle</A><BR>
                    <A href="scrollposition.html" style="padding-bottom:0.5em;">Scroll Position</A>
                    <HR noshade="noshade" size="1px" color="#d5d6d7" width="85%">
                    <A href="ajax-framework.html">Ajax Framework</A>
                    <UL>
                        <LI><A href="ajax.html">Ajax Component</A><BR></LI>
                        <LI><A href="ajax-framework.html#AjaxFramework-PageWideConfiguration">Ajax Settings Component</A><BR></LI>
                    </UL>
                    <A href="validation-framework.html">Validation Framework</A>
                    <HR noshade="noshade" size="1px" color="#d5d6d7" width="85%">
                    <A href="../tagReference/index.html">Tag Reference</A><BR>
                    <A href="../apiReference/index.html">API Reference</A>
	<DIV style=" width:240px; height:0px; padding: 0px; margin:0px;"></DIV>
		</DIV>
	</TD>

		<TD style="padding-bottom:1em; padding-left:2em;"><P>

<H2><A name="ValidationFramework-Introduction"></A>Introduction</H2>

<P></P>

<P>The OpenFaces validation framework is designed to compensate for lack of explicit and full support for client-side validation in JSF. In essence, it shifts the server-side validation logic of standard JSF validators to the client side. </P>

<H2><A name="ValidationFramework-KeyFeatures"></A>Key Features</H2>

<UL>
	<LI><A href="#ValidationFramework-ConfiguringComponentsforClientSideValidation">Client-side support for standard JSF validators and converters</A></LI>
	<LI><A href="#ValidationFramework-Applicationwide">One single step to enable client-side validation in the whole application</A></LI>
	<LI><A href="#ValidationFramework-ConfiguringValidationErrorPresentation">Configurable validation error presentation</A></LI>
	<LI><A href="#ValidationFramework-ValidationTriggering">Flexible validation triggering</A></LI>
	<LI><A href="#ValidationFramework-CustomizingValidationMessages">Flexible customization of validation messages</A></LI>
	<LI><A href="#ValidationFramework-OpenFacesValidators">Set of additional validators (both client and server side)</A></LI>
	<LI><A href="#ValidationFramework-ConfiguringValidationErrorPresentation">Default presentation for the server-side validation errors</A></LI>
	<LI><A href="#ValidationFramework-org.openfaces.Custom">Support for custom validation logic</A></LI>
	<LI><A href="#ValidationFramework-AnnotationbasedValidation">Annotation-based validation</A></LI>
</UL>


<H2><A name="ValidationFramework-Benefits"></A>Benefits</H2>

<P>In the standard JSF validation routine, user-entered data is validated on the server side by the validators and converters assigned to an input field. If either fails, the page is re-rendered back to the client to display validation errors to the user. The OpenFaces validation framework allows you to validate data on the client side before a page with invalid data is submitted, thus, minimizing server round-trips and enhancing user experience. With almost zero configuration, you can shift the standard JSF validation to the client side, preserving both logic and visual presentation of validation errors.</P>

<P>The OpenFaces validation framework allows you to customize presentation of validation errors. Instead of using simple labels as standard HTMLMessage(s) do, with OpenFaces, you can change a CSS of the input component with an invalid value or show a special &quot;error&quot; icon over the component.</P>

<P>There is no need to track all the validation checks and ensure there is an appropriate component to display the error. The OpenFaces validation framework&nbsp;provides default validation presentation for both client-side and server-side validation. If validation fails, you can be sure this will be displayed on the page.</P>

<P>To cover various validation scenarios, the OpenFaces validation framework allows you to choose which components to validate and when to validate them.</P>

<P></P>

<H2><A name="ValidationFramework-GettingStartedwithClientSideValidation"></A>Getting Started with Client-Side Validation</H2>

<P></P>

<P>An existing JSF application can be configured to perform all input data validation on the client side in these simple steps:</P>

<P>1. Attach the OpenFaces library to your project by following the instructions in the <A href="installation-and-configuration.html#InstallationandConfiguration-Installation">Installation</A> section.</P>

<P>2. Set the application-scope context parameter <SPAN class="attribute">org.openfaces.validation.clientValidation</SPAN> to <SPAN class="code_area_values">&quot;onSubmit&quot;</SPAN> in web.xml. This instructs the OpenFaces validation framework to use client-side validation for the whole application.</P>
<PRE class="code_area">&lt;web-app&gt;
...
&lt;context-param&gt;
    &lt;param-name&gt;org.openfaces.validation.clientValidation&lt;/param-name&gt;
    &lt;param-value&gt;onSubmit&lt;/param-value&gt;
&lt;/context-param&gt;
...
&lt;/web-app&gt;</PRE>
<P>As a result, client-side validation will be triggered before any form submission. In case of a&nbsp;validation error, a corresponding message will be displayed just like it is for server-side validation, but without any round-trips to the server.</P>

<P>Furthermore, you can configure client-side validation in a fine-grained way on a <A href="#ValidationFramework-Formwide">form</A> and <A href="#ValidationFramework-Percomponent">component</A> level, use <A href="#ValidationFramework-FloatingIconMessage">alternative ways&nbsp;of&nbsp;error presentation</A> for failed validation, add <A href="#ValidationFramework-OpenFacesValidators">OpenFaces validators</A>, and customize <A href="#ValidationFramework-CustomizingValidationMessages">validation messages</A>.</P>

<H2><A name="ValidationFramework-HowtheValidationFrameworkWorks"></A>How the Validation Framework Works</H2>

<P>When client-side validation is turned on for a specific set of components, the components become ready to be validated on the client side. The validation process can be initiated in two ways: &quot;automatic&quot; - when all the components are validated before page submission, and &quot;on demand&quot; - when validation is invoked manually by the developer, from JavaScript code.</P>

<P>The set of components to be validated, the logic for automatic validation triggering, and error messages can be additionally configured to suit the logic of the most sophisticated pages.</P>

<P>The basics of the OpenFaces validation framework can be summarized as follows:</P>
<UL class="alternate" type="square">
	<LI>A client-side validator is added for each validator and converter from the <A href="#ValidationFramework-SupportedValidatorsandConverters">supported set</A>. The set of affected components is determined based on the <A href="#ValidationFramework-Applicationwide">application-wide</A>, <A href="#ValidationFramework-Formwide">form-wide</A> and <A href="#ValidationFramework-Percomponent">per-component</A> configuration.
<P class="bubble note"><STRONG>Note</STRONG><BR>Configuration settings are applied hierarchically. That is, the component-level validation configuration takes precedence over form-wide settings, while form-wide configuration prevails over application-wide settings.</P></LI>
	<LI>The OpenFaces validation framework automatically changes rendering of the standard HTML <CITE>Message</CITE> and <CITE>Messages</CITE> components so that they are able to display messages of client-side validation. You can also configure OpenFaces-specific validation presentation to show validation errors to the user. If no component to display validation errors is found, the default validation error presentation (<A href="#ValidationFramework-FloatingIconMessage">FloatingIconMessage</A>) is automatically used.</LI>
	<LI>Depending on the settings of the <A href="#ValidationFramework-Applicationwide">application-wide</A>, <A href="#ValidationFramework-Formwide">form-wide</A> and <A href="#ValidationFramework-Percomponent">per-component</A> configuration, client-side validation can be automatically triggered before every page submission (<SPAN class="code_area_values">&quot;onSubmit&quot;</SPAN> value). It can also be configured (<SPAN class="code_area_values">&quot;onDemand&quot;</SPAN> value) so that it becomes the responsibility of a developer to trigger validation from JavaScript by using the&nbsp;<A href="#ValidationFramework-ClientSideAPI">Client&#45;Side API</A>. Individual components can be <A href="#ValidationFramework-ComponentAttributes">excluded</A> from automatic on-submit validation.
<P class="bubble note"><STRONG>Note</STRONG><BR>The logic of a client-side validator is equivalent to the corresponding server-side validator or converter. That is, if validation is passed for a given component on the client side, the validation and conversion will pass on the server side for this component, too.</P></LI>
	<LI>If a validator fails during component validation, a corresponding message is displayed by the available validation presentation component. The page is submitted only if all the validators pass successfully; otherwise, the page submission is blocked.</LI>
</UL>


<H2><A name="ValidationFramework-ConfiguringComponentsforClientSideValidation"></A>Configuring Components for Client-Side Validation</H2>

<P>There are three levels&nbsp;on which server-to-client validator porting can be configured: application-wide, form-wide, and per-component. Note that lower-level configuration settings take precedence. If validation is not configured on some level, it defaults to the higher-level configuration. </P>

<H3><A name="ValidationFramework-Applicationwide"></A>Application-wide</H3>

<P>Configured by the <SPAN class="attribute">org.openfaces.validation.clientValidation</SPAN> application-scope context parameter in web.xml. For more information, see the section <A href="#ValidationFramework-ApplicationSettings">Application Settings </A>. </P>

<P>These settings affect all the components on all pages within the application. You may want to fine-tune validation settings for specific pages by using <A href="#ValidationFramework-Formwide">form-wide</A> and <A href="#ValidationFramework-Percomponent">per-component</A> settings.</P>
<P class="bubble note"><STRONG>Note</STRONG><BR>It is possible to submit a form without validation (see the section <A href="#ValidationFramework-ClientSideAPI">Client&#45;Side API</A>) and exclude a&nbsp;particular component from the validation lifecycle (see the section <A href="#ValidationFramework-ComponentAttributes">Component Attributes</A>)</P>

<H3><A name="ValidationFramework-Formwide"></A>Form-wide</H3>

<P>Configured by adding the <CITE>ClientValidationSupport</CITE> component to the form. For more information, see the section <A href="#ValidationFramework-ClientValidationSupportComponent">ClientValidationSupport Component</A>.</P>

<P>Affected are the components within the form to which the <CITE>ClientValidationSupport</CITE> component is added. This allows you to specify form-specific client-side validation configuration.</P>

<H3><A name="ValidationFramework-Percomponent"></A>Per-component</H3>

<P>Configured by specifying the component attributes. See the section <A href="#ValidationFramework-ComponentAttributes">Component Attributes</A>.</P>

<P>Only the component is affected. Can be used to exclude the component from validation.</P>

<H2><A name="ValidationFramework-SupportedValidatorsandConverters"></A>Supported Validators and Converters</H2>

<P>On the client side, the OpenFaces validation framework supports all the <A href="#ValidationFramework-OpenFacesValidators">OpenFaces Validators</A> as well as the following standard JSF validators:</P>
<TABLE class="Table"><TBODY>
<TR>
<TH scope="col"> Name </TH>
<TH scope="col"> Tag </TH>
</TR>
<TR>
<TD> Required value </TD>
<TD> No special tag, the <SPAN class="attribute">required</SPAN> attribute equals to <SPAN class="code_area_values">&quot;true&quot;</SPAN> for an input component. </TD>
</TR>
<TR>
<TD> Double Range Validator </TD>
<TD> <SPAN class="tag">&lt;f:validateDoubleRange&gt;</SPAN> </TD>
</TR>
<TR>
<TD> Long Range Validator </TD>
<TD> <SPAN class="tag">&lt;f:validateLongRange&gt;</SPAN> </TD>
</TR>
<TR>
<TD> Length Validator </TD>
<TD> <SPAN class="tag">&lt;f:validateLength&gt;</SPAN> </TD>
</TR>
</TBODY></TABLE>
<P>The following standard JSF converters are supported:</P>
<TABLE class="Table"><TBODY>
<TR>
<TH scope="col"> Name </TH>
<TH scope="col"> Tag </TH>
</TR>
<TR>
<TD> Integer Converter </TD>
<TD>  </TD>
</TR>
<TR>
<TD> Double Converter </TD>
<TD>&nbsp;</TD>
</TR>
<TR>
<TD> Byte Converter </TD>
<TD>&nbsp;</TD>
</TR>
<TR>
<TD> Short Converter </TD>
<TD>&nbsp;</TD>
</TR>
<TR>
<TD> Float Converter </TD>
<TD>&nbsp;</TD>
</TR>
<TR>
<TD> DateTime Converter </TD>
<TD> <SPAN class="tag">&lt;f:convertDateTime&gt;</SPAN> </TD>
</TR>
<TR>
<TD> Number Converter </TD>
<TD> <SPAN class="tag">&lt;f:convertNumber&gt;</SPAN> </TD>
</TR>
</TBODY></TABLE>
<P class="bubble note"><STRONG>Note</STRONG><BR>In the current version, the <CITE>ConvertDateTime</CITE> component can validate dates on the client side only in the English locale format.</P>
<P><BR clear="all">
We are continuously extending the set of supported validators. Please <A href="http://www.openfaces.org/support/" rel="nofollow">let us know</A> if you feel that other validators or converters should be supported by the OpenFaces validation framework.</P>

<H2><A name="ValidationFramework-ConfiguringValidationErrorPresentation"></A>Configuring Validation Error Presentation</H2>

<P>The OpenFaces validation framework provides an alternative way to present validation messages to the user: by using&nbsp;the <CITE>FloatingIconMessage</CITE> component.&nbsp;It displays an image over  an invalid component and applies a CSS style to it . See <A href="#ValidationFramework-FloatingIconMessage">FloatingIconMessage</A> for details. This kind of error messaging does not affect the page layout and, therefore, can be used as default validation error presentation. That is, when no standard HTML messages are found to display a client-client validation message, the <CITE>FloatingIconMessage</CITE> is automatically added to the component.</P>

<P>If there are no components to present validation messages to the user, all validation messages are displayed with the <CITE>FloatingIconMessage</CITE> component. This feature is turned on even if there is no client-side validation. You can specify whether to use default validation presentation or not by using the <SPAN class="attribute">org.openfaces.validation.useDefaultServerPresentation</SPAN> and <SPAN class="attribute">org.openfaces.validation.useDefaultClientPresentation</SPAN> application context parameters. These parameters should be specified in web.xml and by default are set to <SPAN class="code_area_values">&quot;true&quot;</SPAN> (for more details, see the <A href="#ValidationFramework-ApplicationSettings">Application Settings</A> section). These parameters also can be used for a certain form. To define whether or not to use default validation presentation for the form, you should specify the <SPAN class="attribute">useDefaultServerValidationPresentation</SPAN> and <SPAN class="attribute">useDefaultClientValidationPresentation</SPAN> attributes for the <CITE>ClientValidationSupport</CITE> component (for more details, see the <A href="#ValidationFramework-ClientValidationSupportComponent">ClientValidationSupport Component</A> section).</P>

<P>By default, validation messages in the entire application are displayed with the <CITE>FloatingIconMessage</CITE> component. You can specify a different component for default validation presentation with the <SPAN class="attribute">org.openfaces.validation.defaultPresentationClass</SPAN> application context parameter. In this parameter, you should define a fully-qualified class name of the component that will be used for default validation presentation and that extends the UIMessage class. For more details, see the <A href="#ValidationFramework-ApplicationSettings">Application Settings</A> section.</P>

<P>You can also specify a component for default validation presentation for a particular form. In this case, you should define the component which is used for default presentation as a child tag for the <CITE>ClientValidationSupport</CITE> component (for more details, see the <A href="#ValidationFramework-ClientValidationSupportComponent">ClientValidationSupport Component</A> section).</P>

<H3><A name="ValidationFramework-CustomizingValidationMessages"></A>Customizing Validation Messages</H3>

<P>Validation messages used by client-side validators and converters are the same as for the corresponding server-side validators. The messages used by OpenFaces validators can be configured either by message resource bundles , just like for standard JSF validators or as attributes of the validator tags. See the section <A href="#ValidationFramework-ConfiguringValidatorMessages">Configuring Validator Messages</A> for more details.</P>

<P>For the OpenFaces validators, you can define the summary and detail messages in place, as the corresponding validator attributes. For example:</P>
<PRE class="code_area">&lt;o:validateCustom clientFunction=<SPAN class="code_area_values">&quot;<SPAN class="code-keyword">return</SPAN> value.length&gt;0;&quot;</SPAN>
                   detail=<SPAN class="code_area_values">&quot;field with id = \{0\} is required&quot;</SPAN>
                   summary=<SPAN class="code_area_values">&quot;validation error&quot;</SPAN> /&gt;</PRE>
<P>Default validator messages of the OpenFaces validators are listed below:</P>
<TABLE class="Table"><TBODY>
<TR>
<TH scope="col"> Validator ID </TH>
<TH scope="col"> Default messages </TH>
</TR>
<TR>
<TD> <CITE>org.openfaces.Custom</CITE> </TD>
<TD> summary = Validation Error; detail = validation error in input '' {0}'' </TD>
</TR>
<TR>
<TD> <CITE>org.openfaces.RegularExpression</CITE> </TD>
<TD> summary = Regex Validator Error; detail = '' {0}'': does not match regex </TD>
</TR>
<TR>
<TD> <CITE>org.openfaces.EMail</CITE> </TD>
<TD> summary = E-mail Validator Error; detail = '' {0}'': not a valid e-mail </TD>
</TR>
<TR>
<TD> <CITE>org.openfaces.URL</CITE> </TD>
<TD> summary = URL Validator Error; detail = '' {0}'': not a valid URL </TD>
</TR>
<TR>
<TD> <CITE>org.openfaces.Equal</CITE> </TD>
<TD> summary = Equal Validator Error; detail = '' {0}'' must be equal to the '' {1}'' (where {1} is the client id of the second input </TD>
</TR>
</TBODY></TABLE>

<H2><A name="ValidationFramework-ValidationTriggering"></A>Validation Triggering</H2>

<P>When client-side validation is triggered for a specific set of components, all validators attached to these components are evaluated. If any validator fails, the failed validation results are shown using the available <A href="#ValidationFramework-ConfiguringValidationErrorPresentation">messages component</A>.</P>

<P>Client-side validation can be triggered in one of the following ways:</P>
<UL>
	<LI>Automatic (the <SPAN class="attribute">clientValidation</SPAN> attribute is set to <SPAN class="code_area_values">&quot;onSubmit&quot;</SPAN>) - Validation is triggered before any form submission. All the components on the form that have client-side validators are validated. If validation fails, the form is not submitted. You can submit a form without triggering the client-side validation by using the <SPAN class="attribute">O$.submitWithoutValidation()</SPAN> function (see the section <A href="#ValidationFramework-ClientSideAPI">Client&#45;Side API</A> for more details). You can also exclude a particular component from automatic validation by setting the <SPAN class="attribute">clientValidation</SPAN> attribute to <SPAN class="code_area_values">&quot;onDemand&quot;</SPAN>.</LI>
	<LI>Manual (the <SPAN class="attribute">clientValidation</SPAN> attribute is set to <SPAN class="code_area_values">&quot;onDemand&quot;</SPAN>) - Validation is triggered from JavaScript code by using the validation <A href="#ValidationFramework-ClientSideAPI">Client&#45;Side API</A>. This way you can validate individual components or all the components on a form. You can use manual validation triggering whenever you want, no matter what other configuration is, provided that client-side validators are assigned to the components.</LI>
</UL>


<H2><A name="ValidationFramework-ValidatedComponentsSet"></A>Validated Components Set</H2>

<P>The client-side validators are assigned to a component, if all of the following conditions are true:</P>
<UL class="alternate" type="square">
	<LI>Client-side validation is turned on for the component at the <A href="#ValidationFramework-Percomponent">Per&#45;component</A>, <A href="#ValidationFramework-Formwide">Form&#45;wide</A> or <A href="#ValidationFramework-Applicationwide">Application&#45;wide</A> levels and is not turned off at lower  levels.</LI>
	<LI>The component is laid out on a form.</LI>
	<LI>The component implements the <SPAN class="attribute">javax.faces.component.EditableValueHolder</SPAN> interface.</LI>
	<LI>The component's <SPAN class="attribute">rendered</SPAN> attribute equals <SPAN class="code_area_values">&quot;true&quot;</SPAN> in the render response phase (so it  is actually rendered).</LI>
</UL>


<P>See the section <A href="#ValidationFramework-ClientSideComponentValue">Client&#45;Side Component Value</A> for the description of how the validated value is retrieved for the component.</P>

<H2><A name="ValidationFramework-OpenFacesValidationFrameworkAPI"></A>OpenFaces Validation Framework API</H2>


<H3><A name="ValidationFramework-ApplicationSettings"></A>Application Settings</H3>

<P><A name="ValidationFramework-org.openfaces.validation.clientValidation"></A><BR>
The <SPAN class="attribute">org.openfaces.validation.clientValidation</SPAN> application-scope context parameter in web.xml file specifies the application-wide settings of the OpenFaces validation framework.</P>
<TABLE class="Table"><TBODY>
<TR>
<TH scope="col"> Values </TH>
<TH scope="col"> Description </TH>
</TR>
<TR>
<TD> <SPAN class="code_area_values">off</SPAN> </TD>
<TD> Client-side validation is turned off for the application. This is the default value. </TD>
</TR>
<TR>
<TD> <SPAN class="code_area_values">onDemand</SPAN> </TD>
<TD> Client-side validation is turned on for all the components within the application, but it is not triggered automatically. <A href="#ValidationFramework-ClientSideAPI">Client&#45;Side API</A> should be used to trigger validation. </TD>
</TR>
<TR>
<TD> <SPAN class="code_area_values">onSubmit</SPAN> </TD>
<TD> Client-side validation is turned on for all the components within the application, and it is triggered automatically before each form submission. </TD>
</TR>
</TBODY></TABLE>
<P>The application-wide settings can be overridden on the <A href="#ValidationFramework-ClientValidationSupportComponent">form-wide</A> and <A href="#ValidationFramework-ComponentAttributes">per-component</A> levels.</P>
<PRE class="code_area">&lt;web-app&gt;
...
&lt;context-param&gt;
    &lt;param-name&gt;org.openfaces.validation.clientValidation&lt;/param-name&gt;
    &lt;param-value&gt;onSubmit&lt;/param-value&gt;
&lt;/context-param&gt;
...
&lt;/web-app&gt;</PRE>
<P><A name="ValidationFramework-useDefaultClientValidationPresentation"></A><BR>
The <SPAN class="attribute">org.openfaces.validation.useDefaultClientPresentation</SPAN> application-scope context parameter in web.xml file specifies whether validatable components use the default presentation if no validation or conversion error presentation is set for these components. This property is relevant when client-side validation is turned on for the application.</P>

<P>Type: boolean</P>

<P>Values:</P>
<TABLE class="Table"><TBODY>
<TR>
<TH scope="col"> Values </TH>
<TH scope="col"> Description </TH>
</TR>
<TR>
<TD> <SPAN class="code_area_values">true</SPAN> </TD>
<TD> Default client-side validation presentation is turned on for all the components that don't have their own presentations (like <SPAN class="tag">&lt;h:message&gt;</SPAN>). <BR clear="all"> </TD>
</TR>
<TR>
<TD> <SPAN class="code_area_values">false</SPAN> </TD>
<TD> Default client-side validation presentation is turned off for all the components that don't have their own presentations. Yet, if client-side validation is turned on, the components will be validated without any presentation. <BR clear="all"> </TD>
</TR>
</TBODY></TABLE>
<P>Default value: <SPAN class="code_area_values">&quot;true&quot;</SPAN></P>

<P>The application-wide settings can be overridden at the <A href="#ValidationFramework-ClientValidationSupportComponent">form-wide</A> and <A href="#ValidationFramework-ComponentAttributes">per-component</A> levels.</P>
<PRE class="code_area">&lt;context-param&gt;
    &lt;param-name&gt;org.openfaces.validation.useDefaultClientPresentation&lt;/param-name&gt;
    &lt;param-value&gt;<SPAN class="code-keyword">true</SPAN>&lt;/param-value&gt;
&lt;/context-param&gt;</PRE>
<P><A name="ValidationFramework-useDefaultServerValidationPresentation"></A><BR>
The <SPAN class="attribute">org.openfaces.validation.useDefaultServerPresentation</SPAN> application-scope context parameter in web.xml file specifies whether validatable components use the default presentation if no validation or conversion error presentation is set for these components or not. This property is relevant when client-side validation is turned off for the application.</P>

<P>Type: boolean</P>

<P>Values:</P>
<TABLE class="Table"><TBODY>
<TR>
<TH scope="col"> Values </TH>
<TH scope="col"> Description </TH>
</TR>
<TR>
<TD> <SPAN class="code_area_values">true</SPAN> </TD>
<TD> Default server-side validation presentation is turned on for all the components that do not have their own presentations (like <SPAN class="tag">&lt;h:message&gt;</SPAN>). <BR clear="all"> </TD>
</TR>
<TR>
<TD> <SPAN class="code_area_values">false</SPAN> </TD>
<TD> No default server-side validation presentation is provided, like it would without OpenFaces. </TD>
</TR>
</TBODY></TABLE>
<P>Default value: <SPAN class="code_area_values">&quot;true&quot;</SPAN></P>

<P>The application-wide settings can be overridden at the <A href="#ValidationFramework-ClientValidationSupportComponent">form</A> and <A href="#ValidationFramework-ComponentAttributes">component</A> levels.</P>
<PRE class="code_area">&lt;context-param&gt;
    &lt;param-name&gt;org.openfaces.validation.useDefaultServerPresentation&lt;/param-name&gt;
    &lt;param-value&gt;<SPAN class="code-keyword">true</SPAN>&lt;/param-value&gt;
&lt;/context-param&gt;</PRE>
<P><A name="ValidationFramework-defaultValidationPresentationClass"></A><BR>
The <SPAN class="attribute">org.openfaces.validation.defaultPresentationClass</SPAN> application-scope context parameter in web.xml file specifies a fully-qualified class name of the component that will be used for the default validation presentation component. The component should extend the <SPAN class="attribute">UIMessage</SPAN> class. If this parameter is omitted, the <A href="#ValidationFramework-FloatingIconMessage">FloatingIconMessage</A> is used as a default validation presentation component.<BR>
Parameters for the validation presentation component are specified as application-scope context parameters in the web.xml file with the name in the form: &lt;component class name without package&gt;.&lt;attribute name&gt;. For example:</P>
<PRE class="code_area">&lt;!-- DEFAULT VALIDATION PRESENTATION CLASS PARAMETER --&gt;
&lt;context-param&gt;
    &lt;param-name&gt;org.openfaces.validation.defaultPresentationClass&lt;/param-name&gt;
    &lt;param-value&gt;org.openfaces.component.validation.FloatingIconMessage&lt;/param-value&gt;
&lt;/context-param&gt;

&lt;!-- DEFAULT VALIDATION PRESENTATION COMPONENT ATTRIBUTES CONFIGURATION --&gt;
&lt;context-param&gt;
    &lt;param-name&gt;FloatingIconMessage.style&lt;/param-name&gt;
    &lt;param-value&gt;background: red;&lt;/param-value&gt;
&lt;/context-param&gt;</PRE>
<P><A name="ValidationFramework-ClientValidationSupport"></A></P>

<H3><A name="ValidationFramework-ClientValidationSupportComponent"></A>ClientValidationSupport Component</H3>

<P>The <CITE>ClientValidationSupport</CITE> component provides configuration of client-side validation for the enclosing form.</P>

<P>Tag: <SPAN class="tag">&lt;o:clientValidationSupport&gt;</SPAN></P>

<P>Example :</P>
<PRE class="code_area">&lt;form id=&quot;form1&gt;
...
    &lt;o:clientValidationSupport
            clientValidation=<SPAN class="code_area_values">&quot;onSubmit&quot;</SPAN>
            useDefaultClientValidationPresentation=<SPAN class="code_area_values">&quot;<SPAN class="code-keyword">true</SPAN>&quot;</SPAN>
            useDefaultServerValidationPresentation=<SPAN class="code_area_values">&quot;<SPAN class="code-keyword">true</SPAN>&quot;</SPAN>&gt;
        &lt;o:floatingIconMessage showDetail=<SPAN class="code_area_values">&quot;<SPAN class="code-keyword">true</SPAN>&quot;</SPAN> showSummary=<SPAN class="code_area_values">&quot;<SPAN class="code-keyword">true</SPAN>&quot;</SPAN> style=<SPAN class="code_area_values">&quot;background: red;&quot;</SPAN>/&gt;
    &lt;/o:clientValidationSupport&gt;
...
&lt;/form&gt;</PRE>
<P>The <CITE>ClientValidationSupport</CITE> component can contain the default validation presentation component as a child defined inside. In this case, the defined presentation component will override the application's <A href="#ValidationFramework-defaultValidationPresentationClass">defaultValidationPresentationClass</A> component and will be used for the enclosing form to display validation or conversion errors.<BR>
Restrictions: It should be placed between the <SPAN class="tag">&lt;form&gt;</SPAN> and <SPAN class="tag">&lt;/form&gt;</SPAN> tags.</P>

<P>Attributes:</P>
<TABLE class="Table"><TBODY>
<TR>
<TH scope="col"> Attribute name </TH>
<TH scope="col"> Type </TH>
<TH scope="col"> EL support </TH>
<TH scope="col"> Default value </TH>
<TH scope="col"> Description </TH>
</TR>
<TR>
<TD> <SPAN class="attribute">clientValidation</SPAN> </TD>
<TD> ClientValidationEnum </TD>
<TD> yes </TD>
<TD> see the <A href="#ValidationFramework-org.openfaces.validation.clientValidation">corresponding</A> application property  </TD>
<TD> <SPAN class="code_area_values">&quot;off&quot;</SPAN> means client-side validation is turned off for the components within a form. <BR clear="all">  <SPAN class="code_area_values">&quot;onDemand&quot;</SPAN> means client-side validation is turned on for the enclosing form, but it will not be automatically triggered. <A href="#ValidationFramework-ClientSideAPI">Client&#45;Side API</A> should be used to trigger client-side validation. <BR clear="all">  <SPAN class="code_area_values">&quot;onSubmit&quot;</SPAN> means client-side validation is turned on for the enclosing form and it is automatically triggered on any form submission. </TD>
</TR>
<TR>
<TD> <SPAN class="attribute">useDefaultClientValidationPresentation</SPAN> </TD>
<TD> Boolean </TD>
<TD> yes </TD>
<TD> see the <A href="#ValidationFramework-useDefaultClientValidationPresentation">corresponding</A> application property </TD>
<TD> <SPAN class="code_area_values">&quot;true&quot;</SPAN> means that in case no validation presentation component is found to display results of the client validation, the default validation presentation component is automatically added to each component with a client-side validator. <BR clear="all">  <SPAN class="code_area_values">&quot;false&quot;</SPAN> means that no presentation will be provided for components without any validation presentation components defined. Yet, client-side validation will trigger for these components. </TD>
</TR>
<TR>
<TD> <SPAN class="attribute">useDefaultServerValidationPresentation</SPAN> </TD>
<TD> Boolean </TD>
<TD> yes </TD>
<TD> see the <A href="#ValidationFramework-useDefaultServerValidationPresentation">corresponding</A> application property </TD>
<TD> <SPAN class="code_area_values">&quot;true&quot;</SPAN> means that in case no validation presentation component is found to display results of the server-side validation, the default validation presentation component is automatically added to each component with a server-side validator. <BR clear="all">  <SPAN class="code_area_values">&quot;false&quot;</SPAN> means that no presentation will be provided for components without any validation presentation components defined. Yet, server-side validation will trigger for these components. </TD>
</TR>
</TBODY></TABLE>

<H3><A name="ValidationFramework-ComponentAttributes"></A>Component Attributes</H3>

<P>To manually enable client-side validation for an individual component, you can use the <SPAN class="attribute">clientValidation</SPAN> attribute by adding it to the component with the standard <SPAN class="tag">&lt;f:attribute&gt;</SPAN> nested tag. This attribute is of <SPAN class="attribute">org.openfaces.renderkit.validation.validator.ClientValidationEnum</SPAN> type and accepts the following values:</P>
<UL>
	<LI><SPAN class="code_area_values">&quot;off&quot;</SPAN> &#45; The component is excluded from the validation process, no matter how the validation is configured at the <A href="#ValidationFramework-ApplicationSettings">application-wide</A> and <A href="#ValidationFramework-ClientValidationSupportComponent">form-wide</A> levels.</LI>
	<LI><SPAN class="code_area_values">&quot;onDemand&quot;</SPAN> &#45; Client-side validation is turned on for the component, but the component is excluded from the validation on automatic validation triggering before the form submission. <A href="#ValidationFramework-ClientSideAPI">Client&#45;Side API</A> should be used to trigger validation explicitly for the component.</LI>
	<LI><SPAN class="code_area_values">&quot;onSubmit&quot;</SPAN> &#45; Client-side validation is turned on for the component and it is validated automatically before the form submission.</LI>
</UL>


<PRE class="code_area">&lt;h:inputText id=<SPAN class="code_area_values">&quot;testInput&quot;</SPAN> required=<SPAN class="code_area_values">&quot;<SPAN class="code-keyword">true</SPAN>&quot;</SPAN> value=<SPAN class="code_area_values">&quot;#{Bean.value}&quot;</SPAN>&gt;
    &lt;f:attribute name=<SPAN class="code_area_values">&quot;clientValidation&quot;</SPAN> value=<SPAN class="code_area_values">&quot;onDemand&quot;</SPAN>/&gt;
 &lt;/h:inputText&gt;</PRE>

<H3><A name="ValidationFramework-ValidationErrorMessageComponent"></A>Validation Error Message Component</H3>

<P>The OpenFaces validation framework provides an alternative way to present validation messages by using the <CITE>FloatingIconMessage</CITE> component.</P>

<H6><A name="ValidationFramework-FloatingIconMessage"></A>FloatingIconMessage</H6>

<P><B>Tag:</B> <SPAN class="tag">&lt;o:floatingIconMessage&gt;</SPAN></P>

<P>The <CITE>FloatingIconMessage</CITE> component allows you to display a validation error of a validated component by changing its appearance and adding a floating icon over  the component. A <CITE>FloatingIconMessage</CITE> does not change the page layout, so it can be added safely without raising any problems with the layout change. The validation error description will be shown through a standard HTML <SPAN class="attribute">title</SPAN> attribute for the invalid component and floating icon .</P>

<P><CITE>FloatingIconMessage</CITE> is the default presentation component for failed validation if no application-wide <A href="#ValidationFramework-defaultValidationPresentationClass">defaultValidationPresentationClass</A> parameter is specified or the <A href="#ValidationFramework-ClientValidationSupport">ClientValidationSupport</A> component doesn't have the default presentation component declaration. This means that if no messages are configured for a component and no application&#45; or form-wide validation presentation component is defined, the <CITE>FloatingIconMessage</CITE> will be automatically added for every component with client-side validators.</P>

<P>Example:</P>
<PRE class="code_area">&lt;form id=<SPAN class="code_area_values">&quot;form1&quot;</SPAN>&gt;
...
    &lt;h:inputText id=<SPAN class="code_area_values">&quot;requiredInput&quot;</SPAN> required=<SPAN class="code_area_values">&quot;<SPAN class="code-keyword">true</SPAN>&quot;</SPAN>/&gt;
    &lt;o:floatingIconMessage <SPAN class="code-keyword">for</SPAN>=<SPAN class="code_area_values">&quot;requiredInput&quot;</SPAN> style=<SPAN class="code_area_values">&quot;border: 2px solid red;&quot;</SPAN>/&gt;
...
&lt;/form&gt;</PRE>
<P>Specific attributes:</P>
<TABLE class="Table"><TBODY>
<TR>
<TH scope="col"> Attribute name </TH>
<TH scope="col"> Type </TH>
<TH scope="col"> EL support </TH>
<TH scope="col"> Default value </TH>
<TH scope="col"> Description </TH>
</TR>
<TR>
<TD> <SPAN class="attribute">for</SPAN> </TD>
<TD> String </TD>
<TD> yes </TD>
<TD> required attribute </TD>
<TD> The id of the validated component. This attribute is required. </TD>
</TR>
<TR>
<TD> <SPAN class="attribute">id</SPAN> </TD>
<TD> String </TD>
<TD> no </TD>
<TD>&nbsp;</TD>
<TD> The component identifier. This value must be unique within the closest parent component that is a named container. </TD>
</TR>
<TR>
<TD> <SPAN class="attribute">showDetail</SPAN> </TD>
<TD> boolean </TD>
<TD> yes </TD>
<TD> <SPAN class="code_area_values">true</SPAN> </TD>
<TD> Flag indicating whether the &quot;detail&quot; portion of displayed messages should be included in the description of the error. </TD>
</TR>
<TR>
<TD> <SPAN class="attribute">showSummary</SPAN> </TD>
<TD> boolean </TD>
<TD> yes </TD>
<TD> <SPAN class="code_area_values">false</SPAN> </TD>
<TD> Flag indicating whether the &quot;summary&quot; portion of displayed messages should be included in the description of the error. </TD>
</TR>
<TR>
<TD> <SPAN class="attribute">imageUrl</SPAN> </TD>
<TD> String </TD>
<TD> yes </TD>
<TD> URL to OpenFaces default icon message </TD>
<TD> URL to the image file that will be used to render the icon near the component in case of failed validation. </TD>
</TR>
<TR>
<TD> <SPAN class="attribute">offsetTop</SPAN> </TD>
<TD> int </TD>
<TD> yes </TD>
<TD> <SPAN class="code_area_values">&#45;4</SPAN> </TD>
<TD> Vertical offset of the icon from the top of the invalid component. </TD>
</TR>
<TR>
<TD> <SPAN class="attribute">offsetLeft</SPAN> </TD>
<TD> int </TD>
<TD> yes </TD>
<TD> <SPAN class="code_area_values">&#45;4</SPAN> </TD>
<TD> Horizontal offset of the icon from the leftmost side of the invalid component. </TD>
</TR>
<TR>
<TD> <SPAN class="attribute">noImage</SPAN> </TD>
<TD> Boolean </TD>
<TD> yes </TD>
<TD> <SPAN class="code_area_values">null</SPAN> </TD>
<TD> If set to <SPAN class="code_area_values">&quot;true&quot;</SPAN>, the icon will not be used over the invalid component. Only the component's style will be changed. The validation message will be assigned to the component's <SPAN class="attribute">title</SPAN> attribute. </TD>
</TR>
<TR>
<TD> <SPAN class="attribute">noStyle</SPAN> </TD>
<TD> Boolean </TD>
<TD> yes </TD>
<TD> <SPAN class="code_area_values">null</SPAN> </TD>
<TD> If set to <SPAN class="code_area_values">&quot;true&quot;</SPAN>, no additional styles will be applied to the components to show the validation error. </TD>
</TR>
<TR>
<TD> <SPAN class="attribute">style</SPAN> </TD>
<TD> String </TD>
<TD> yes </TD>
<TD> <SPAN class="code_area_values">&quot;background: #F8D3D4;&quot;</SPAN> </TD>
<TD> Standard CSS style string with properties  for presenting the component in case of failed validation. </TD>
</TR>
<TR>
<TD> <SPAN class="attribute">styleClass</SPAN> </TD>
<TD> String </TD>
<TD> yes </TD>
<TD> <SPAN class="code_area_values">null</SPAN> </TD>
<TD> Standard CSS class that will be applied to the component in case of failed validation. The class will be applied to the component in addition to its existing CSS style classes. </TD>
</TR>
<TR>
<TD> <SPAN class="attribute">binding</SPAN> </TD>
<TD> FloatingIconMessage </TD>
<TD> only EL </TD>
<TD> <SPAN class="code_area_values">null</SPAN> </TD>
<TD> ValueExpression  linking this component to a property in a backing bean. </TD>
</TR>
</TBODY></TABLE>

<H3><A name="ValidationFramework-ClientSideComponentValue"></A>Client-Side Component Value</H3>

<P></P>

<P>The value of the component to validate during client-side validation is retrieved during validation triggering by following these rules:</P>
<UL>
	<LI>If the component is represented by the element which tag name is &quot;input&quot;, the component.value property is used as a value.</LI>
	<LI>If the component is represented by the element which tag name is &quot;checkbox&quot; or &quot;radio&quot;, the value is <SPAN class="code_area_values">true</SPAN> if the component is <EM>checked</EM> and <SPAN class="code_area_values">false</SPAN> otherwise.</LI>
	<LI>If the component is represented by the element which tag name is &quot;select&quot; and the component type is &quot;select-one&quot;, the collection of options will be obtained and the value of a selected option will be treated as the component value. So if there is no selected option, the value will be an empty string.</LI>
	<LI>If the component is represented by the element which tag name is &quot;select&quot; and the component type is &quot;select-many&quot;, the collection of options will be obtained and the array of selected options will be treated as the component value. If there is no selected option, the value will be an empty string. If there is only one selected option, the array with the one element will be used as the component value.</LI>
	<LI>In all other cases, the component is treated as a container which accommodates other input elements. In the current version, only a group of the elements which can be <EM>checked</EM> is processed. For example, if the component is a layout table with radio buttons, the value of a selected radio button will be used as the value of the whole component.    </LI>
</UL>


<P></P>

<P>You can specify the value to be validated by client-side validation by providing a custom JavaScript function that will be called each time the framework needs to get the component value. You should provide a JavaScript code snippet returning the value of the component by using a standard <SPAN class="tag">&lt;f:attribute&gt;</SPAN> nested tag with the name <EM>clientValueFunction</EM>.</P>

<P>In the example below, the value of the component 'test1' will be returned as the value of the component 'test2' during the client-side validation. .</P>
<PRE class="code_area">&lt;form id=<SPAN class="code_area_values">&quot;testForm&quot;</SPAN>&gt;
  ...
  &lt;h:inputText id=<SPAN class="code_area_values">&quot;test1&quot;</SPAN>/&gt;
  &lt;h:inputText id=<SPAN class="code_area_values">&quot;test2&quot;</SPAN> &gt;
    &lt;f:attribute name=<SPAN class="code_area_values">&quot;clientValueFunction&quot;</SPAN>
     value=&quot;<SPAN class="code-keyword">return</SPAN>
        document.getElementById('testForm:test1').value;&quot; /&gt;
  &lt;/h:inputText&gt;
  ...
&lt;/form&gt;</PRE>

<H3><A name="ValidationFramework-ClientSideAPI"></A>Client-Side API</H3>

<P>The OpenFaces validation framework provides the following client-side functions that can be called from JavaScript.</P>

<H6><A name="ValidationFramework-validate"></A>validate</H6>

<P>Function: <SPAN class="attribute">O$.validate(component)</SPAN></P>

<P>Triggers all present client-side validators for the component represented by the DOM node which is specified in the <EM>component</EM> parameter. The value of the component is determined as described in the section <A href="#ValidationFramework-ClientSideComponentValue">Client&#45;Side Component Value</A>. Client-side validators corresponding to the server-side converters will be processed before other validators. If a converter-corresponding  validator considers the value invalid, the following  validators will not be processed, and only the conversion error message will be shown.</P>

<P><B>Parameters</B><BR>
<B>component</B> &#45; A DOM node representing the component to validate.</P>

<P><B>Return value</B> &#45; boolean, <SPAN class="code_area_values">&quot;true&quot;</SPAN> if the component value is valid, <SPAN class="code_area_values">&quot;false&quot;</SPAN> &#45; otherwise.</P>
<PRE class="code_area">&lt;form id=<SPAN class="code_area_values">&quot;testForm&quot;</SPAN>&gt;
  ...
  &lt;h:inputText id=<SPAN class="code_area_values">&quot;requiredInput&quot;</SPAN>
               required=<SPAN class="code_area_values">&quot;<SPAN class="code-keyword">true</SPAN>&quot;</SPAN>
               onchange=<SPAN class="code_area_values">&quot;O$.validate(<SPAN class="code-keyword">this</SPAN>);&quot;</SPAN>/&gt;
  &lt;o:floatingIconMessage <SPAN class="code-keyword">for</SPAN>=<SPAN class="code_area_values">&quot;requiredInput&quot;</SPAN>
                         style=<SPAN class="code_area_values">&quot;border: 2px solid red;&quot;</SPAN>/&gt;
  ...
&lt;/form&gt;</PRE>

<H6><A name="ValidationFramework-validateById"></A>validateById</H6>

<P>Function: <SPAN class="attribute">O$.validateById(component_id)</SPAN></P>

<P>Triggers all present client-side validators for the component with the id specified in the <EM>component_id</EM> parameter. It is equivalent to finding the component by id and then invoking the <SPAN class="attribute">O$.validate(component)</SPAN> function.</P>

<P><B>Parameters</B><BR>
<B>component_id</B> &#45; String. A client-side JSF component's id that will be used to retrieve the DOM node representing the component on the client side. The DOM node will be validated .</P>

<P><B>Return value</B> &#45; boolean. <SPAN class="code_area_values">&quot;true&quot;</SPAN> if the component value is valid, <SPAN class="code_area_values">&quot;false&quot;</SPAN> &#45; otherwise.</P>
<PRE class="code_area">&lt;form id=<SPAN class="code_area_values">&quot;testForm&quot;</SPAN>&gt;
  ...
  &lt;h:inputText id=<SPAN class="code_area_values">&quot;requiredInput&quot;</SPAN> required=<SPAN class="code_area_values">&quot;<SPAN class="code-keyword">true</SPAN>&quot;</SPAN> /&gt;
  &lt;o:floatingIconMessage <SPAN class="code-keyword">for</SPAN>=<SPAN class="code_area_values">&quot;requiredInput&quot;</SPAN>
                         style=<SPAN class="code_area_values">&quot;border: 2px solid red;&quot;</SPAN>/&gt;
  &lt;h:commandButton action=<SPAN class="code_area_values">&quot;#{Bean.action}&quot;</SPAN>
                   onclick=<SPAN class="code_area_values">&quot;O$.validateById('testForm:requiredInput');&quot;</SPAN>/&gt;
  ...
&lt;/form&gt;</PRE>

<H6><A name="ValidationFramework-validateForm"></A>validateForm</H6>

<P>Function: <SPAN class="attribute">O$.validateForm(form)</SPAN></P>

<P>Triggers all present client-side validators for all the components within the form specified in the <EM>form</EM> parameter. It is equivalent to invoking the <SPAN class="attribute">O$.validate(component)</SPAN> function for all the components within a form.  In the current version, validation is triggered for all the components rendered on the server side and included into the response. If on the client side, the <SPAN class="attribute">visible</SPAN> property  is set to <SPAN class="code_area_values">&quot;false&quot;</SPAN>, the validation will be triggered anyway.</P>

<P><B>Parameters</B><BR>
<B>form</B> &#45; A DOM node representing the form to validate.</P>

<P><B>Return value</B> &#45; boolean. <SPAN class="code_area_values">&quot;true&quot;</SPAN> if all components within a specified form are valid, <SPAN class="code_area_values">&quot;false&quot;</SPAN> &#45; if there is even one invalid component within a form.</P>
<PRE class="code_area">&lt;form id=<SPAN class="code_area_values">&quot;testForm&quot;</SPAN>&gt;
  ...
  &lt;h:inputText id=<SPAN class="code_area_values">&quot;requiredInput&quot;</SPAN> required=<SPAN class="code_area_values">&quot;<SPAN class="code-keyword">true</SPAN>&quot;</SPAN> /&gt;
  &lt;o:floatingIconMessage <SPAN class="code-keyword">for</SPAN>=<SPAN class="code_area_values">&quot;requiredInput&quot;</SPAN>
                         style=<SPAN class="code_area_values">&quot;border: 2px solid red;&quot;</SPAN>/&gt;
  &lt;h:commandButton action=<SPAN class="code_area_values">&quot;#{Bean.action}&quot;</SPAN>
     onclick=<SPAN class="code_area_values">&quot;O$.validateForm(document.getElementById('testForm'));&quot;</SPAN>/&gt;
  ...
&lt;/form&gt;</PRE>

<H6><A name="ValidationFramework-validateFormById"></A>validateFormById</H6>

<P>Function: <SPAN class="attribute">O$.validateFormById(form_id)</SPAN></P>

<P>Triggers all present client-side validators for all the components within the form whose id is specified in the <EM>form_id</EM> parameter. It is equivalent to invoking the <SPAN class="attribute">O$.validate(component)</SPAN> function for all the components within the form.</P>

<P><B>Parameters</B><BR>
<B>form_id</B> &#45; String. A client-side JSF form component's id that will be used to retrieve the DOM representing the form on the client side. This form will be validated.</P>

<P><B>Return value</B> &#45; boolean. <SPAN class="code_area_values">&quot;true&quot;</SPAN> if all components within a specified form are valid, <SPAN class="code_area_values">&quot;false&quot;</SPAN> &#45; if there is even one invalid component within a form.</P>
<PRE class="code_area">&lt;form id=<SPAN class="code_area_values">&quot;testForm&quot;</SPAN>&gt;
  ...
  &lt;h:inputText id=<SPAN class="code_area_values">&quot;requiredInput&quot;</SPAN> required=<SPAN class="code_area_values">&quot;<SPAN class="code-keyword">true</SPAN>&quot;</SPAN> /&gt;
  &lt;o:floatingIconMessage <SPAN class="code-keyword">for</SPAN>=<SPAN class="code_area_values">&quot;requiredInput&quot;</SPAN>
                         style=<SPAN class="code_area_values">&quot;border: 2px solid red;&quot;</SPAN>/&gt;
  &lt;h:commandButton action=<SPAN class="code_area_values">&quot;#{Bean.action}&quot;</SPAN>
                   onclick=<SPAN class="code_area_values">&quot;O$.validateFormById('testForm');&quot;</SPAN>/&gt;
  ...
&lt;/form&gt;</PRE>

<H6><A name="ValidationFramework-validateEnclosingForm"></A>validateEnclosingForm</H6>

<P>Function: <SPAN class="attribute">O$.validateEnclosingForm(component)</SPAN></P>

<P>Triggers all present client-side validators for all the components within the form containing the component specified in the <EM>component</EM> parameter. It is equivalent to invoking the <SPAN class="attribute">O$.validate(component)</SPAN> function for all the components within the form.</P>

<P><B>Parameters</B><BR>
<B>component</B> &#45; A DOM node representing the component whose parent form is validated.</P>

<P><B>Return value</B> &#45; boolean. <SPAN class="code_area_values">&quot;true&quot;</SPAN> if all components within the form to which the specified component belongs are valid, <SPAN class="code_area_values">&quot;false&quot;</SPAN> &#45; if there is even one invalid component within the form.</P>
<PRE class="code_area">&lt;form id=<SPAN class="code_area_values">&quot;testForm&quot;</SPAN>&gt;
  ...
  &lt;h:inputText id=<SPAN class="code_area_values">&quot;requiredInput&quot;</SPAN> required=<SPAN class="code_area_values">&quot;<SPAN class="code-keyword">true</SPAN>&quot;</SPAN> /&gt;
  &lt;o:floatingIconMessage <SPAN class="code-keyword">for</SPAN>=<SPAN class="code_area_values">&quot;requiredInput&quot;</SPAN>
                         style=<SPAN class="code_area_values">&quot;border: 2px solid red;&quot;</SPAN>/&gt;
  &lt;h:commandButton action=<SPAN class="code_area_values">&quot;#{Bean.action}&quot;</SPAN>
                   onclick=<SPAN class="code_area_values">&quot;O$.validateEnclosingForm(<SPAN class="code-keyword">this</SPAN>);&quot;</SPAN>/&gt;
  ...
&lt;/form&gt;</PRE>

<H6><A name="ValidationFramework-submitWithoutValidation"></A>submitWithoutValidation</H6>

<P>Function: <SPAN class="attribute">O$.submitWithoutValidation(component)</SPAN></P>

<P>Submits the form containing the component specified in the <EM>component</EM> parameter by skipping client-side validation triggering.</P>

<P><B>Parameters</B><BR>
<B>component</B> &#45; A DOM node representing the component whose form is submitted.</P>
<PRE class="code_area">&lt;form id=<SPAN class="code_area_values">&quot;testForm&quot;</SPAN>&gt;
...
    &lt;h:inputText id=<SPAN class="code_area_values">&quot;requiredInput&quot;</SPAN> required=<SPAN class="code_area_values">&quot;<SPAN class="code-keyword">true</SPAN>&quot;</SPAN> /&gt;
    &lt;o:floatingIconMessage <SPAN class="code-keyword">for</SPAN>=<SPAN class="code_area_values">&quot;requiredInput&quot;</SPAN> style=<SPAN class="code_area_values">&quot;border: 2px solid red;&quot;</SPAN>/&gt;
    &lt;h:commandButton action=<SPAN class="code_area_values">&quot;#{Bean.action}&quot;</SPAN>
                     onclick=<SPAN class="code_area_values">&quot;O$.submitWithoutValidation(<SPAN class="code-keyword">this</SPAN>);&quot;</SPAN>/&gt;
...
&lt;/form&gt;</PRE>

<H6><A name="ValidationFramework-resetFormValidation"></A>resetFormValidation</H6>

<P>Function: <SPAN class="attribute">O$.resetFormValidation(form)</SPAN></P>

<P>Resets all client-side validators and clears validation messages for all the input components within the form specified in the <SPAN class="attribute">form</SPAN> parameter.</P>

<P><B>Parameters</B><BR>
<SPAN class="attribute">form</SPAN> &#45; A DOM node representing the form to reset validation.</P>
<PRE class="code_area">&lt;form id=<SPAN class="code_area_values">&quot;testForm&quot;</SPAN>&gt;
  ...
  &lt;h:inputText id=<SPAN class="code_area_values">&quot;requiredInput&quot;</SPAN> required=<SPAN class="code_area_values">&quot;<SPAN class="code-keyword">true</SPAN>&quot;</SPAN> /&gt;
  &lt;o:floatingIconMessage <SPAN class="code-keyword">for</SPAN>=<SPAN class="code_area_values">&quot;requiredInput&quot;</SPAN>
                         style=<SPAN class="code_area_values">&quot;border: 2px solid red;&quot;</SPAN>/&gt;
  &lt;h:commandButton value=<SPAN class="code_area_values">&quot;Cancel&quot;</SPAN> action=<SPAN class="code_area_values">&quot;back&quot;</SPAN>
     onclick=<SPAN class="code_area_values">&quot;O$.resetFormValidation(document.getElementById('testForm'));&quot;</SPAN>/&gt;
  ...
&lt;/form&gt;</PRE>

<H6><A name="ValidationFramework-resetFormValidationById"></A>resetFormValidationById</H6>

<P>Function: <SPAN class="attribute">O$.resetFormValidationById(formId)</SPAN></P>

<P>Resets all client-side validators and clears validation messages for all the input components within the form whose id is specified in the <SPAN class="attribute">form_id</SPAN> parameter.</P>

<P><B>Parameters</B><BR>
<SPAN class="attribute">form_id</SPAN> &#45; String. A client-side JSF form component's id that will be used to retrieve the DOM representing the form on the client side. The validation will be reset for this form.</P>
<PRE class="code_area">&lt;form id=<SPAN class="code_area_values">&quot;testForm&quot;</SPAN>&gt;
  ...
  &lt;h:inputText id=<SPAN class="code_area_values">&quot;requiredInput&quot;</SPAN> required=<SPAN class="code_area_values">&quot;<SPAN class="code-keyword">true</SPAN>&quot;</SPAN> /&gt;
  &lt;o:floatingIconMessage <SPAN class="code-keyword">for</SPAN>=<SPAN class="code_area_values">&quot;requiredInput&quot;</SPAN>
                         style=<SPAN class="code_area_values">&quot;border: 2px solid red;&quot;</SPAN>/&gt;
  &lt;h:commandButton action=<SPAN class="code_area_values">&quot;back&quot;</SPAN> value=<SPAN class="code_area_values">&quot;Cancel&quot;</SPAN>
                   onclick=<SPAN class="code_area_values">&quot;O$.resetFormValidationById('testForm');&quot;</SPAN>/&gt;
  ...
&lt;/form&gt;</PRE>

<H6><A name="ValidationFramework-resetEnclosingFormValidation"></A>resetEnclosingFormValidation</H6>

<P>Function: <SPAN class="attribute">O$.resetEnclosingFormValidation(element)</SPAN></P>

<P>Resets all client-side validators and clears validation messages for all the input components within the form containing the component specified in the <SPAN class="attribute">component</SPAN> parameter.</P>

<P><B>Parameters</B><BR>
<SPAN class="attribute">component</SPAN> &#45; A DOM node representing the component. The validation will be reset for the parent form of this component.</P>
<PRE class="code_area">&lt;form id=<SPAN class="code_area_values">&quot;testForm&quot;</SPAN>&gt;
  ...
  &lt;h:inputText id=<SPAN class="code_area_values">&quot;requiredInput&quot;</SPAN> required=<SPAN class="code_area_values">&quot;<SPAN class="code-keyword">true</SPAN>&quot;</SPAN> /&gt;
  &lt;o:floatingIconMessage <SPAN class="code-keyword">for</SPAN>=<SPAN class="code_area_values">&quot;requiredInput&quot;</SPAN>
                         style=<SPAN class="code_area_values">&quot;border: 2px solid red;&quot;</SPAN>/&gt;
  &lt;h:commandButton action=<SPAN class="code_area_values">&quot;back&quot;</SPAN> value=<SPAN class="code_area_values">&quot;Cancel&quot;</SPAN>
                   onclick=<SPAN class="code_area_values">&quot;O$.validateEnclosingForm(<SPAN class="code-keyword">this</SPAN>);&quot;</SPAN>/&gt;
  ...
&lt;/form&gt;</PRE>

<H3><A name="ValidationFramework-OpenFacesValidators"></A>OpenFaces Validators</H3>

<P>The OpenFaces validation framework provides several validators to complement a set of standard JSF validators. All the OpenFaces validators are supported both on the server and client side. In addition, they come with the attributes that allow you to specify validation messages for each validator.</P>

<H6><A name="ValidationFramework-org.openfaces.Custom"></A>org.openfaces.Custom</H6>

<P>Allows you to write custom code to validate a value. This validator has two attributes to specify the code to validate a value: <SPAN class="attribute">clientFunction</SPAN> and <SPAN class="attribute">serverFunction</SPAN>. The <SPAN class="attribute">clientFunction</SPAN> attribute should contain a JavaScript function that returns a boolean value. The <SPAN class="attribute">serverFunction</SPAN> attribute should be specified as a method-binding expression that references a method that should validate a value. Please note that the <SPAN class="attribute">serverFunction</SPAN> attribute is only effective for the server-side validation and the <SPAN class="attribute">clientFunction</SPAN> attribute &#45;&#45; for the client side validation. So, to make <SPAN class="tag">&lt;o:validateCustom&gt;</SPAN> work both on the server and client side, you should write the validation logic twice: in the JavaScript function and in the Java method.</P>

<P><B>Tag:</B> <SPAN class="tag">&lt;o:validateCustom&gt;</SPAN><BR>
<B>Validator ID:</B> org.openfaces.Custom </P>

<P>Attributes:</P>
<TABLE class="Table"><TBODY>
<TR>
<TH scope="col"> Name </TH>
<TH scope="col"> Type </TH>
<TH scope="col"> EL support </TH>
<TH scope="col"> Default value </TH>
<TH scope="col"> Description </TH>
</TR>
<TR>
<TD> <SPAN class="attribute">clientFunction</SPAN> </TD>
<TD> String </TD>
<TD> yes </TD>
<TD> <SPAN class="code_area_values">null</SPAN> </TD>
<TD> The parameter should contain JavaScript code returning a boolean value (<SPAN class="code_area_values">&quot;true&quot;</SPAN> for valid). The following variables are available: <BR clear="all">
<EM>input</EM> &#45; the DOM element for which the validator was specified. <BR clear="all">
<EM>value</EM> &#45; the value of the element to validate. </TD>
</TR>
<TR>
<TD> <SPAN class="attribute">serverFunction</SPAN> </TD>
<TD> javax.el.MethodExpression <BR clear="all">
(signature must match boolean action(FacesContext context, UIComponent component, Object value)) </TD>
<TD>&nbsp;</TD>
<TD> <SPAN class="code_area_values">null</SPAN> </TD>
<TD> Reference to the method to validate the value on the server. The following variables are available: <BR clear="all">
<EM>context</EM> &#45; FacesContext  <BR clear="all">
<EM>component</EM> &#45; validated component  <BR clear="all">
<EM>value</EM> &#45; a validated value. <BR clear="all">
The code must return a boolean value (<SPAN class="code_area_values">&quot;true&quot;</SPAN> for valid). </TD>
</TR>
<TR>
<TD> <SPAN class="attribute">summary</SPAN> </TD>
<TD> String </TD>
<TD> yes </TD>
<TD> <SPAN class="code_area_values">null</SPAN> </TD>
<TD> The summary description of a validation error. The default value is specified in <A href="#ValidationFramework-OpenFacesMessageBundle">OpenFaces Message Bundle</A>. See the section <A href="#ValidationFramework-ConfiguringValidatorMessages">Configuring Validator Messages</A> for additional information. </TD>
</TR>
<TR>
<TD> <SPAN class="attribute">detail</SPAN> </TD>
<TD> String </TD>
<TD> yes </TD>
<TD> <SPAN class="code_area_values">null</SPAN> </TD>
<TD> The detailed description of a validation error. The default value is specified in <A href="#ValidationFramework-OpenFacesMessageBundle">OpenFaces Message Bundle</A>. See the section <A href="#ValidationFramework-ConfiguringValidatorMessages">Configuring Validator Messages</A> for additional information. </TD>
</TR>
</TBODY></TABLE>
<P>  The validation checks on the client and server sides are completely independent and do not interact. If both functions, clientFunction and serverFunction, are omitted, this validator will have no sense, but this situation is not checked by the framework because it will not cause any trouble.</P>
<P class="bubble note"><STRONG>Note</STRONG><BR>The JavaScript code provided as the <EM>clientFunction</EM> parameter will be wrapped into a JavaScript function and invoked during client-side validation. The server-side method referenced with the <EM>serverFunction</EM> parameter will be invoked during a standard JSF validation phase on the server side .</P>
<P>Suppose there's a page with a text field for entering card code information. If a card with this code exists in the database, the user can see detailed information from this card. The code starts with &quot;IC&quot; and should not exceed the length of 10 characters. We could check these validation rules on the client side, but we need to check whether there is a card with certain code in the database.<BR>
Page:</P>
<PRE class="code_area">&lt;h:form&gt;
 Please, enter a card code:
 &lt;h:inputText id=<SPAN class="code_area_values">&quot;cardCodeField&quot;</SPAN>&gt;
      &lt;o:validateCustom clientFunction=<SPAN class="code_area_values">&quot;<SPAN class="code-keyword">return</SPAN> (value.length&gt;0 &amp;&amp; value.indexOf('IC')==0);&quot;</SPAN>
               detail=<SPAN class="code_area_values">&quot;Card code should start with 'IC' and should be 10 characters <SPAN class="code-object">long</SPAN>.&quot;</SPAN>
               summary=<SPAN class="code_area_values">&quot;Card code validation error.&quot;</SPAN>/&gt;
     &lt;o:validateCustom serverFunction=<SPAN class="code_area_values">&quot;#{Bean.testCardCode}&quot;</SPAN>
               detail=<SPAN class="code_area_values">&quot;Please check the card code. There is no card with code provided.&quot;</SPAN>
               summary=<SPAN class="code_area_values">&quot;Card code validation error.&quot;</SPAN>/&gt;

&lt;/h:inputText&gt;
&lt;h:commandButton id=<SPAN class="code_area_values">&quot;viewCardButton&quot;</SPAN> action=<SPAN class="code_area_values">&quot;viewCard&quot;</SPAN> value=<SPAN class="code_area_values">&quot;view card&quot;</SPAN>/&gt;
&lt;/h:form&gt;</PRE>
<P>Backing bean:</P>
<PRE class="code_area"><SPAN class="code-keyword">public</SPAN> class Bean(){
  ...
  <SPAN class="code-keyword">public</SPAN> <SPAN class="code-object">boolean</SPAN> testCardCode(FacesContext context, UIComponent component, <SPAN class="code-object">Object</SPAN> value){
     Card card = CardCode.findCardByCode(value);
     <SPAN class="code-keyword">return</SPAN> card!=<SPAN class="code-keyword">null</SPAN>;
  }
  ...
}</PRE>
<P>The example above uses two validators, but it is possible to use <SPAN class="attribute">clientFunction</SPAN> and <SPAN class="attribute">serverFunction</SPAN> at the same time in one validator, provided they have the same error description.</P>

<H6><A name="ValidationFramework-org.openfaces.RegularExpression"></A>org.openfaces.RegularExpression</H6>

<P>Ensures that a value matches the pattern described as a regular expression in the <EM>pattern</EM> attribute.</P>

<P><B>Tag:</B> <SPAN class="tag">&lt;o:validateRegex&gt;</SPAN><BR>
<B>ValidatorID:</B> org.openfaces.RegularExpression</P>

<P>Attributes:</P>
<TABLE class="Table"><TBODY>
<TR>
<TH scope="col"> Name </TH>
<TH scope="col"> Type </TH>
<TH scope="col"> EL support </TH>
<TH scope="col"> Default value </TH>
<TH scope="col"> Description </TH>
</TR>
<TR>
<TD> <SPAN class="attribute">pattern</SPAN> </TD>
<TD> String </TD>
<TD> yes </TD>
<TD> <SPAN class="code_area_values">null</SPAN> </TD>
<TD> String representation of a regular expression in JavaScript form.  </TD>
</TR>
<TR>
<TD> <SPAN class="attribute">summary</SPAN> </TD>
<TD> String </TD>
<TD> yes </TD>
<TD> <SPAN class="code_area_values">null</SPAN> </TD>
<TD> The summary description of a validation error. The default value is specified in <A href="#ValidationFramework-OpenFacesMessageBundle">OpenFaces Message Bundle</A>. See the section <A href="#ValidationFramework-ConfiguringValidatorMessages">Configuring Validator Messages</A> for additional information. </TD>
</TR>
<TR>
<TD> <SPAN class="attribute">detail</SPAN> </TD>
<TD> String </TD>
<TD> yes </TD>
<TD> <SPAN class="code_area_values">null</SPAN> </TD>
<TD> The detailed description of a validation error. The default value is specified in <A href="#ValidationFramework-OpenFacesMessageBundle">OpenFaces Message Bundle</A>. See the section <A href="#ValidationFramework-ConfiguringValidatorMessages">Configuring Validator Messages</A> for additional information. </TD>
</TR>
</TBODY></TABLE>
<PRE class="code_area">&lt;h:inputText id=<SPAN class="code_area_values">&quot;regexValidatorField&quot;</SPAN> style=<SPAN class="code_area_values">&quot;width: 120px;&quot;</SPAN>&gt;
  &lt;o:validateRegex
          pattern=<SPAN class="code_area_values">&quot;\+\d\d [(]\d\d\d[)] \d\d\d \d\d \d\d&quot;</SPAN>
          summary=<SPAN class="code_area_values">&quot;Wrong number&quot;</SPAN>
          detail=&quot;Please provide phone number
                  in the following format: +xx (xxx) xxx xx xx&quot;/&gt;
&lt;/h:inputText&gt;</PRE>

<H6><A name="ValidationFramework-org.openfaces.EMail"></A>org.openfaces.EMail</H6>

<P>Ensures that the component has a well-formed e-mail address as a value. It is based on one of the <A href="http://regexlib.com/REDetails.aspx?regexp_id=333" rel="nofollow">regular expressions</A>.</P>

<P><B>Tag:</B> <SPAN class="tag">&lt;o:validateEmail&gt;</SPAN><BR>
<B>ValidatorID:</B> org.openfaces.EMail</P>

<P>Attributes:</P>
<TABLE class="Table"><TBODY>
<TR>
<TH scope="col"> Name </TH>
<TH scope="col"> Type </TH>
<TH scope="col"> EL support </TH>
<TH scope="col"> Default value </TH>
<TH scope="col"> Description </TH>
</TR>
<TR>
<TD> <SPAN class="attribute">summary</SPAN> </TD>
<TD> String </TD>
<TD> yes </TD>
<TD> <SPAN class="code_area_values">null</SPAN> </TD>
<TD> The summary description of a validation error. The default value is specified in <A href="#ValidationFramework-OpenFacesMessageBundle">OpenFaces Message Bundle</A>. See the section <A href="#ValidationFramework-ConfiguringValidatorMessages">Configuring Validator Messages</A> for additional information. </TD>
</TR>
<TR>
<TD> <SPAN class="attribute">detail</SPAN> </TD>
<TD> String </TD>
<TD> yes </TD>
<TD> <SPAN class="code_area_values">null</SPAN> </TD>
<TD> The detail description of a validation error. The default value is specified in <A href="#ValidationFramework-OpenFacesMessageBundle">OpenFaces Message Bundle</A>. See the section <A href="#ValidationFramework-ConfiguringValidatorMessages">Configuring Validator Messages</A> for additional information. </TD>
</TR>
</TBODY></TABLE>
<PRE class="code_area">&lt;h:inputText id=<SPAN class="code_area_values">&quot;emailValidatorField&quot;</SPAN> style=<SPAN class="code_area_values">&quot;width: 120px;&quot;</SPAN>&gt;
  &lt;o:validateEmail summary=<SPAN class="code_area_values">&quot;Incorrect email&quot;</SPAN>
                    detail=<SPAN class="code_area_values">&quot;Please provide correct email address&quot;</SPAN>/&gt;
&lt;/h:inputText&gt;</PRE>

<H6><A name="ValidationFramework-org.openfaces.URL"></A>org.openfaces.URL</H6>

<P>Ensures that the component has a valid URL as a value. Based on the <A href="http://regexlib.com/REDetails.aspx?regexp_id=819" rel="nofollow">regular expression</A>.</P>

<P><B>Tag:</B> <SPAN class="tag">&lt;o:validateUrl&gt;</SPAN><BR>
<B>ValidatorID:</B> org.openfaces.URL</P>

<P>Attributes:</P>
<TABLE class="Table"><TBODY>
<TR>
<TH scope="col"> Name </TH>
<TH scope="col"> Type </TH>
<TH scope="col"> EL support </TH>
<TH scope="col"> Default value </TH>
<TH scope="col"> Description </TH>
</TR>
<TR>
<TD> <SPAN class="attribute">summary</SPAN> </TD>
<TD> String </TD>
<TD> yes </TD>
<TD> <SPAN class="code_area_values">null</SPAN> </TD>
<TD> The summary description of a validation error. The default value is specified in <A href="#ValidationFramework-OpenFacesMessageBundle">OpenFaces Message Bundle</A>. See the section <A href="#ValidationFramework-ConfiguringValidatorMessages">Configuring Validator Messages</A> for additional information. </TD>
</TR>
<TR>
<TD> <SPAN class="attribute">detail</SPAN> </TD>
<TD> String </TD>
<TD> yes </TD>
<TD> <SPAN class="code_area_values">null</SPAN> </TD>
<TD> The detail description of a validation error. The default value is specified in <A href="#ValidationFramework-OpenFacesMessageBundle">OpenFaces Message Bundle</A>. See the section <A href="#ValidationFramework-ConfiguringValidatorMessages">Configuring Validator Messages</A> for additional information. </TD>
</TR>
</TBODY></TABLE>
<PRE class="code_area">&lt;h:inputText id=<SPAN class="code_area_values">&quot;urlValidatorField&quot;</SPAN> style=<SPAN class="code_area_values">&quot;width: 120px;&quot;</SPAN>&gt;
  &lt;o:validateUrl summary=<SPAN class="code_area_values">&quot;Incorrect URL&quot;</SPAN>
                  detail=<SPAN class="code_area_values">&quot;Please provide valid URL address&quot;</SPAN>/&gt;
&lt;/h:inputText&gt;</PRE>

<H6><A name="ValidationFramework-org.openfaces.Equal"></A>org.openfaces.Equal</H6>

<P>Checks that the values of two input components are the same. In the <SPAN class="attribute">for</SPAN> attribute, you should specify the component whose value must be equal to the value of the component the validator is assigned to. A common example is a double password or double e-mail address.</P>

<P><B>Tag:</B> <SPAN class="tag">&lt;o:validateEqual&gt;</SPAN><BR>
<B>ValidatorID:</B> org.openfaces.Equal</P>

<P>Attributes:</P>
<TABLE class="Table"><TBODY>
<TR>
<TH scope="col"> Name </TH>
<TH scope="col"> Type </TH>
<TH scope="col"> EL support </TH>
<TH scope="col"> Default value </TH>
<TH scope="col"> Description </TH>
</TR>
<TR>
<TD> <SPAN class="attribute">for</SPAN> </TD>
<TD> String </TD>
<TD> no </TD>
<TD> <SPAN class="code_area_values">null</SPAN> </TD>
<TD> A string representing the id of the component whose value must be equal to the value of the component this validator is assigned to. </TD>
</TR>
<TR>
<TD> <SPAN class="attribute">summary</SPAN> </TD>
<TD> String </TD>
<TD> yes </TD>
<TD> <SPAN class="code_area_values">null</SPAN> </TD>
<TD> The summary description of a validation error. The default value is specified in <A href="#ValidationFramework-OpenFacesMessageBundle">OpenFaces Message Bundle</A>. See the section <A href="#ValidationFramework-ConfiguringValidatorMessages">Configuring Validator Messages</A> for additional information. </TD>
</TR>
<TR>
<TD> <SPAN class="attribute">detail</SPAN> </TD>
<TD> String </TD>
<TD> yes </TD>
<TD> <SPAN class="code_area_values">null</SPAN> </TD>
<TD> The detailed description of a validation error. The default value is specified in <A href="#ValidationFramework-OpenFacesMessageBundle">OpenFaces Message Bundle</A>. See the section <A href="#ValidationFramework-ConfiguringValidatorMessages">Configuring Validator Messages</A> for additional information. </TD>
</TR>
</TBODY></TABLE>
<P class="bubble note"><STRONG>Note</STRONG><BR>The org.openfaces.Equal must be rendered after the component specified by the <SPAN class="attribute">for</SPAN> attribute.&nbsp;</P>
<PRE class="code_area">&lt;h:inputText id=<SPAN class="code_area_values">&quot;equalValidatorField1&quot;</SPAN> style=<SPAN class="code_area_values">&quot;width: 120px;&quot;</SPAN>&gt;
  &lt;o:validateCustom clientFunction=<SPAN class="code_area_values">&quot;<SPAN class="code-keyword">return</SPAN> value.length &gt; 0&quot;</SPAN>
                     detail=<SPAN class="code_area_values">&quot;Value should not be empty&quot;</SPAN>/&gt;
&lt;/h:inputText&gt;
&lt;h:inputText id=<SPAN class="code_area_values">&quot;equalValidatorField2&quot;</SPAN> style=<SPAN class="code_area_values">&quot;width: 120px;&quot;</SPAN>&gt;
  &lt;o:validateEqual <SPAN class="code-keyword">for</SPAN>=<SPAN class="code_area_values">&quot;equalValidatorField1&quot;</SPAN>/&gt;
&lt;/h:inputText&gt;</PRE>

<H6><A name="ValidationFramework-ConfiguringValidatorMessages"></A>Configuring Validator Messages</H6>

<P></P>

<P>The messages generated by the  validators and converters are handled by JSF normal application message queue and can be displayed with the standard <A href="http://java.sun.com/javaee/javaserverfaces/1.2/docs/tlddocs/h/message.html" rel="nofollow">HtmlMessage</A> and <A href="http://java.sun.com/javaee/javaserverfaces/1.2/docs/tlddocs/h/messages.html" rel="nofollow">HtmlMessages</A> components and OpenFaces <CITE>FloatingIconMessage</CITE> component (for more details, see the section <A href="#ValidationFramework-ValidationErrorMessageComponent">Validation Error Message Component</A> ). Messages  have the summary and detailed description of a validation error. The messages of OpenFaces validators and converters have severity level information  like those of standard JSF validators and converters. These messages are configured using a normal  Java resource bundle called a message bundle with one extra rule for handling the detailed error description. The OpenFaces validation framework supports this way of specifying messages of validators and converters and provides <A href="#ValidationFramework-OpenFacesMessageBundle">OpenFaces Message Bundle</A> that contains default messages for the OpenFaces validators. The client-side validation errors for the standard validators and converters which are ported to the client side are the same as for server-side validation.</P>

<P>In JSF standard,  the parameters in the messages are filled by the framework, and there is a limited number of the parameters. For instance, if there is a parameter {0} in the message, during the rendering phase it will be replaced with the client-side id of the component for which this message will be shown. The OpenFaces validation framework supports all standard parameters  for the specified messages. Also, you can use additional parameters for the OpenFaces validators. Their values should be embedded into the component with a nested <A href="#ValidationFramework-MessageParam">MessageParam</A> tag.</P>

<P>There is one more way to specify the summary and detailed error description for the OpenFaces validators. You can use  the <SPAN class="attribute">summary</SPAN> and <SPAN class="attribute">detail</SPAN> attributes.<BR>
Example:</P>
<PRE class="code_area">&lt;h:inputText id=<SPAN class="code_area_values">&quot;i1&quot;</SPAN>&gt;
     &lt;o:validateEmail detail=<SPAN class="code_area_values">&quot;Please enter a valid first user's email&quot;</SPAN>/&gt;
 &lt;/h:inputText&gt;
 &lt;h:inputText id=<SPAN class="code_area_values">&quot;i2&quot;</SPAN>&gt;
     &lt;o:validateEmail detail=<SPAN class="code_area_values">&quot;Please enter a valid second user's email&quot;</SPAN>/&gt;
 &lt;/h:inputText&gt;</PRE>

<H6><A name="ValidationFramework-MessageParam"></A>MessageParam</H6>

<P>The <SPAN class="attribute">MessageParam</SPAN> component allows you to specify parameters for validation messages within any OpenFaces validator.<BR>
Tag: <SPAN class="tag">&lt;o:messageParam&gt;</SPAN>. Should be embedded into the validator's tag.</P>

<P>Attributes:</P>
<TABLE class="Table"><TBODY>
<TR>
<TH scope="col"> Name </TH>
<TH scope="col"> Type </TH>
<TH scope="col"> EL support </TH>
<TH scope="col"> Default value </TH>
<TH scope="col"> Description </TH>
</TR>
<TR>
<TD> <SPAN class="attribute">value</SPAN> </TD>
<TD> String </TD>
<TD> yes </TD>
<TD> <SPAN class="code_area_values">null</SPAN> </TD>
<TD> A string that will be used as a parameter for formatting validator or converter messages. </TD>
</TR>
</TBODY></TABLE>
<P>For example, if you have several input components with e-mail addresses, you can use a clearer message than the standard ones.<BR>
Message bundle:</P>
<PRE class="code_area">org.openfaces.EMailValidatorMessage = E-mail Validator Error
org.openfaces.EMailValidatorMessage_detail = Please enter a valid \{1\} e-mail</PRE>
<P>Page:</P>
<PRE class="code_area">&lt;h:inputText id=<SPAN class="code_area_values">&quot;i1&quot;</SPAN>&gt;
  &lt;o:validateEmail&gt;
    &lt;o:messageParam value=<SPAN class="code_area_values">&quot;first user's&quot;</SPAN> /&gt;
  &lt;/o:validateEmail&gt;
&lt;/h:inputText&gt;
&lt;h:inputText id=<SPAN class="code_area_values">&quot;i2&quot;</SPAN>&gt;
  &lt;o:validateEmail&gt;
    &lt;o:messageParam value=<SPAN class="code_area_values">&quot;second user's&quot;</SPAN> /&gt;
  &lt;/o:validateEmail&gt;
&lt;/h:inputText&gt;</PRE>
<P>In this case, two parameters will be accessible during formatting of the messages. Standard {0} with the client-side id of the component (it will not be used in the particular example so there is no {0} in the message body) and the next parameter {1} whose value will be <EM>first user</EM> for the first field and <EM>second user</EM> for the next one. So the message detailed description will be <EM>Please enter a valid first user's email</EM> and <EM>Please enter a valid second user's email</EM> respectively. </P>

<H3><A name="ValidationFramework-OpenFacesMessageBundle"></A>OpenFaces Message Bundle</H3>

<P>Following the JavaServer Faces technology standard to access default messages via message bundles, the OpenFaces validation framework provides a message bundle (standard message.properties file ) with the following messages:</P>
<PRE class="code_area">org.openfaces.CustomValidatorMessage = Validation Error
org.openfaces.CustomValidatorMessage_detail = validation error in input ''{0}''
org.openfaces.RegexValidatorMessage = Regex Validator Error
org.openfaces.RegexValidatorMessage_detail = ''{0}'': does not match regex
org.openfaces.URLValidatorMessage = URL Validator Error
org.openfaces.URLValidatorMessage_detail = ''{0}'': not a valid URL
org.openfaces.EMailValidatorMessage = E-mail Validator Error
org.openfaces.EMailValidatorMessage_detail = ''{0}'': not a valid e-mail
org.openfaces.EqualValidatorMessage = Equal Validator Error
org.openfaces.EqualValidatorMessage_detail = ''{0}'' must be equal to the ''{1}''</PRE>
<P>Parameter values:<BR>
{0} - Client-side id of the component for which the message will be displayed in case of failed validation.<BR>
{1} - Client-side id of the second component (Equal validator only).</P>

<P>Each message can reference the predefined parameter storing the client-side id of the component for which the message will be displayed by &quot;{0}&quot;. (Equal validator has also a second parameter (&quot;{1}&quot;) referencing the second component.</P>

<P>You can change the messages by adding a new message bundle and registering it within the application settings section in web.xml. </P>

<H2><A name="ValidationFramework-AnnotationbasedValidation"></A>Annotation-based Validation</H2>

<P>The OpenFaces validation framework provides an alternative way to configure validation - using annotations. To enable annotation-based validation you have to enclose components to be validated within <SPAN class="attribute">&lt;o:validateAll&gt;</SPAN> tag. This tag will add server-side validators for child input components and client-side validators for supported annotations if client-side validation is enabled. See details below.</P>

<H3><A name="ValidationFramework-ServersideAnnotationbasedValidation"></A>Server-side Annotation-based Validation</H3>

<P>Server-side Annotation-based Validation supports all hibernate validator annotations and allows to define custom validator annotations by providing implementation of <A href="http://docs.jboss.org/hibernate/stable/validator/api/org/hibernate/validator/Validator.html" rel="nofollow">org.hibernate.validator.Validator</A> interface. Please refer Hibernate Validator documentation for <A href="http://docs.jboss.org/hibernate/stable/validator/reference/en/html_single/#validator-defineconstraints-builtin" rel="nofollow">a list of supported annotations</A> and on <A href="http://docs.jboss.org/hibernate/stable/validator/reference/en/html_single/#validator-defineconstraints-own" rel="nofollow">how to define your own validator</A>.</P>

<H3><A name="ValidationFramework-ClientsideAnnotationbasedValidation"></A>Client-side Annotation-based Validation</H3>

<P>This type of validation can be enabled by application-wide or form-wide client-side validation configuration. Per-component configuration is not supported yet. Please refer section <A href="#ValidationFramework-ConfiguringComponentsforClientSideValidation">Configuring Components for Client&#45;Side Validation</A> for details. List of supported annotations for client-side validation: <SPAN class="attribute">@NotNull</SPAN>, <SPAN class="attribute">@NotEmpty</SPAN>, <SPAN class="attribute">@Email</SPAN>, <SPAN class="attribute">@Length</SPAN>, <SPAN class="attribute">@Pattern</SPAN>, <SPAN class="attribute">@Range</SPAN>, <SPAN class="attribute">@Max</SPAN>, <SPAN class="attribute">@Min</SPAN>.</P>

<H3><A name="ValidationFramework-ValidateAllComponent"></A>ValidateAll Component</H3>

<P>The <SPAN class="attribute">ValidateAll</SPAN> component is a container that automatically adds annotation-based validators to all child input components. Currently it is almost the same to JBossSeam's <SPAN class="attribute">&lt;s:validateAll&gt;</SPAN> component but also provides client-side validation. It requires Hibernate annotations library to be available in classpath.</P>

<P>Tag: <SPAN class="tag">&lt;o:validateAll&gt;</SPAN></P>

<P>Example:</P>
<PRE class="code_area">...
&lt;o:validateAll&gt;	
    &lt;h:inputText id=<SPAN class="code_area_values">&quot;email&quot;</SPAN> value=<SPAN class="code_area_values">&quot;#{ValidateAllBean.email}&quot;</SPAN>/&gt;
    &lt;h:message id=<SPAN class="code_area_values">&quot;emailMessage&quot;</SPAN> <SPAN class="code-keyword">for</SPAN>=<SPAN class="code_area_values">&quot;email&quot;</SPAN> showSummary=<SPAN class="code_area_values">&quot;<SPAN class="code-keyword">true</SPAN>&quot;</SPAN> showDetail=<SPAN class="code_area_values">&quot;<SPAN class="code-keyword">false</SPAN>&quot;</SPAN>/&gt;&lt;br/&gt;

    &lt;o:dateChooser id=<SPAN class="code_area_values">&quot;registrationDate&quot;</SPAN> value=<SPAN class="code_area_values">&quot;#{ValidateAllBean.registrationDate}&quot;</SPAN> pattern=<SPAN class="code_area_values">&quot;dd/MM/yyyy&quot;</SPAN>/&gt;
    &lt;h:message id=<SPAN class="code_area_values">&quot;registrationDateMessage&quot;</SPAN> <SPAN class="code-keyword">for</SPAN>=<SPAN class="code_area_values">&quot;registrationDate&quot;</SPAN> showDetail=<SPAN class="code_area_values">&quot;<SPAN class="code-keyword">false</SPAN>&quot;</SPAN> showSummary=<SPAN class="code_area_values">&quot;<SPAN class="code-keyword">true</SPAN>&quot;</SPAN>/&gt;&lt;br/&gt;
&lt;o:validateAll&gt;	

&lt;h:commandButton value=<SPAN class="code_area_values">&quot;Submit&quot;</SPAN> id=<SPAN class="code_area_values">&quot;submit&quot;</SPAN>/&gt;
...</PRE>


<P>Here is an example of how the EditUserBean backing bean can be implemented:</P>

<PRE class="code_area"><SPAN class="code-keyword">public</SPAN> class EditUserBean{
  
    <SPAN class="code-keyword">private</SPAN> Date registrationDate;
    <SPAN class="code-keyword">private</SPAN> <SPAN class="code-object">String</SPAN> email;


    @Email
    <SPAN class="code-keyword">public</SPAN> <SPAN class="code-object">String</SPAN> getEmail() {
        <SPAN class="code-keyword">return</SPAN> email;
    }

    <SPAN class="code-keyword">public</SPAN> void setEmail(<SPAN class="code-object">String</SPAN> email) {
        <SPAN class="code-keyword">this</SPAN>.email = email;
    }

    @Past
    <SPAN class="code-keyword">public</SPAN> Date getRegistrationDate() {
        <SPAN class="code-keyword">return</SPAN> registrationDate;
    }

    <SPAN class="code-keyword">public</SPAN> void setRegistrationDate(Date registrationDate) {
        <SPAN class="code-keyword">this</SPAN>.registrationDate = registrationDate;
    }
}</PRE>
    </TD>

  </TR>

  <TR>
    <TD height="50" align="left" class="copyright" style="border-top:1px solid #CCCCCC;">&copy; 2010 <A href="http://www.teamdev.com/">TeamDev Ltd</A>.</TD>
    <TD height="50" align="right" style="border-top:1px solid #CCCCCC;"><A style="border-bottom: none;" href="http://www.openfaces.org"><IMG src="images/logo.gif" alt="OpenFaces" width="124" height="28" border="0"></A></TD>
  </TR>
</TABLE>
</BODY>

</HTML>
